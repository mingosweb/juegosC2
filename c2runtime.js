// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,da,K,fa,ga,ha,P,ka,la,ma,oa,pa,Q,sa,ta,va,wa,xa,ya,za,S,Aa,Ba,Ca,Da,T,Ea,Fa,Ga,Ia,Ja,Ka,La,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,U,Zb,$b={},ac={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(n){return n.__proto__}:function(n){return n.constructor.prototype});
(function(){function n(e,p,a,r){this.set(e,p,a,r)}function m(){this.pc=this.oc=this.rc=this.qc=this.Mc=this.Lc=this.Jc=this.Ic=0}function h(e,p,a,r){e<p?a<r?(x=e<a?e:a,C=p>r?p:r):(x=e<r?e:r,C=p>a?p:a):a<r?(x=p<a?p:a,C=e>r?e:r):(x=p<r?p:r,C=e>a?e:a)}function t(){this.items=this.Ec=null;this.Wf=0;y&&(this.Ec=new Set);this.qf=[];this.xd=!0}function u(e){B[A++]=e}function d(){this.U=this.ai=this.y=this.ti=0}function b(e){this.ff=[];this.Yk=this.$k=this.al=this.Zk=0;this.xg(e)}function c(e,p){this.Ai=
e;this.yi=p;this.cells={}}function g(e,p){this.Ai=e;this.yi=p;this.cells={}}function l(e,p,a){var r;return Y.length?(r=Y.pop(),r.gj=e,r.x=p,r.y=a,r):new aa(e,p,a)}function a(e,p,a){this.gj=e;this.x=p;this.y=a;this.Aa=new ba}function k(e,p,a){var r;return Z.length?(r=Z.pop(),r.gj=e,r.x=p,r.y=a,r):new da(e,p,a)}function q(e,p,a){this.gj=e;this.x=p;this.y=a;this.Aa=[];this.Ue=!0;this.Cc=new ba;this.uf=!1}function f(e,p){return e.lc-p.lc}K=function(e){window.console&&window.console.log&&window.console.log(e)};
fa=function(e){window.console&&window.console.error&&window.console.error(e)};ga=function(e){return"undefined"===typeof e};ha=function(e){return"number"===typeof e};P=function(e){return"string"===typeof e};ka=function(e){return 0<e&&0===(e-1&e)};la=function(e){--e;for(var p=1;32>p;p<<=1)e=e|e>>p;return e+1};ma=function(e){return 0>e?-e:e};oa=function(e,p){return e<p?e:p};pa=Math.PI;Q=function(e){return 0<=e?e|0:(e|0)-1};sa=function(e){var p=e|0;return p===e?p:p+1};ta=function(e,p,a,r,b,w,k,c){var f,
d,B,y;e<a?(d=e,f=a):(d=a,f=e);b<k?(y=b,B=k):(y=k,B=b);if(f<y||d>B)return!1;p<r?(d=p,f=r):(d=r,f=p);w<c?(y=w,B=c):(y=c,B=w);if(f<y||d>B)return!1;f=b-e+k-a;d=w-p+c-r;e=a-e;p=r-p;b=k-b;w=c-w;c=ma(p*b-w*e);return ma(b*d-w*f)>c?!1:ma(e*d-p*f)<=c};n.prototype.set=function(e,p,a,r){this.left=e;this.top=p;this.right=a;this.bottom=r};n.prototype.Qg=function(e){this.left=e.left;this.top=e.top;this.right=e.right;this.bottom=e.bottom};n.prototype.width=function(){return this.right-this.left};n.prototype.height=
function(){return this.bottom-this.top};n.prototype.offset=function(e,p){this.left+=e;this.top+=p;this.right+=e;this.bottom+=p;return this};n.prototype.normalize=function(){var e=0;this.left>this.right&&(e=this.left,this.left=this.right,this.right=e);this.top>this.bottom&&(e=this.top,this.top=this.bottom,this.bottom=e)};n.prototype.Db=function(e,p){return e>=this.left&&e<=this.right&&p>=this.top&&p<=this.bottom};n.prototype.Zg=function(e){return this.left===e.left&&this.top===e.top&&this.right===
e.right&&this.bottom===e.bottom};va=n;m.prototype.Wh=function(e){this.Ic=e.left;this.Jc=e.top;this.Lc=e.right;this.Mc=e.top;this.qc=e.right;this.rc=e.bottom;this.oc=e.left;this.pc=e.bottom};m.prototype.qn=function(e,p){if(0===p)this.Wh(e);else{var a=Math.sin(p),r=Math.cos(p),b=e.left*a,w=e.top*a,k=e.right*a,a=e.bottom*a,c=e.left*r,f=e.top*r,d=e.right*r,r=e.bottom*r;this.Ic=c-w;this.Jc=f+b;this.Lc=d-w;this.Mc=f+k;this.qc=d-a;this.rc=r+k;this.oc=c-a;this.pc=r+b}};m.prototype.offset=function(e,p){this.Ic+=
e;this.Jc+=p;this.Lc+=e;this.Mc+=p;this.qc+=e;this.rc+=p;this.oc+=e;this.pc+=p;return this};var x=0,C=0;m.prototype.cl=function(e){h(this.Ic,this.Lc,this.qc,this.oc);e.left=x;e.right=C;h(this.Jc,this.Mc,this.rc,this.pc);e.top=x;e.bottom=C};m.prototype.Db=function(e,p){var a=this.Ic,r=this.Jc,b=this.Lc-a,w=this.Mc-r,k=this.qc-a,c=this.rc-r,f=e-a,d=p-r,B=b*b+w*w,y=b*k+w*c,w=b*f+w*d,A=k*k+c*c,g=k*f+c*d,l=1/(B*A-y*y),b=(A*w-y*g)*l,B=(B*g-y*w)*l;if(0<=b&&0<B&&1>b+B)return!0;b=this.oc-a;w=this.pc-r;B=b*
b+w*w;y=b*k+w*c;w=b*f+w*d;l=1/(B*A-y*y);b=(A*w-y*g)*l;B=(B*g-y*w)*l;return 0<=b&&0<B&&1>b+B};wa=m;xa=function(e,p){for(var a in p)p.hasOwnProperty(a)&&(e[a]=p[a]);return e};ya=function(e,p){var a,r;p=Q(p);if(!(0>p||p>=e.length)){a=p;for(r=e.length-1;a<r;a++)e[a]=e[a+1];za(e,r)}};za=function(e,p){e.length=p};S=function(e){za(e,0)};Aa=function(e,p){S(e);var a,r;a=0;for(r=p.length;a<r;++a)e[a]=p[a]};Ba=function(e,p){e.push.apply(e,p)};Ca=function(e,p){var a,r;a=0;for(r=e.length;a<r;++a)if(e[a]===p)return a;
return-1};Da=function(e,p){var a=Ca(e,p);-1!==a&&ya(e,a)};T=function(e){return e/(180/pa)};Ea=function(e){return 180/pa*e};Fa=function(e){e%=360;0>e&&(e+=360);return e};Ga=function(e){e%=2*pa;0>e&&(e+=2*pa);return e};Ia=function(e){return Fa(Ea(e))};Ja=function(e){return Ga(T(e))};Ka=function(e,p,a,r){return Math.atan2(r-p,a-e)};La=function(e,p){if(e===p)return 0;var a=Math.sin(e),r=Math.cos(e),b=Math.sin(p),w=Math.cos(p),a=a*b+r*w;return 1<=a?0:-1>=a?pa:Math.acos(a)};Qa=function(e,p,a){var r=Math.sin(e),
b=Math.cos(e),w=Math.sin(p),k=Math.cos(p);return Math.acos(r*w+b*k)>a?0<b*w-r*k?Ga(e+a):Ga(e-a):Ga(p)};Ra=function(e,p){var a=Math.sin(e),r=Math.cos(e),b=Math.sin(p),w=Math.cos(p);return 0>=r*b-a*w};Sa=function(e,p,a,r,b,w){if(0===a)return w?e:p;var k=Math.sin(a);a=Math.cos(a);e-=r;p-=b;var c=e*k;e=e*a-p*k;p=p*a+c;return w?e+r:p+b};Ta=function(e,p,a,r){e=a-e;p=r-p;return Math.sqrt(e*e+p*p)};Ua=function(e,p){return!e!==!p};Va=function(e){for(var p in e)if(e.hasOwnProperty(p))return!0;return!1};Wa=
function(e){for(var p in e)e.hasOwnProperty(p)&&delete e[p]};var p=+new Date;Xa=function(){if("undefined"!==typeof window.performance){var e=window.performance;if("undefined"!==typeof e.now)return e.now();if("undefined"!==typeof e.webkitNow)return e.webkitNow();if("undefined"!==typeof e.mozNow)return e.mozNow();if("undefined"!==typeof e.msNow)return e.msNow()}return Date.now()-p};var e=!1,r=e=!1,w=!1;"undefined"!==typeof window&&(e=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),
e=!e&&/safari/i.test(navigator.userAgent),r=/(iphone|ipod|ipad)/i.test(navigator.userAgent),w=window.c2ejecta);var y=!e&&!w&&!r&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;t.prototype.contains=function(e){return this.$c()?!1:y?this.Ec.has(e):this.items&&this.items.hasOwnProperty(e)};t.prototype.add=function(e){if(y)this.Ec.has(e)||(this.Ec.add(e),this.xd=!1);else{var p=e.toString(),a=this.items;a?a.hasOwnProperty(p)||(a[p]=e,this.Wf++,this.xd=!1):(this.items={},this.items[p]=
e,this.Wf=1,this.xd=!1)}};t.prototype.remove=function(e){if(!this.$c())if(y)this.Ec.has(e)&&(this.Ec["delete"](e),this.xd=!1);else if(this.items){e=e.toString();var p=this.items;p.hasOwnProperty(e)&&(delete p[e],this.Wf--,this.xd=!1)}};t.prototype.clear=function(){this.$c()||(y?this.Ec.clear():(this.items=null,this.Wf=0),S(this.qf),this.xd=!0)};t.prototype.$c=function(){return 0===this.count()};t.prototype.count=function(){return y?this.Ec.size:this.Wf};var B=null,A=0;t.prototype.ds=function(){if(!this.xd){if(y)S(this.qf),
B=this.qf,A=0,this.Ec.forEach(u),B=null,A=0;else{var e=this.qf;S(e);var p,a=0,r=this.items;if(r)for(p in r)r.hasOwnProperty(p)&&(e[a++]=r[p])}this.xd=!0}};t.prototype.Sd=function(){this.ds();return this.qf};ba=t;new ba;Ya=function(e,p){y?Za(e,p.Ec):$a(e,p.Sd())};Za=function(e,p){var a,r,b,w;r=a=0;for(b=e.length;a<b;++a)w=e[a],p.has(w)||(e[r++]=w);za(e,r)};$a=function(e,p){var a,r,b,w;r=a=0;for(b=e.length;a<b;++a)w=e[a],-1===Ca(p,w)&&(e[r++]=w);za(e,r)};d.prototype.add=function(e){this.y=e-this.ti;
this.ai=this.U+this.y;this.ti=this.ai-this.U-this.y;this.U=this.ai};d.prototype.reset=function(){this.U=this.ai=this.y=this.ti=0};ab=d;bb=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};b.prototype.xg=function(e){this.an=e;this.Qh=e.length/2;this.ff.length=e.length;this.vi=this.wi=-1;this.fl=0};b.prototype.Vq=function(){return!this.an.length};b.prototype.Qa=function(){for(var e=this.ff,p=e[0],a=p,r=e[1],b=r,w,k,c=1,f=this.Qh;c<f;++c)k=2*c,w=e[k],k=e[k+1],w<p&&(p=w),w>a&&(a=w),k<r&&
(r=k),k>b&&(b=k);this.Zk=p;this.$k=a;this.al=r;this.Yk=b};b.prototype.Wh=function(e,p,a){this.ff.length=8;this.Qh=4;var r=this.ff;r[0]=e.left-p;r[1]=e.top-a;r[2]=e.right-p;r[3]=e.top-a;r[4]=e.right-p;r[5]=e.bottom-a;r[6]=e.left-p;r[7]=e.bottom-a;this.wi=e.right-e.left;this.vi=e.bottom-e.top;this.Qa()};b.prototype.Po=function(e,p,a){if(this.wi!==e||this.vi!==p||this.fl!==a){this.wi=e;this.vi=p;this.fl=a;var r,b,w,k,c,f=0,d=1,B=this.an,y=this.ff;0!==a&&(f=Math.sin(a),d=Math.cos(a));a=0;for(w=this.Qh;a<
w;a++)r=2*a,b=r+1,k=B[r]*e,c=B[b]*p,y[r]=k*d-c*f,y[b]=c*d+k*f;this.Qa()}};b.prototype.Db=function(e,p){var a=this.ff;if(e===a[0]&&p===a[1])return!0;var r,b,w,k=this.Qh,c=this.Zk-110,f=this.al-101,d=this.$k+131,B=this.Yk+120,y,A,g=0,l=0;for(r=0;r<k;r++)b=2*r,w=(r+1)%k*2,y=a[b],b=a[b+1],A=a[w],w=a[w+1],ta(c,f,e,p,y,b,A,w)&&g++,ta(d,B,e,p,y,b,A,w)&&l++;return 1===g%2||1===l%2};cb=b;c.prototype.Dd=function(e,p,a){var r;r=this.cells[e];return r?(r=r[p])?r:a?(r=l(this,e,p),this.cells[e][p]=r):null:a?(r=
l(this,e,p),this.cells[e]={},this.cells[e][p]=r):null};c.prototype.sb=function(e){return Q(e/this.Ai)};c.prototype.tb=function(e){return Q(e/this.yi)};c.prototype.update=function(e,p,a){var r,b,w,k,c;if(p)for(r=p.left,b=p.right;r<=b;++r)for(w=p.top,k=p.bottom;w<=k;++w)if(!a||!a.Db(r,w))if(c=this.Dd(r,w,!1))c.remove(e),c.$c()&&(c.Aa.clear(),1E3>Y.length&&Y.push(c),this.cells[r][w]=null);if(a)for(r=a.left,b=a.right;r<=b;++r)for(w=a.top,k=a.bottom;w<=k;++w)p&&p.Db(r,w)||this.Dd(r,w,!0).nj(e)};c.prototype.cn=
function(e,p){var a,r,w,b,k,c;a=this.sb(e.left);w=this.tb(e.top);r=this.sb(e.right);for(k=this.tb(e.bottom);a<=r;++a)for(b=w;b<=k;++b)(c=this.Dd(a,b,!1))&&c.dump(p)};db=c;g.prototype.Dd=function(e,p,a){var r;r=this.cells[e];return r?(r=r[p])?r:a?(r=k(this,e,p),this.cells[e][p]=r):null:a?(r=k(this,e,p),this.cells[e]={},this.cells[e][p]=r):null};g.prototype.sb=function(e){return Q(e/this.Ai)};g.prototype.tb=function(e){return Q(e/this.yi)};g.prototype.update=function(e,p,a){var r,w,b,k,c;if(p)for(r=
p.left,w=p.right;r<=w;++r)for(b=p.top,k=p.bottom;b<=k;++b)if(!a||!a.Db(r,b))if(c=this.Dd(r,b,!1))c.remove(e),c.$c()&&(c.reset(),1E3>Z.length&&Z.push(c),this.cells[r][b]=null);if(a)for(r=a.left,w=a.right;r<=w;++r)for(b=a.top,k=a.bottom;b<=k;++b)p&&p.Db(r,b)||this.Dd(r,b,!0).nj(e)};g.prototype.cn=function(e,p,a,r,b){var w,k;e=this.sb(e);p=this.tb(p);a=this.sb(a);for(w=this.tb(r);e<=a;++e)for(r=p;r<=w;++r)(k=this.Dd(e,r,!1))&&k.dump(b)};g.prototype.br=function(e){var p,a,r,b,w;p=e.left;r=e.top;a=e.right;
for(b=e.bottom;p<=a;++p)for(e=r;e<=b;++e)if(w=this.Dd(p,e,!1))w.Ue=!1};eb=g;var Y=[];a.prototype.$c=function(){return this.Aa.$c()};a.prototype.nj=function(e){this.Aa.add(e)};a.prototype.remove=function(e){this.Aa.remove(e)};a.prototype.dump=function(e){Ba(e,this.Aa.Sd())};aa=a;var Z=[];q.prototype.$c=function(){if(!this.Aa.length)return!0;if(this.Aa.length>this.Cc.count())return!1;this.Ti();return!0};q.prototype.nj=function(e){this.Cc.contains(e)?(this.Cc.remove(e),this.Cc.$c()&&(this.uf=!1)):this.Aa.length?
(this.Aa[this.Aa.length-1].wc()>e.wc()&&(this.Ue=!1),this.Aa.push(e)):(this.Aa.push(e),this.Ue=!0)};q.prototype.remove=function(e){this.Cc.add(e);this.uf=!0;30<=this.Cc.count()&&this.Ti()};q.prototype.Ti=function(){this.uf&&(this.Cc.count()===this.Aa.length?this.reset():(Ya(this.Aa,this.Cc),this.Cc.clear(),this.uf=!1))};q.prototype.wp=function(){this.Ue||(this.Aa.sort(f),this.Ue=!0)};q.prototype.reset=function(){S(this.Aa);this.Ue=!0;this.Cc.clear();this.uf=!1};q.prototype.dump=function(e){this.Ti();
this.wp();this.Aa.length&&e.push(this.Aa)};da=q;var z="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");fb=function(e){return 0>=e||11<=e?"source-over":z[e-1]};gb=function(e,p,a){if(a)switch(e.Pa=a.ONE,e.Ma=a.ONE_MINUS_SRC_ALPHA,p){case 1:e.Pa=a.ONE;e.Ma=a.ONE;break;case 3:e.Pa=a.ONE;e.Ma=a.ZERO;break;case 4:e.Pa=a.ONE_MINUS_DST_ALPHA;e.Ma=a.ONE;break;case 5:e.Pa=a.DST_ALPHA;e.Ma=a.ZERO;break;case 6:e.Pa=a.ZERO;e.Ma=a.SRC_ALPHA;
break;case 7:e.Pa=a.ONE_MINUS_DST_ALPHA;e.Ma=a.ZERO;break;case 8:e.Pa=a.ZERO;e.Ma=a.ONE_MINUS_SRC_ALPHA;break;case 9:e.Pa=a.DST_ALPHA;e.Ma=a.ONE_MINUS_SRC_ALPHA;break;case 10:e.Pa=a.ONE_MINUS_DST_ALPHA,e.Ma=a.SRC_ALPHA}};hb=function(e){return Math.round(1E6*e)/1E6};ib=function(e,p){return"string"!==typeof e||"string"!==typeof p||e.length!==p.length?!1:e===p?!0:e.toLowerCase()===p.toLowerCase()};jb=function(e){e=e.target;return!e||e===document||e===window||document&&document.body&&e===document.body||
ib(e.tagName,"canvas")?!0:!1}})();var bc="undefined"!==typeof Float32Array?Float32Array:Array;function cc(n){var m=new bc(3);n&&(m[0]=n[0],m[1]=n[1],m[2]=n[2]);return m}function dc(n){var m=new bc(16);n&&(m[0]=n[0],m[1]=n[1],m[2]=n[2],m[3]=n[3],m[4]=n[4],m[5]=n[5],m[6]=n[6],m[7]=n[7],m[8]=n[8],m[9]=n[9],m[10]=n[10],m[11]=n[11],m[12]=n[12],m[13]=n[13],m[14]=n[14],m[15]=n[15]);return m}
function ec(n,m){m[0]=n[0];m[1]=n[1];m[2]=n[2];m[3]=n[3];m[4]=n[4];m[5]=n[5];m[6]=n[6];m[7]=n[7];m[8]=n[8];m[9]=n[9];m[10]=n[10];m[11]=n[11];m[12]=n[12];m[13]=n[13];m[14]=n[14];m[15]=n[15]}function fc(n,m){var h=m[0],t=m[1];m=m[2];n[0]*=h;n[1]*=h;n[2]*=h;n[3]*=h;n[4]*=t;n[5]*=t;n[6]*=t;n[7]*=t;n[8]*=m;n[9]*=m;n[10]*=m;n[11]*=m}
function gc(n,m,h,t){t||(t=dc());var u,d,b,c,g,l,a,k,q=n[0],f=n[1];n=n[2];d=h[0];b=h[1];u=h[2];h=m[1];l=m[2];q===m[0]&&f===h&&n===l?(n=t,n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1):(h=q-m[0],l=f-m[1],a=n-m[2],k=1/Math.sqrt(h*h+l*l+a*a),h*=k,l*=k,a*=k,m=b*a-u*l,u=u*h-d*a,d=d*l-b*h,(k=Math.sqrt(m*m+u*u+d*d))?(k=1/k,m*=k,u*=k,d*=k):d=u=m=0,b=l*d-a*u,c=a*m-h*d,g=h*u-l*m,(k=Math.sqrt(b*b+c*c+g*g))?(k=1/k,b*=k,c*=k,g*=k):g=c=b=0,
t[0]=m,t[1]=b,t[2]=h,t[3]=0,t[4]=u,t[5]=c,t[6]=l,t[7]=0,t[8]=d,t[9]=g,t[10]=a,t[11]=0,t[12]=-(m*q+u*f+d*n),t[13]=-(b*q+c*f+g*n),t[14]=-(h*q+l*f+a*n),t[15]=1)}
(function(){function n(d){this.le=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.gl=cc([0,0,100]);this.fm=cc([0,0,0]);this.On=cc([0,1,0]);this.Ek=cc([1,1,1]);this.ol=!0;this.Gj=dc();this.Ob=dc();this.Wl=dc();this.Hi=dc();this.g=d;this.Kl()}function m(d,b,c){this.g=d;this.yg=b;this.name=c;this.Nb=d.getAttribLocation(b,"aPos");this.Hd=d.getAttribLocation(b,"aTex");this.dm=d.getUniformLocation(b,"matP");this.Dh=d.getUniformLocation(b,"matMV");this.Xe=
d.getUniformLocation(b,"opacity");this.em=d.getUniformLocation(b,"samplerFront");this.eg=d.getUniformLocation(b,"samplerBack");this.te=d.getUniformLocation(b,"destStart");this.se=d.getUniformLocation(b,"destEnd");this.Dj=d.getUniformLocation(b,"seconds");this.Cj=d.getUniformLocation(b,"pixelWidth");this.Bj=d.getUniformLocation(b,"pixelHeight");this.dg=d.getUniformLocation(b,"layerScale");this.bg=d.getUniformLocation(b,"layerAngle");this.gg=d.getUniformLocation(b,"viewOrigin");this.fg=d.getUniformLocation(b,
"scrollPos");this.Jq=!!(this.Cj||this.Bj||this.Dj||this.eg||this.te||this.se||this.dg||this.bg||this.gg||this.fg);this.nm=this.om=-999;this.Fh=1;this.jm=this.im=0;this.lm=this.hm=this.gm=1;this.qm=this.pm=this.tm=this.rm=this.km=0;this.yj=[];this.mm=dc();this.Xe&&d.uniform1f(this.Xe,1);this.em&&d.uniform1i(this.em,0);this.eg&&d.uniform1i(this.eg,1);this.te&&d.uniform2f(this.te,0,0);this.se&&d.uniform2f(this.se,1,1);this.dg&&d.uniform1f(this.dg,1);this.bg&&d.uniform1f(this.bg,0);this.gg&&d.uniform2f(this.gg,
0,0);this.fg&&d.uniform2f(this.fg,0,0);this.ie=!1}function h(d,b){this.type=d;this.q=b;this.g=b.g;this.xc=this.Sb=this.Lm=0;this.P=this.Ub=null;this.rn=[]}n.prototype.Kl=function(){var d=this.g,b;this.Xl=1;this.oe=this.ne=null;this.Ug=1;d.clearColor(0,0,0,0);d.clear(d.COLOR_BUFFER_BIT);d.enable(d.BLEND);d.blendFunc(d.ONE,d.ONE_MINUS_SRC_ALPHA);d.disable(d.CULL_FACE);d.disable(d.DEPTH_TEST);this.Yl=d.ONE;this.Vl=d.ONE_MINUS_SRC_ALPHA;this.ji=new Float32Array(16E3);this.ci=new Float32Array(16E3);this.Wm=
new Float32Array(32E3);this.Wj=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,this.Wj);d.bufferData(d.ARRAY_BUFFER,this.Wm.byteLength,d.DYNAMIC_DRAW);this.Ig=Array(4);this.Dg=Array(4);for(b=0;4>b;b++)this.Ig[b]=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,this.Ig[b]),d.bufferData(d.ARRAY_BUFFER,this.ji.byteLength,d.DYNAMIC_DRAW),this.Dg[b]=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,this.Dg[b]),d.bufferData(d.ARRAY_BUFFER,this.ci.byteLength,d.DYNAMIC_DRAW);this.Rc=0;this.Mq=d.createBuffer();d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.Mq);for(var c=new Uint16Array(12E3),g=b=0;12E3>b;)c[b++]=g,c[b++]=g+1,c[b++]=g+2,c[b++]=g,c[b++]=g+2,c[b++]=g+3,g+=4;d.bufferData(d.ELEMENT_ARRAY_BUFFER,c,d.STATIC_DRAW);this.Xj=this.Nc=0;this.wa=[];b=this.Gi({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",
"<default>");this.wa.push(b);b=this.Gi({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.wa.push(b);for(var l in hc)hc.hasOwnProperty(l)&&
this.wa.push(this.Gi(hc[l],"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",l));d.activeTexture(d.TEXTURE0);d.bindTexture(d.TEXTURE_2D,null);this.wd=[];this.Qc=0;this.hb=!1;this.ml=this.Xf=-1;this.Df=null;this.$p=d.createFramebuffer();this.gn=null;this.Pd=cc([0,0,0]);this.um=d.getParameter(d.ALIASED_POINT_SIZE_RANGE)[1];
2048<this.um&&(this.um=2048);this.Gc(0)};m.prototype.yk=function(d){var b=this.mm;if(b[0]!==d[0]||b[1]!==d[1]||b[2]!==d[2]||b[3]!==d[3]||b[4]!==d[4]||b[5]!==d[5]||b[6]!==d[6]||b[7]!==d[7]||b[8]!==d[8]||b[9]!==d[9]||b[10]!==d[10]||b[11]!==d[11]||b[12]!==d[12]||b[13]!==d[13]||b[14]!==d[14]||b[15]!==d[15])ec(d,this.mm),this.g.uniformMatrix4fv(this.Dh,!1,d)};n.prototype.Gi=function(d,b,c){var g=this.g,l=g.createShader(g.FRAGMENT_SHADER);g.shaderSource(l,d.src);g.compileShader(l);if(!g.getShaderParameter(l,
g.COMPILE_STATUS))return g.deleteShader(l),null;var a=g.createShader(g.VERTEX_SHADER);g.shaderSource(a,b);g.compileShader(a);if(!g.getShaderParameter(a,g.COMPILE_STATUS))return g.deleteShader(l),g.deleteShader(a),null;b=g.createProgram();g.attachShader(b,l);g.attachShader(b,a);g.linkProgram(b);if(!g.getProgramParameter(b,g.LINK_STATUS))return g.deleteShader(l),g.deleteShader(a),g.deleteProgram(b),null;g.useProgram(b);g.deleteShader(l);g.deleteShader(a);c=new m(g,b,c);c.Pi=d.Pi||0;c.Qi=d.Qi||0;c.ll=
!!d.ll;c.Tk=!!d.Tk;c.D=d.D||[];d=0;for(l=c.D.length;d<l;d++)c.D[d][1]=g.getUniformLocation(b,c.D[d][0]),c.yj.push(0),g.uniform1f(c.D[d][1],0);return c};n.prototype.dj=function(d){var b,c;b=0;for(c=this.wa.length;b<c;b++)if(this.wa[b].name===d)return b;return-1};n.prototype.$m=function(d,b,c){var g=this.Ob,l=this.Gj,a=[0,0,0,0,0,0,0,0];a[0]=g[0]*d+g[4]*b+g[12];a[1]=g[1]*d+g[5]*b+g[13];a[2]=g[2]*d+g[6]*b+g[14];a[3]=g[3]*d+g[7]*b+g[15];a[4]=l[0]*a[0]+l[4]*a[1]+l[8]*a[2]+l[12]*a[3];a[5]=l[1]*a[0]+l[5]*
a[1]+l[9]*a[2]+l[13]*a[3];a[6]=l[2]*a[0]+l[6]*a[1]+l[10]*a[2]+l[14]*a[3];a[7]=-a[2];0!==a[7]&&(a[7]=1/a[7],a[4]*=a[7],a[5]*=a[7],a[6]*=a[7],c[0]=(.5*a[4]+.5)*this.width,c[1]=(.5*a[5]+.5)*this.height)};n.prototype.kf=function(d,b,c){if(this.width!==d||this.height!==b||c){this.de();this.width=d;this.height=b;this.g.viewport(0,0,d,b);b=d/b;var g=this.Gj,l;l=1*Math.tan(45*Math.PI/360);b*=l;d=-b;c=-l;g||(g=dc());var a=b-d,k=l-c;g[0]=2/a;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2/k;g[6]=0;g[7]=0;g[8]=(b+d)/a;g[9]=
(l+c)/k;g[10]=-1001/999;g[11]=-1;g[12]=0;g[13]=0;g[14]=-2E3/999;g[15]=0;gc(this.gl,this.fm,this.On,this.Ob);d=[0,0];b=[0,0];this.$m(0,0,d);this.$m(1,1,b);this.Ek[0]=1/(b[0]-d[0]);this.Ek[1]=-1/(b[1]-d[1]);d=0;for(b=this.wa.length;d<b;d++)c=this.wa[d],c.ie=!1,c.dm&&(this.g.useProgram(c.yg),this.g.uniformMatrix4fv(c.dm,!1,this.Gj));this.g.useProgram(this.wa[this.Xf].yg);this.g.bindTexture(this.g.TEXTURE_2D,null);this.g.activeTexture(this.g.TEXTURE1);this.g.bindTexture(this.g.TEXTURE_2D,null);this.g.activeTexture(this.g.TEXTURE0);
this.oe=this.ne=null}};n.prototype.Kd=function(){gc(this.gl,this.fm,this.On,this.Ob);fc(this.Ob,this.Ek)};n.prototype.translate=function(d,b){if(0!==d||0!==b){this.Pd[0]=d;this.Pd[1]=b;this.Pd[2]=0;var c=this.Ob,g=this.Pd,l=g[0],a=g[1],g=g[2];c[12]=c[0]*l+c[4]*a+c[8]*g+c[12];c[13]=c[1]*l+c[5]*a+c[9]*g+c[13];c[14]=c[2]*l+c[6]*a+c[10]*g+c[14];c[15]=c[3]*l+c[7]*a+c[11]*g+c[15]}};n.prototype.scale=function(d,b){if(1!==d||1!==b)this.Pd[0]=d,this.Pd[1]=b,this.Pd[2]=1,fc(this.Ob,this.Pd)};n.prototype.hn=
function(d){if(0!==d){var b=this.Ob,c,g=Math.sin(d);d=Math.cos(d);var l=b[0],a=b[1],k=b[2],q=b[3],f=b[4],x=b[5],h=b[6],p=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=l*d+f*g;c[1]=a*d+x*g;c[2]=k*d+h*g;c[3]=q*d+p*g;c[4]=l*-g+f*d;c[5]=a*-g+x*d;c[6]=k*-g+h*d;c[7]=q*-g+p*d}};n.prototype.Rd=function(){for(var d=!1,b=0;16>b;b++)if(this.Wl[b]!==this.Ob[b]){d=!0;break}d&&(d=this.jc(),d.type=5,d.P?ec(this.Ob,d.P):d.P=dc(this.Ob),ec(this.Ob,
this.Wl),this.hb=!1)};h.prototype.mp=function(){this.g.bindTexture(this.g.TEXTURE_2D,this.Ub)};h.prototype.np=function(){var d=this.g;d.activeTexture(d.TEXTURE1);d.bindTexture(d.TEXTURE_2D,this.Ub);d.activeTexture(d.TEXTURE0)};h.prototype.jp=function(){var d=this.Lm,b=this.q;b.Ug=d;b=b.Df;b.Xe&&b.Fh!==d&&(b.Fh=d,this.g.uniform1f(b.Xe,d))};h.prototype.gp=function(){this.g.drawElements(this.g.TRIANGLES,this.xc,this.g.UNSIGNED_SHORT,2*this.Sb)};h.prototype.ip=function(){this.g.blendFunc(this.Sb,this.xc)};
h.prototype.op=function(){var d,b,c,g=this.q.wa,l=this.q.ml;d=0;for(b=g.length;d<b;d++)c=g[d],d===l&&c.Dh?(c.yk(this.P),c.ie=!0):c.ie=!1;ec(this.P,this.q.Hi)};h.prototype.hp=function(){var d=this.g,b=this.q;this.Ub?(b.oe===this.Ub&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,null),b.oe=null,d.activeTexture(d.TEXTURE0)),d.bindFramebuffer(d.FRAMEBUFFER,b.$p),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,this.Ub,0)):(d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,
d.TEXTURE_2D,null,0),d.bindFramebuffer(d.FRAMEBUFFER,null))};h.prototype.ep=function(){var d=this.g;0===this.Sb?(d.clearColor(this.P[0],this.P[1],this.P[2],this.P[3]),d.clear(d.COLOR_BUFFER_BIT)):(d.enable(d.SCISSOR_TEST),d.scissor(this.P[0],this.P[1],this.P[2],this.P[3]),d.clearColor(0,0,0,0),d.clear(this.g.COLOR_BUFFER_BIT),d.disable(d.SCISSOR_TEST))};h.prototype.fp=function(){var d=this.g,b=this.q,c=b.wa[1];d.useProgram(c.yg);!c.ie&&c.Dh&&(c.yk(b.Hi),c.ie=!0);d.enableVertexAttribArray(c.Nb);d.bindBuffer(d.ARRAY_BUFFER,
b.Wj);d.vertexAttribPointer(c.Nb,4,d.FLOAT,!1,0,0);d.drawArrays(d.POINTS,this.Sb/4,this.xc);c=b.Df;d.useProgram(c.yg);0<=c.Nb&&(d.enableVertexAttribArray(c.Nb),d.bindBuffer(d.ARRAY_BUFFER,b.Ig[b.Rc]),d.vertexAttribPointer(c.Nb,2,d.FLOAT,!1,0,0));0<=c.Hd&&(d.enableVertexAttribArray(c.Hd),d.bindBuffer(d.ARRAY_BUFFER,b.Dg[b.Rc]),d.vertexAttribPointer(c.Hd,2,d.FLOAT,!1,0,0))};h.prototype.kp=function(){var d=this.g,b=this.q,c=b.wa[this.Sb];b.ml=this.Sb;b.Df=c;d.useProgram(c.yg);!c.ie&&c.Dh&&(c.yk(b.Hi),
c.ie=!0);c.Xe&&c.Fh!==b.Ug&&(c.Fh=b.Ug,d.uniform1f(c.Xe,b.Ug));0<=c.Nb&&(d.enableVertexAttribArray(c.Nb),d.bindBuffer(d.ARRAY_BUFFER,b.Ig[b.Rc]),d.vertexAttribPointer(c.Nb,2,d.FLOAT,!1,0,0));0<=c.Hd&&(d.enableVertexAttribArray(c.Hd),d.bindBuffer(d.ARRAY_BUFFER,b.Dg[b.Rc]),d.vertexAttribPointer(c.Hd,2,d.FLOAT,!1,0,0))};h.prototype.lp=function(){var d,b,c=this.q.Df,g=this.g;d=this.P;c.eg&&this.q.oe!==this.Ub&&(g.activeTexture(g.TEXTURE1),g.bindTexture(g.TEXTURE_2D,this.Ub),this.q.oe=this.Ub,g.activeTexture(g.TEXTURE0));
var l=d[0];c.Cj&&l!==c.om&&(c.om=l,g.uniform1f(c.Cj,l));l=d[1];c.Bj&&l!==c.nm&&(c.nm=l,g.uniform1f(c.Bj,l));l=d[2];b=d[3];!c.te||l===c.im&&b===c.jm||(c.im=l,c.jm=b,g.uniform2f(c.te,l,b));l=d[4];b=d[5];!c.se||l===c.gm&&b===c.hm||(c.gm=l,c.hm=l,g.uniform2f(c.se,l,b));l=d[6];c.dg&&l!==c.lm&&(c.lm=l,g.uniform1f(c.dg,l));l=d[7];c.bg&&l!==c.km&&(c.km=l,g.uniform1f(c.bg,l));l=d[8];b=d[9];!c.gg||l===c.rm&&b===c.tm||(c.rm=l,c.tm=b,g.uniform2f(c.gg,l,b));l=d[10];b=d[11];!c.fg||l===c.pm&&b===c.qm||(c.pm=l,c.qm=
b,g.uniform2f(c.fg,l,b));c.Dj&&g.uniform1f(c.Dj,Xa()/1E3);if(c.D.length)for(d=0,b=c.D.length;d<b;d++)l=this.rn[d],l!==c.yj[d]&&(c.yj[d]=l,g.uniform1f(c.D[d][1],l))};n.prototype.jc=function(){this.Qc===this.wd.length&&this.wd.push(new h(0,this));return this.wd[this.Qc++]};n.prototype.de=function(){if(0!==this.Qc&&!this.g.isContextLost()){var d=this.g;0<this.Xj&&(d.bindBuffer(d.ARRAY_BUFFER,this.Wj),d.bufferSubData(d.ARRAY_BUFFER,0,this.Wm.subarray(0,this.Xj)),b&&0<=b.Nb&&"<point>"===b.name&&d.vertexAttribPointer(b.Nb,
4,d.FLOAT,!1,0,0));if(0<this.Nc){var b=this.Df;d.bindBuffer(d.ARRAY_BUFFER,this.Ig[this.Rc]);d.bufferSubData(d.ARRAY_BUFFER,0,this.ji.subarray(0,this.Nc));b&&0<=b.Nb&&"<point>"!==b.name&&d.vertexAttribPointer(b.Nb,2,d.FLOAT,!1,0,0);d.bindBuffer(d.ARRAY_BUFFER,this.Dg[this.Rc]);d.bufferSubData(d.ARRAY_BUFFER,0,this.ci.subarray(0,this.Nc));b&&0<=b.Hd&&"<point>"!==b.name&&d.vertexAttribPointer(b.Hd,2,d.FLOAT,!1,0,0)}for(var c,d=0,b=this.Qc;d<b;d++)switch(c=this.wd[d],c.type){case 1:c.gp();break;case 2:c.mp();
break;case 3:c.jp();break;case 4:c.ip();break;case 5:c.op();break;case 6:c.hp();break;case 7:c.ep();break;case 8:c.fp();break;case 9:c.kp();break;case 10:c.lp();break;case 11:c.np()}this.Xj=this.Nc=this.Qc=0;this.hb=!1;this.Rc++;4<=this.Rc&&(this.Rc=0)}};n.prototype.vg=function(d){if(d!==this.Xl){var b=this.jc();b.type=3;this.Xl=b.Lm=d;this.hb=!1}};n.prototype.Rb=function(d){if(d!==this.ne){var b=this.jc();b.type=2;this.ne=b.Ub=d;this.hb=!1}};n.prototype.Ld=function(d,b){if(d!==this.Yl||b!==this.Vl){var c=
this.jc();c.type=4;c.Sb=d;c.xc=b;this.Yl=d;this.Vl=b;this.hb=!1}};n.prototype.mn=function(){this.Ld(this.g.ONE,this.g.ONE_MINUS_SRC_ALPHA)};n.prototype.Rh=function(d,b,c,g,l,a,k,q){15992<=this.Nc&&this.de();var f=this.Nc,x=this.ji,h=this.ci;if(this.hb)this.wd[this.Qc-1].xc+=6;else{var p=this.jc();p.type=1;p.Sb=f/4*3;p.xc=6;this.hb=!0}x[f]=d;h[f++]=0;x[f]=b;h[f++]=0;x[f]=c;h[f++]=1;x[f]=g;h[f++]=0;x[f]=l;h[f++]=1;x[f]=a;h[f++]=1;x[f]=k;h[f++]=0;x[f]=q;h[f++]=1;this.Nc=f};n.prototype.xe=function(d,
b,c,g,l,a,k,q,f){15992<=this.Nc&&this.de();var x=this.Nc,h=this.ji,p=this.ci;if(this.hb)this.wd[this.Qc-1].xc+=6;else{var e=this.jc();e.type=1;e.Sb=x/4*3;e.xc=6;this.hb=!0}var e=f.left,r=f.top,w=f.right;f=f.bottom;h[x]=d;p[x++]=e;h[x]=b;p[x++]=r;h[x]=c;p[x++]=w;h[x]=g;p[x++]=r;h[x]=l;p[x++]=w;h[x]=a;p[x++]=f;h[x]=k;p[x++]=e;h[x]=q;p[x++]=f;this.Nc=x};n.prototype.Gc=function(d){if(this.Xf!==d){if(!this.wa[d]){if(0===this.Xf)return;d=0}var b=this.jc();b.type=9;this.Xf=b.Sb=d;this.hb=!1}};n.prototype.rg=
function(d){d=this.wa[d];return!(!d.te&&!d.se)};n.prototype.Yj=function(d){d=this.wa[d];return!!(d.te||d.se||d.ll)};n.prototype.Ar=function(d){d=this.wa[d];return 0!==d.Pi||0!==d.Qi};n.prototype.qq=function(d){return this.wa[d].Pi};n.prototype.rq=function(d){return this.wa[d].Qi};n.prototype.sq=function(d,b){return this.wa[d].D[b][2]};n.prototype.Ph=function(d){return this.wa[d].Tk};n.prototype.jf=function(d,b,c,g,l,a,k,q,f,h,C,p,e,r){var w=this.wa[this.Xf],y,B;if(w.Jq||r.length){y=this.jc();y.type=
10;y.P?ec(this.Ob,y.P):y.P=dc();B=y.P;B[0]=b;B[1]=c;B[2]=g;B[3]=l;B[4]=a;B[5]=k;B[6]=q;B[7]=f;B[8]=h;B[9]=C;B[10]=p;B[11]=e;w.eg?y.Ub=d:y.Ub=null;if(r.length)for(c=y.rn,c.length=r.length,d=0,b=r.length;d<b;d++)c[d]=r[d];this.hb=!1}};n.prototype.clear=function(d,b,c,g){var l=this.jc();l.type=7;l.Sb=0;l.P||(l.P=dc());l.P[0]=d;l.P[1]=b;l.P[2]=c;l.P[3]=g;this.hb=!1};n.prototype.clearRect=function(d,b,c,g){if(!(0>c||0>g)){var l=this.jc();l.type=7;l.Sb=1;l.P||(l.P=dc());l.P[0]=d;l.P[1]=b;l.P[2]=c;l.P[3]=
g;this.hb=!1}};n.prototype.yr=function(){this.de();this.g.flush()};var t=[],u={};n.prototype.To=function(){t.length=0;u={}};n.prototype.cm=function(d,b,c){var g;g=!1;b=!!b;var l=d.src+","+g+","+b+(g?",undefined":""),a=null;if("undefined"!==typeof d.src&&u.hasOwnProperty(l))return a=u[l],a.Ng++,a;this.de();var k=this.g,q=ka(d.width)&&ka(d.height),a=k.createTexture();k.bindTexture(k.TEXTURE_2D,a);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var f=k.RGBA,h=k.RGBA,C=k.UNSIGNED_BYTE;if(c&&!this.le)switch(c){case 1:h=
f=k.RGB;break;case 2:C=k.UNSIGNED_SHORT_4_4_4_4;break;case 3:C=k.UNSIGNED_SHORT_5_5_5_1;break;case 4:h=f=k.RGB,C=k.UNSIGNED_SHORT_5_6_5}if(!q&&g){c=document.createElement("canvas");c.width=la(d.width);c.height=la(d.height);var p=c.getContext("2d");p.webkitImageSmoothingEnabled=b;p.mozImageSmoothingEnabled=b;p.msImageSmoothingEnabled=b;p.imageSmoothingEnabled=b;p.drawImage(d,0,0,d.width,d.height,0,0,c.width,c.height);k.texImage2D(k.TEXTURE_2D,0,f,h,C,c)}else k.texImage2D(k.TEXTURE_2D,0,f,h,C,d);g?
(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));b?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR),q&&this.ol?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR_MIPMAP_LINEAR),k.generateMipmap(k.TEXTURE_2D)):k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR)):(k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_MAG_FILTER,k.NEAREST),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST));k.bindTexture(k.TEXTURE_2D,null);this.ne=null;a.yf=d.width;a.xf=d.height;a.Ng=1;a.el=l;t.push(a);return u[l]=a};n.prototype.zd=function(d,b,c){var g;this.de();var l=this.g;this.le&&(g=!1);var a=l.createTexture();l.bindTexture(l.TEXTURE_2D,a);l.texImage2D(l.TEXTURE_2D,0,l.RGBA,d,b,0,l.RGBA,g?l.UNSIGNED_SHORT_4_4_4_4:l.UNSIGNED_BYTE,null);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE);l.texParameteri(l.TEXTURE_2D,
l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,c?l.LINEAR:l.NEAREST);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,c?l.LINEAR:l.NEAREST);l.bindTexture(l.TEXTURE_2D,null);this.ne=null;a.yf=d;a.xf=b;t.push(a);return a};n.prototype.deleteTexture=function(d){d&&("undefined"!==typeof d.Ng&&1<d.Ng?d.Ng--:(this.de(),d===this.ne&&(this.g.bindTexture(this.g.TEXTURE_2D,null),this.ne=null),d===this.oe&&(this.g.activeTexture(this.g.TEXTURE1),this.g.bindTexture(this.g.TEXTURE_2D,
null),this.g.activeTexture(this.g.TEXTURE0),this.oe=null),Da(t,d),"undefined"!==typeof d.el&&delete u[d.el],this.g.deleteTexture(d)))};n.prototype.Fc=function(d){if(d!==this.gn){var b=this.jc();b.type=6;this.gn=b.Ub=d;this.hb=!1}};kb=n})();
(function(){function n(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function m(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function h(p){if(p&&(p.getContext||p.dc)&&!p.c2runtime){p.c2runtime=this;var e=this;this.Kb=(this.Qf=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Na=!!p.dc;this.Ne="undefined"!==typeof window.AppMobi||this.Na;this.Jb=!!window.c2cocoonjs;this.ec=!!window.c2ejecta;this.Jb&&(CocoonJS.App.onSuspended.addEventListener(function(){e.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){e.setSuspended(!1)}));this.ec&&(document.addEventListener("pagehide",function(){e.setSuspended(!0)}),document.addEventListener("pageshow",
function(){e.setSuspended(!1)}),document.addEventListener("resize",function(){e.setSize(window.innerWidth,window.innerHeight)}));this.da=this.Na||this.Jb||this.ec;this.le=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.Ql=/tizen/i.test(navigator.userAgent);this.nh=/android/i.test(navigator.userAgent)&&!this.Ql&&!this.le;this.wj=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.le;this.Ul=/ipad/i.test(navigator.userAgent);this.Vf=this.wj||this.Ul||this.ec;this.Wq=this.wj&&/os\s6/i.test(navigator.userAgent);this.Pf=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.le;this.qj=/amazonwebappplatform/i.test(navigator.userAgent);this.Pq=/firefox/i.test(navigator.userAgent);this.Pl=/safari/i.test(navigator.userAgent)&&!this.Pf&&!this.le;this.Sq=/windows/i.test(navigator.userAgent);this.Fd="undefined"!==typeof window.c2nodewebkit||"undefined"!==
typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Sl=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Uq=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Re=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.uj=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Rl=this.Sl||this.Uq||this.uj;this.Oq=!("undefined"===typeof window.c2isBlackberry10||
!window.c2isBlackberry10);this.oh=this.nh&&!this.Pf&&!this.Qf&&!this.Pq&&!this.qj&&!this.da;this.devicePixelRatio=1;this.Oe=this.Kb||this.Qf||this.Ne||this.Jb||this.nh||this.Vf||this.Re||this.uj||this.Oq||this.Ql||this.ec;this.Oe||(this.Oe=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.Fd||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||
(this.Fd=!0);this.canvas=p;this.hl=document.getElementById("c2canvasdiv");this.R=this.q=this.g=null;this.Wi="";this.eh=!1;this.Dm=this.Em=0;this.canvas.oncontextmenu=function(e){e.preventDefault&&e.preventDefault();return!1};this.canvas.onselectstart=function(e){e.preventDefault&&e.preventDefault();return!1};this.Na&&(window.c2runtime=this);this.Fd&&(window.ondragover=function(e){e.preventDefault();return!1},window.ondrop=function(e){e.preventDefault();return!1},require("nw.gui").App.clearCache());
this.oh&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=p.width;this.height=p.height;this.G=this.width;this.F=this.height;this.Sg=this.width;this.Rg=this.height;this.Zf=window.innerWidth;this.Yf=window.innerHeight;this.bq=!1;this.V=!0;this.Sf=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.i=[];this.ka=[];this.Aj={};this.hc=[];this.Oi={};this.Vc=[];this.sf=[];this.gi=[];this.Io=[];this.Jo=[];this.Zd={};this.rj=
this.Ed=!1;this.fc=0;this.tj=!1;this.tc=[];this.ad=this.Oa=this.yh=this.kk="";this.Bg=this.un=!1;this.Fi=this.hg=this.Bd=this.be=0;this.nf=1;this.Lb=new ab;this.nd=new ab;this.Ih=this.fh=this.ah=this.Eg=this.qe=this.Vi=this.vh=0;this.Di=null;this.Li=[];this.Ni=[];this.$g=-1;this.Ej=[[]];this.vk=this.Eh=0;this.$j(null);this.Ff=this.ym=this.kg=0;this.Cg=[];this.sk=this.ak=-1;this.rh=!0;this.Ch=0;this.Rf=!1;this.Ur=0;this.Fe=null;this.kb=this.Gl=!1;this.Cm=new ba;this.Mj=new ba;this.Nj=new ba;this.en=
[];new cb([]);new cb([]);this.Ee=[];this.lh={};this.Ge={};this.De={};this.rf={};this.bl={};this.am=this.xh=this.nb=this.Ab=this.$l=this.wh=this.W=null;this.pf=this.vj=!1;this.Xi=[null,null];this.ge=0;this.Si="";this.cd={};this.zg=this.re=null;this.wn="";this.Hh=[];this.Dr()}}function t(p){p.target.result.createObjectStore("saves",{keyPath:"slot"})}function u(p,e,a,b){var k=indexedDB.open("_C2SaveStates");k.onupgradeneeded=t;k.onerror=b;k.onsuccess=function(k){k=k.target.result;k.onerror=b;k.transaction(["saves"],
"readwrite").objectStore("saves").put({slot:p,data:e}).onsuccess=a}}function d(p,e,a){var b=indexedDB.open("_C2SaveStates");b.onupgradeneeded=t;b.onerror=a;b.onsuccess=function(b){b=b.target.result;b.onerror=a;var w=b.transaction(["saves"]).objectStore("saves").get(p);w.onsuccess=function(){w.result?e(w.result.data):e(null)}}}function b(){K("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=
window.location+"?continuous"}function c(p){var e,a={};for(e in p)!p.hasOwnProperty(e)||p[e]instanceof ba||p[e]&&"undefined"!==typeof p[e].xt||(a[e]=p[e]);return a}h.prototype.Dr=function(){var p=this,e;this.Re?e=new ActiveXObject("Microsoft.XMLHTTP"):e=new XMLHttpRequest;var a="data.js";if(this.Sl||this.Re||this.uj)a="data.json";e.open("GET",a,!0);var b=!1;if(!this.da&&"response"in e&&"responseType"in e)try{e.responseType="json",b="json"===e.responseType}catch(k){b=!1}if(!b&&"responseType"in e)try{e.responseType=
"text"}catch(c){}if("overrideMimeType"in e)try{e.overrideMimeType("application/json; charset=utf-8")}catch(f){}this.Re?e.onreadystatechange=function(){4===e.readyState&&p.Ah(JSON.parse(e.responseText))}:(e.onload=function(){if(b)p.Ah(e.response);else if(p.ec){var a=e.responseText,a=a.substr(a.indexOf("{"));p.Ah(JSON.parse(a))}else p.Ah(JSON.parse(e.responseText))},e.onerror=function(e){fa("Error requesting "+a+":");fa(e)});e.send()};h.prototype.Nq=function(){var p=this,e,a,b,k,c,f,d,g,l;this.me=(!this.da||
this.ec)&&this.gs&&!this.oh;0===this.Wa&&this.Vf&&(this.me=!1);this.devicePixelRatio=this.me?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Ka();a=!(!this.bq&&(!this.oi||this.Fd||this.Rl||this.Re||this.Qf||this.Kb||this.qj));0<this.Wa&&this.setSize(n(),m(),!0);try{this.up&&(this.Jb||this.ec||!this.da)&&(e={alpha:a,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.g=this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",
e))}catch(q){}if(this.g){this.g.getExtension("WEBGL_debug_renderer_info");this.da||(this.Ca=document.createElement("canvas"),jQuery(this.Ca).appendTo(this.canvas.parentNode),this.Ca.oncontextmenu=function(){return!1},this.Ca.onselectstart=function(){return!1},this.Ca.width=this.Sg,this.Ca.height=this.Rg,jQuery(this.Ca).css({width:this.Sg+"px",height:this.Rg+"px"}),this.Ym(),this.Vj=this.Ca.getContext("2d"));this.q=new kb(this.g,this.Oe);this.q.kf(this.canvas.width,this.canvas.height);this.q.ol=0!==
this.pp;this.R=null;this.canvas.addEventListener("webglcontextlost",function(e){e.preventDefault();p.gr();K("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){p.q.Kl();p.q.kf(p.q.width,p.q.height,!0);p.Ab=null;p.nb=null;p.Xi[0]=null;p.Xi[1]=null;p.hr();p.V=!0;K("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);e=0;for(a=this.i.length;e<a;e++)for(c=this.i[e],b=0,k=c.A.length;b<k;b++)d=c.A[b],d.Ja=
this.q.dj(d.id),this.pf=this.pf||this.q.rg(d.Ja);e=0;for(a=this.hc.length;e<a;e++){g=this.hc[e];b=0;for(k=g.A.length;b<k;b++)d=g.A[b],d.Ja=this.q.dj(d.id);b=0;for(k=g.C.length;b<k;b++)for(l=g.C[b],c=0,f=l.A.length;c<f;c++)d=l.A[c],d.Ja=this.q.dj(d.id),this.pf=this.pf||this.q.rg(d.Ja)}}else{if(0<this.Wa&&this.Na){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.R=AppMobi.canvas.getContext("2d");try{this.R.samplingMode=this.T?"smooth":"sharp",
this.R.globalScale=1,this.R.HTML5CompatibilityMode=!0,this.R.imageSmoothingEnabled=this.T}catch(h){}0!==this.width&&0!==this.height&&(this.R.width=this.width,this.R.height=this.height)}this.R||(this.Jb?(e={antialias:!!this.T,alpha:a},this.R=this.canvas.getContext("2d",e)):(e={alpha:a},this.R=this.canvas.getContext("2d",e)),this.R.webkitImageSmoothingEnabled=this.T,this.R.mozImageSmoothingEnabled=this.T,this.R.msImageSmoothingEnabled=this.T,this.R.imageSmoothingEnabled=this.T);this.Vj=this.Ca=null}this.En=
function(e){p.ab(!1,e)};window==window.top||this.da||this.Rl||this.Re||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Jb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(K("Reloading for continuous preview"),this.yh="__c2_continuouspreview",this.Bg=!0),this.qr&&!this.Oe&&(jQuery(window).focus(function(){p.setSuspended(!1)}),
jQuery(window).blur(function(){p.setSuspended(!0)})));this.da||(e=function(e){if(jb(e)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(p){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",e):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",e):document.addEventListener("touchstart",e),document.addEventListener("mousedown",e));0===this.Wa&&
this.me&&1<this.devicePixelRatio&&this.setSize(this.ua,this.ta,!0);this.Jn();this.Gq();this.go();this.fa={}};h.prototype.setSize=function(p,e,a){var b=0,k=0,c=0,f=0,f=0,d=this.Wq&&this.Pl&&!navigator.standalone&&!this.da&&!this.Kb;d&&(e+=60);if(this.Zf!==p||this.Yf!==e||a){this.Zf=p;this.Yf=e;var g=this.Wa,l=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Rf)&&!this.Kb;if(l||0!==this.Wa||a)l&&0<this.ge&&(g=this.ge),a=this.devicePixelRatio,
4<=g?(c=this.ua/this.ta,p/e>c?(c*=e,5===g?(f=c*a/this.ua,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),c=this.ua*f/a,f=this.ta*f/a,b=(p-c)/2,k=(e-f)/2,p=c,e=f):(b=(p-c)/2,p=c)):(f=p/c,5===g?(f=f*a/this.ta,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),c=this.ua*f/a,f=this.ta*f/a,b=(p-c)/2,k=(e-f)/2,p=c):k=(e-f)/2,e=f),l&&!this.Fd&&(k=b=0)):this.Fd&&this.Rf&&0===this.ul&&(b=Math.floor((p-this.ua)/2),k=Math.floor((e-this.ta)/2),p=this.ua,e=this.ta),2>g&&(this.wf=a),this.me&&this.Ul&&1<a&&(1024<=p&&(p=
1023),1024<=e&&(e=1023)),this.Sg=Math.round(p),this.Rg=Math.round(e),this.width=Math.round(p*a),this.height=Math.round(e*a),this.V=!0,this.Un?(this.G=this.width,this.F=this.height,this.Ib=!0):this.width<this.ua&&this.height<this.ta||1===g?(this.G=this.width,this.F=this.height,this.Ib=!0):(this.G=this.ua,this.F=this.ta,this.Ib=!1,2===g?(c=this.ua/this.ta,g=this.Zf/this.Yf,g<c?this.G=this.F*g:g>c&&(this.F=this.G/g)):3===g&&(c=this.ua/this.ta,g=this.Zf/this.Yf,g>c?this.G=this.F*g:g<c&&(this.F=this.G/
g))),this.hl&&!this.da&&(jQuery(this.hl).css({width:Math.round(p)+"px",height:Math.round(e)+"px","margin-left":Math.floor(b)+"px","margin-top":Math.floor(k)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(p)+"px",height:Math.round(e)+"px"})),this.canvas&&(this.canvas.width=Math.round(p*a),this.canvas.height=Math.round(e*a),this.ec?(this.canvas.style.left=Math.floor(b)+"px",this.canvas.style.top=Math.floor(k)+"px",this.canvas.style.width=Math.round(p)+"px",this.canvas.style.height=
Math.round(e)+"px"):this.me&&!this.da&&(this.canvas.style.width=Math.round(p)+"px",this.canvas.style.height=Math.round(e)+"px")),this.Ca&&(this.Ca.width=Math.round(p),this.Ca.height=Math.round(e),this.Ca.style.width=Math.round(p)+"px",this.Ca.style.height=Math.round(e)+"px"),this.q&&this.q.kf(Math.round(p*a),Math.round(e*a)),this.Na&&this.R&&(this.R.width=Math.round(p),this.R.height=Math.round(e)),this.R&&(this.R.webkitImageSmoothingEnabled=this.T,this.R.mozImageSmoothingEnabled=this.T,this.R.msImageSmoothingEnabled=
this.T,this.R.imageSmoothingEnabled=this.T),this.Jn(),this.da||!d&&!this.wj||window.setTimeout(function(){window.scrollTo(0,1)},100)}};h.prototype.Jn=function(){if(this.Lo&&0!==this.Tj){var p="portrait";2===this.Tj&&(p="landscape");screen.orientation&&screen.orientation.lock?screen.orientation.lock(p):screen.lockOrientation?screen.lockOrientation(p):screen.webkitLockOrientation?screen.webkitLockOrientation(p):screen.mozLockOrientation?screen.mozLockOrientation(p):screen.msLockOrientation&&screen.msLockOrientation(p)}};
h.prototype.gr=function(){this.q.To();this.vj=!0;var p,e,a;p=0;for(e=this.i.length;p<e;p++)a=this.i[p],a.Fm&&a.Fm()};h.prototype.hr=function(){this.vj=!1;var a,e,r;a=0;for(e=this.i.length;a<e;a++)r=this.i[a],r.Im&&r.Im()};h.prototype.Ym=function(){if(!this.da){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Rf)&&!this.Kb?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Ca).css(a)}};var g=
window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;h.prototype.setSuspended=function(a){var e;if(a&&!this.Sf)for(K("[Construct 2] Suspending"),this.Sf=!0,-1!==this.ak&&g&&g(this.ak),-1!==this.sk&&clearTimeout(this.sk),a=0,e=this.Cg.length;a<e;a++)this.Cg[a](!0);else if(!a&&this.Sf){K("[Construct 2] Resuming");this.Sf=!1;this.vh=Xa();this.qe=Xa();a=this.hg=this.fh=0;for(e=this.Cg.length;a<e;a++)this.Cg[a](!1);
this.ab(!1)}};h.prototype.Ho=function(a){this.Cg.push(a)};h.prototype.rd=function(a){return this.Hh[a]};h.prototype.Ah=function(a){a&&a.project||fa("Project model unavailable");a=a.project;this.name=a[0];this.tl=a[1];this.Wa=a[12];this.ul=a[12];this.ua=a[10];this.ta=a[11];this.Sm=this.ua/2;this.Tm=this.ta/2;this.da&&!this.ec&&(4<=a[12]||0===a[12])&&(K("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.ul=this.Wa=3);this.Bk=a[18];
this.ag=a[19];0===this.ag&&(this.re=new Image,this.re.crossOrigin="anonymous",this.re.src="loading-logo.png");this.kg=a[21];this.Hh=ic();this.Hc=new V(this);var e,r,b,k,c,f,d,g,l;e=0;for(r=a[2].length;e<r;e++)d=a[2][e],b=this.rd(d[0]),lb(d,b.prototype),l=new b(this),l.Xh=d[1],l.Gd=d[2],l.wm=d[9],l.Ha&&l.Ha(),this.plugins.push(l);this.Hh=ic();e=0;for(r=a[3].length;e<r;e++){d=a[3][e];c=this.rd(d[1]);l=null;b=0;for(k=this.plugins.length;b<k;b++)if(this.plugins[b]instanceof c){l=this.plugins[b];break}var q=
new l.Oc(l);q.name=d[0];q.K=d[2];q.oj=d[3].slice(0);q.js=d[3].length;q.Mo=d[4];q.dq=d[5];q.I=d[11];q.K?(q.Gh=[],q.Wc=this.Ff++,q.aa=null):(q.Gh=null,q.Wc=-1,q.aa=[]);q.bh=null;q.Ie=null;q.pl=null;q.lb=!1;q.gb=null;d[6]?(q.Bn=d[6][0],q.Cn=d[6][1],q.Xr=d[6][2]):(q.Bn=null,q.Cn=0,q.Xr=0);d[7]?q.Ua=d[7]:q.Ua=null;q.index=e;q.c=[];q.Wg=[];q.Nd=[new mb(q)];q.Uc=0;q.Gb=null;q.$o=0;q.mf=!0;q.hi=nb;q.jq=ob;q.oq=qb;q.S=rb;q.sg=sb;q.Zj=tb;q.ef=ub;q.hh=vb;q.Yi=wb;q.$i=xb;q.ud=yb;q.Bl=zb;q.il=new db(this.ua,this.ta);
q.Uk=!0;q.Vk=!1;q.fa={};q.toString=Ab;q.ka=[];b=0;for(k=d[8].length;b<k;b++){g=d[8][b];var h=this.rd(g[1]),x=null;c=0;for(f=this.ka.length;c<f;c++)if(this.ka[c]instanceof h){x=this.ka[c];break}x||(x=new h(this),x.xm=[],x.Kj=new ba,x.Ha&&x.Ha(),this.ka.push(x));-1===x.xm.indexOf(q)&&x.xm.push(q);c=new x.Oc(x,q);c.name=g[0];c.I=g[2];c.Ha();q.ka.push(c)}q.global=d[9];q.sj=d[10];q.A=[];b=0;for(k=d[12].length;b<k;b++)q.A.push({id:d[12][b][0],name:d[12][b][1],Ja:-1,ub:!0,index:b});q.Ft=d[13];this.Bk&&!q.K&&
!q.sj&&l.Gd||q.Ha();q.name&&(this.types[q.name]=q);this.i.push(q);l.Xh&&(b=new l.Bb(q),b.uid=this.kg++,b.bn=this.ym++,b.je=0,b.Jf=Bb,b.toString=Cb,b.Ia=d[14],b.Ha(),q.c.push(b),this.cd[b.uid.toString()]=b)}e=0;for(r=a[4].length;e<r;e++)for(c=a[4][e],f=this.i[c[0]],b=1,k=c.length;b<k;b++)d=this.i[c[b]],d.aa.push(f),f.Gh.push(d);e=0;for(r=a[27].length;e<r;e++){c=a[27][e];f=[];b=0;for(k=c.length;b<k;b++)f.push(this.i[c[b]]);b=0;for(k=f.length;b<k;b++)f[b].lb=!0,f[b].gb=f}if(0<this.Ff)for(e=0,r=this.i.length;e<
r;e++)if(d=this.i[e],!d.K&&d.aa.length){d.bh=Array(this.Ff);d.Ie=Array(this.Ff);d.pl=Array(this.Ff);q=[];b=x=h=g=0;for(k=d.aa.length;b<k;b++)for(l=d.aa[b],d.bh[l.Wc]=g,g+=l.js,d.Ie[l.Wc]=h,h+=l.Mo,d.pl[l.Wc]=x,x+=l.dq,c=0,f=l.A.length;c<f;c++)q.push(xa({},l.A[c]));d.A=q.concat(d.A);b=0;for(k=d.A.length;b<k;b++)d.A[b].index=b}e=0;for(r=a[5].length;e<r;e++)d=a[5][e],b=new Db(this,d),this.Aj[b.name]=b,this.hc.push(b);e=0;for(r=a[6].length;e<r;e++)d=a[6][e],b=new Eb(this,d),this.Oi[b.name]=b,this.Vc.push(b);
e=0;for(r=this.Vc.length;e<r;e++)this.Vc[e].ja();e=0;for(r=this.Vc.length;e<r;e++)this.Vc[e].xk();e=0;for(r=this.gi.length;e<r;e++)this.gi[e].ja();this.gi.length=0;this.Ko=a[7];this.Si=a[8];this.df=a[9];this.wf=1;this.up=a[13];this.T=a[14];this.oi=a[15];this.gs=a[17];this.Tj=a[20];this.Lo=0<this.Tj;this.qr=a[22];this.Ib=this.Un=a[23];this.pp=a[24];this.wr=a[25];this.Yh=Date.now();this.Hh.length=0;this.Nq()};var l=!1;h.prototype.ks=function(a,e){a.cocoonLazyLoad=!0;a.onerror=function(e){l=a.dl=!0;
console&&console.error&&console.error("Error loading image '"+a.src+"': ",e)};this.ec?a.src=e:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(e,function(e){a.src=e},function(b){l=a.dl=!0;console&&console.error&&console.error("Error extracting image '"+e+"' from expansion file: ",b)}):(a.crossOrigin="anonymous",a.src=e));this.sf.push(a)};h.prototype.aq=function(a){var e,b;e=0;for(b=this.sf.length;e<b;e++)if(this.sf[e].Vo===a)return this.sf[e];return null};var a=0,k=!1;h.prototype.Gq=function(){this.Fe&&
(a=this.Fe.Qr(this.Ko))};h.prototype.Wk=function(){var p=a,e=0,b=0,c=!0,d,f,b=0;for(d=this.sf.length;b<d;b++){f=this.sf[b];var q=f.Uo;if(!q||0>=q)q=5E4;p+=q;f.src&&(f.complete||f.loaded)&&!f.dl?e+=q:c=!1}c&&this.wr&&this.Fe&&(k||(this.Fe.Vr(),k=!0),b=this.Fe.pq(),e+=b,b<a&&(c=!1));this.we=0==p?0:e/p;return c};h.prototype.go=function(){if(this.R||this.q){var a=this.R||this.Vj;this.Ca&&this.Ym();this.we=0;this.Zl=-1;if(this.Wk())this.Hq();else{var e=Date.now()-this.Yh;if(a){var b=this.width,k=this.height,
c=this.devicePixelRatio;this.Ca&&(b=this.Sg,k=this.Rg,c=1);if(3!==this.ag&&(this.Jb||500<=e&&this.Zl!=this.we)){a.clearRect(0,0,b,k);var e=b/2,k=k/2,b=0===this.ag&&this.re.complete,d=40*c,f=0,q=80*c,g;b&&(q=this.re.width*c,g=this.re.height*c,d=q/2,f=g/2,a.drawImage(this.re,Q(e-d),Q(k-f),q,g));1>=this.ag?(e=Q(e-d)+.5,k=Q(k+(f+(b?12*c:0)))+.5,a.fillStyle=l?"red":"DodgerBlue",a.fillRect(e,k,Math.floor(q*this.we),6*c),a.strokeStyle="black",a.strokeRect(e,k,q,6*c),a.strokeStyle="white",a.strokeRect(e-
1*c,k-1*c,q+2*c,8*c)):2===this.ag&&(a.font=this.ec?"12pt ArialMT":"12pt Arial",a.fillStyle=l?"#f00":"#999",a.Et="middle",c=Math.round(100*this.we)+"%",b=a.measureText?a.measureText(c):null,a.fillText(c,e-(b?b.width:0)/2,k))}this.Zl=this.we}setTimeout(function(e){return function(){e.go()}}(this),this.Jb?10:100)}}};h.prototype.Hq=function(){this.Ca&&(this.canvas.parentNode.removeChild(this.Ca),this.Ca=this.Vj=null);this.Yh=Date.now();this.qe=Xa();var a,e,b;if(this.Bk)for(a=0,e=this.i.length;a<e;a++)b=
this.i[a],b.K||b.sj||!b.ma.Gd||b.Ha();else this.rh=!1;a=0;for(e=this.hc.length;a<e;a++)this.hc[a].Wo();2<=this.Wa&&(a=this.ua/this.ta,e=this.width/this.height,this.wf=2!==this.Wa&&e>a||2===this.Wa&&e<a?this.height/this.ta:this.width/this.ua);this.tl?this.Aj[this.tl].pk():this.hc[0].pk();this.Bk||(this.Ch=1,this.trigger(V.prototype.j.Gk,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(e=this.i.length;a<e;a++)b=this.i[a],b.fr&&b.fr();document.hidden||
document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.ab(!1);this.Na&&AppMobi.webview.execute("onGameReady();")};var q=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;h.prototype.ab=function(a,e,b){if(this.W){var k=Xa();if(b||!this.Sf||a){a||(q?this.ak=q(this.En):this.sk=setTimeout(this.En,this.Oe?1:16));e=e||k;var c=this.Wa;((b=(document.mozFullScreen||
document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Kb)||this.Rf)&&0<this.ge&&(c=this.ge);0<c&&(!this.Vf||window.self!==window.top)&&(c=window.innerHeight,this.Zf===window.innerWidth&&this.Yf===c||this.setSize(n(),m()));this.da||(b?(this.eh||(this.Wi=jQuery(this.canvas).css("margin")||"0",this.eh=!0),this.Pf||this.Fd||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-
this.height/this.devicePixelRatio)/2)+"px"})):this.eh?(this.Pf||this.Fd||jQuery(this.canvas).css("margin",this.Wi),this.Wi="",this.eh=!1,0===this.Wa&&this.setSize(Math.round(this.Em/this.devicePixelRatio),Math.round(this.Dm/this.devicePixelRatio),!0)):(this.Em=this.width,this.Dm=this.height));this.rh&&(b=this.Wk(),this.Ch=this.we,b&&(this.rh=!1,this.we=1,this.trigger(V.prototype.j.Gk,null)));this.$q(e);!this.V&&!this.Jb||this.vj||this.Bg||a||(this.V=!1,this.q?this.Zb():this.ae(),this.zg&&(this.canvas&&
this.canvas.toDataURL&&(this.wn=this.canvas.toDataURL(this.zg[0],this.zg[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.wn),this.trigger(V.prototype.j.lo,null)),this.zg=null));this.At||(this.Eg++,this.ah++,this.fh++);this.hg+=Xa()-k}}};h.prototype.$q=function(a){var e,b,k,c,d,f,q,g;1E3<=a-this.qe&&(this.qe+=1E3,1E3<=a-this.qe&&(this.qe=a),this.Vi=this.fh,this.fh=0,this.Fi=this.hg,this.hg=0);0!==this.vh&&(e=a-this.vh,0>e&&(e=0),this.Bd=e/1E3,.5<this.Bd?this.Bd=0:.1<this.Bd&&(this.Bd=.1));this.vh=
a;this.be=this.Bd*this.nf;this.Lb.add(this.be);this.nd.add(this.Bd);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Rf)&&!this.Kb;2<=this.Wa||a&&0<this.ge?(e=this.ua/this.ta,b=this.width/this.height,k=this.Wa,a&&0<this.ge&&(k=this.ge),this.wf=2!==k&&b>e||2===k&&b<e?this.height/this.ta:this.width/this.ua,this.W&&(this.W.kn(this.W.scrollX),this.W.ln(this.W.scrollY))):this.wf=this.me?this.devicePixelRatio:1;this.Ka();this.fc++;this.Hc.Gr();
this.fc--;this.Ka();this.fc++;b=this.Cm.Sd();a=0;for(e=b.length;a<e;a++)b[a].Ct();a=0;for(e=this.i.length;a<e;a++)if(f=this.i[a],!f.K&&(f.ka.length||f.aa.length))for(b=0,k=f.c.length;b<k;b++)for(q=f.c[b],c=0,d=q.B.length;c<d;c++)q.B[c].ab();a=0;for(e=this.i.length;a<e;a++)if(f=this.i[a],!f.K&&(f.ka.length||f.aa.length))for(b=0,k=f.c.length;b<k;b++)for(q=f.c[b],c=0,d=q.B.length;c<d;c++)g=q.B[c],g.ur&&g.ur();b=this.Mj.Sd();a=0;for(e=b.length;a<e;a++)b[a].ab();this.fc--;this.Iq();for(a=0;this.Di&&10>
a++;)this.nl(this.Di);a=0;for(e=this.Vc.length;a<e;a++)this.Vc[a].ij=!1;this.W.ee&&this.W.ee.va();this.en.length=0;this.fc++;a=0;for(e=this.i.length;a<e;a++)if(f=this.i[a],!f.K&&(f.ka.length||f.aa.length))for(b=0,k=f.c.length;b<k;b++)for(q=f.c[b],c=0,d=q.B.length;c<d;c++)g=q.B[c],g.rk&&g.rk();b=this.Nj.Sd();a=0;for(e=b.length;a<e;a++)b[a].rk();this.fc--};h.prototype.nl=function(a){var e=this.W;this.W.Wr();var b,c,k,f,d,q,g;if(this.q)for(b=0,c=this.i.length;b<c;b++)d=this.i[b],d.K||!d.Nn||d.global&&
0!==d.c.length||-1!==a.Of.indexOf(d)||d.Nn();e==a&&(this.Hc.bb.length=0);this.en.length=0;a.pk();b=0;for(c=this.i.length;b<c;b++)if(d=this.i[b],d.global||d.ma.Xh)for(a=0,e=d.c.length;a<e;a++)if(q=d.c[a],q.Qj&&q.Qj(),q.B)for(k=0,f=q.B.length;k<f;k++)g=q.B[k],g.Qj&&g.Qj();this.V=!0;this.Ka()};h.prototype.Fn=function(a){this.Mj.add(a)};h.prototype.Yr=function(a){this.Nj.add(a)};h.prototype.zl=function(a){return a&&-1!==a.jg?this.Bd*a.jg:this.be};h.prototype.ae=function(){this.W.ae(this.R);this.Na&&this.R.present()};
h.prototype.Zb=function(){this.W.Zb(this.q);this.q.yr()};h.prototype.Fo=function(a){a&&this.Li.push(a)};h.prototype.jh=function(a){a=a.toString();return this.cd.hasOwnProperty(a)?this.cd[a]:null};var f=[];h.prototype.Td=function(a){var e,b;e=a.type.name;var c=null;if(this.Zd.hasOwnProperty(e)){if(c=this.Zd[e],c.contains(a))return}else c=f.length?f.pop():new ba,this.Zd[e]=c;c.add(a);this.Ed=!0;if(a.lb)for(e=0,b=a.siblings.length;e<b;e++)this.Td(a.siblings[e]);this.rj&&c.qf.push(a);this.fc++;this.trigger(Object.getPrototypeOf(a.type.ma).j.mo,
a);this.fc--};h.prototype.Ka=function(){if(this.Ed){var a,e,b,c,k,f;this.rj=!0;b=0;for(k=this.tc.length;b<k;++b)for(a=this.tc[b],e=a.type,e.c.push(a),c=0,f=e.aa.length;c<f;++c)e.aa[c].c.push(a),e.aa[c].mf=!0;this.tc.length=0;this.eo();Wa(this.Zd);this.Ed=this.rj=!1}};h.prototype.eo=function(){for(var a in this.Zd)this.Zd.hasOwnProperty(a)&&this.Yn(this.Zd[a])};h.prototype.Yn=function(a){var e=a.Sd(),b=e[0].type,c,k,d,q,g,l;Ya(b.c,a);b.mf=!0;0===b.c.length&&(b.Vk=!1);c=0;for(k=b.aa.length;c<k;++c)l=
b.aa[c],Ya(l.c,a),l.mf=!0;c=0;for(k=this.Hc.bb.length;c<k;++c)if(g=this.Hc.bb[c],g.Ta.hasOwnProperty(b.index)&&Ya(g.Ta[b.index].Zc,a),!b.K)for(d=0,q=b.aa.length;d<q;++d)l=b.aa[d],g.Ta.hasOwnProperty(l.index)&&Ya(g.Ta[l.index].Zc,a);if(g=e[0].e){if(g.kc)for(d=g.c,c=0,k=d.length;c<k;++c)q=d[c],a.contains(q)&&(q.Qa(),g.pb.update(q,q.Ya,null),q.Ya.set(0,0,-1,-1));Ya(g.c,a);g.wg(0)}for(c=0;c<e.length;++c)this.Xn(e[c],b);a.clear();f.push(a);this.V=!0};h.prototype.Xn=function(a,e){var b,c,k;b=0;for(c=this.Li.length;b<
c;++b)this.Li[b](a);a.yd&&e.il.update(a,a.yd,null);(b=a.e)&&b.gf(a,!0);if(a.B)for(b=0,c=a.B.length;b<c;++b)k=a.B[b],k.Pj&&k.Pj(),k.behavior.Kj.remove(a);this.Cm.remove(a);this.Mj.remove(a);this.Nj.remove(a);a.Pj&&a.Pj();this.cd.hasOwnProperty(a.uid.toString())&&delete this.cd[a.uid.toString()];this.Ih--;100>e.Wg.length&&e.Wg.push(a)};h.prototype.kl=function(a,e,b,c){if(a.K){var k=Q(Math.random()*a.Gh.length);return this.kl(a.Gh[k],e,b,c)}return a.Gb?this.Ad(a.Gb,e,!1,b,c,!1):null};var x=[];h.prototype.Ad=
function(a,e,b,c,k,d){var f,q,g,l;if(!a)return null;var h=this.i[a[1]],C=h.ma.Gd;if(this.rh&&C&&!h.sj||C&&!this.q&&11===a[0][11])return null;var n=e;C||(e=null);var m;h.Wg.length?(m=h.Wg.pop(),m.Dc=!0,h.ma.Bb.call(m,h)):(m=new h.ma.Bb(h),m.Dc=!1);!b||d||this.cd.hasOwnProperty(a[2].toString())?m.uid=this.kg++:m.uid=a[2];this.cd[m.uid.toString()]=m;m.bn=this.ym++;m.je=h.c.length;f=0;for(q=this.tc.length;f<q;++f)this.tc[f].type===h&&m.je++;m.Jf=Bb;m.toString=Cb;g=a[3];if(m.Dc)Wa(m.fa);else{m.fa={};if("undefined"!==
typeof cr_is_preview)for(m.Nl=[],m.Nl.length=g.length,f=0,q=g.length;f<q;f++)m.Nl[f]=g[f][1];m.ra=[];m.ra.length=g.length}f=0;for(q=g.length;f<q;f++)m.ra[f]=g[f][0];if(C){var t=a[0];m.x=ga(c)?t[0]:c;m.y=ga(k)?t[1]:k;m.z=t[2];m.width=t[3];m.height=t[4];m.depth=t[5];m.k=t[6];m.opacity=t[7];m.ib=t[8];m.jb=t[9];m.Va=t[10];f=t[11];!this.q&&h.A.length&&(m.Va=f);m.Af=fb(m.Va);this.g&&gb(m,m.Va,this.g);if(m.Dc){f=0;for(q=t[12].length;f<q;f++)for(g=0,l=t[12][f].length;g<l;g++)m.ca[f][g]=t[12][f][g];m.Ra.set(0,
0,0,0);m.yd.set(0,0,-1,-1);m.Ya.set(0,0,-1,-1);m.Mg.Wh(m.Ra);m.si.length=0}else{m.ca=t[12].slice(0);f=0;for(q=m.ca.length;f<q;f++)m.ca[f]=t[12][f].slice(0);m.M=[];m.sd=[];m.sd.length=h.A.length;m.Ra=new va(0,0,0,0);m.yd=new va(0,0,-1,-1);m.Ya=new va(0,0,-1,-1);m.Mg=new wa;m.si=[];m.Da=Fb;m.wt=Gb;m.Db=Hb;m.Qa=Ib;m.es=Jb;m.Gt=Kb;m.wc=Lb}m.$r=!1;m.bs=0;m.as=0;m.Zr=null;14===t.length&&(m.$r=!0,m.bs=t[13][0],m.as=t[13][1],m.Zr=t[13][2]);f=0;for(q=h.A.length;f<q;f++)m.sd[f]=!0;m.md=Mb;m.md();m.Sn=!!m.M.length;
m.ri=!0;m.xi=!0;h.Uk=!0;m.visible=!0;m.jg=-1;m.e=e;m.lc=e.c.length;"undefined"===typeof m.sc&&(m.sc=null);this.V=m.zf=!0}var u;f=x.length=0;for(q=h.aa.length;f<q;f++)x.push.apply(x,h.aa[f].ka);x.push.apply(x,h.ka);if(m.Dc)for(f=0,q=x.length;f<q;f++){var H=x[f];u=m.B[f];u.Dc=!0;H.behavior.Bb.call(u,H,m);t=a[4][f];g=0;for(l=t.length;g<l;g++)u.Ia[g]=t[g];u.Ha();H.behavior.Kj.add(m)}else for(m.B=[],f=0,q=x.length;f<q;f++)H=x[f],u=new H.behavior.Bb(H,m),u.Dc=!1,u.Ia=a[4][f].slice(0),u.Ha(),m.B.push(u),
H.behavior.Kj.add(m);t=a[5];if(m.Dc)for(f=0,q=t.length;f<q;f++)m.Ia[f]=t[f];else m.Ia=t.slice(0);this.tc.push(m);this.Ed=!0;e&&(e.vf(m,!0),1!==e.dd||1!==e.ed)&&(h.Vk=!0);this.Ih++;if(h.lb){if(m.lb=!0,m.Dc?m.siblings.length=0:m.siblings=[],!b&&!d){f=0;for(q=h.gb.length;f<q;f++)if(h.gb[f]!==h){if(!h.gb[f].Gb)return null;m.siblings.push(this.Ad(h.gb[f].Gb,n,!1,C?m.x:c,C?m.y:k,!0))}f=0;for(q=m.siblings.length;f<q;f++)for(m.siblings[f].siblings.push(m),g=0;g<q;g++)f!==g&&m.siblings[f].siblings.push(m.siblings[g])}}else m.lb=
!1,m.siblings=null;m.Ha();f=0;for(q=m.B.length;f<q;f++)m.B[f].tr&&m.B[f].tr();return m};h.prototype.bj=function(a){var e,b;e=0;for(b=this.W.C.length;e<b;e++){var c=this.W.C[e];if(ib(c.name,a))return c}return null};h.prototype.Hf=function(a){a=Q(a);0>a&&(a=0);a>=this.W.C.length&&(a=this.W.C.length-1);return this.W.C[a]};h.prototype.Ei=function(a){var e,b;e=0;for(b=a.length;e<b;e++)a[e].S().X=!0};h.prototype.sg=function(a){var e,b;e=0;for(b=a.length;e<b;e++)a[e].sg()};h.prototype.Zj=function(a){var e,
b;e=0;for(b=a.length;e<b;e++)a[e].Zj()};h.prototype.ef=function(a){var e,b;e=0;for(b=a.length;e<b;e++)a[e].ef()};h.prototype.bi=function(a,e,b){var c=a.S(),k,f,d,q,g,l;if(c.X)for(c.X=!1,k=c.c.length=0,q=a.c.length;k<q;k++)d=a.c[k],d.Qa(),g=d.e.eb(e,b,!0),l=d.e.eb(e,b,!1),d.Db(g,l)&&c.c.push(d);else{k=f=0;for(q=c.c.length;k<q;k++)d=c.c[k],d.Qa(),g=d.e.eb(e,b,!0),l=d.e.eb(e,b,!1),d.Db(g,l)&&(c.c[f]=c.c[k],f++);c.c.length=f}a.ud();return c.hj()};new wa;new va(0,0,0,0);h.prototype.Kn=function(a,e){if(!e)return!1;
var b,c,k,f,d;b=0;for(c=a.ka.length;b<c;b++)if(a.ka[b].behavior instanceof e)return!0;if(!a.K)for(b=0,c=a.aa.length;b<c;b++)for(d=a.aa[b],k=0,f=d.ka.length;k<f;k++)if(d.ka[k].behavior instanceof e)return!0;return!1};h.prototype.Ln=function(a){return this.Kn(a,ac.Ns)};h.prototype.wk=function(a){return this.Kn(a,ac.Os)};var C=-1;h.prototype.trigger=function(a,e,b){if(!this.W)return!1;var c=this.W.ee;if(!c)return!1;var k=!1,f,d,q;C++;var g=c.Ji;d=0;for(q=g.length;d<q;++d)f=this.Hn(a,e,g[d],b),k=k||f;
f=this.Hn(a,e,c,b);C--;return k||f};h.prototype.Hn=function(a,e,b,c){var k=!1,f,d,q,g;if(e)for(q=this.uk(a,e,e.type.name,b,c),k=k||q,g=e.type.aa,f=0,d=g.length;f<d;++f)q=this.uk(a,e,g[f].name,b,c),k=k||q;else q=this.uk(a,e,"system",b,c),k=k||q;return k};h.prototype.uk=function(a,e,b,c,k){var f,d=!1,q=!1,q="undefined"!==typeof k,g=(q?c.rl:c.In)[b];if(!g)return d;var l=null;c=0;for(f=g.length;c<f;++c)if(g[c].method==a){l=g[c].Ef;break}if(!l)return d;var h;q?h=l[k]:h=l;if(!h)return null;c=0;for(f=h.length;c<
f;c++)a=h[c][0],k=h[c][1],q=this.Zp(e,b,a,k),d=d||q;return d};h.prototype.Zp=function(a,e,b,c){var k,f,d=!1;this.vk++;var q=this.Xa().xb;q&&this.sg(q.Md);var g=1<this.vk;this.sg(b.Md);g&&this.Br();var l=this.$j(b);l.xb=b;a&&(k=this.types[e].S(),k.X=!1,k.c.length=1,k.c[0]=a,this.types[e].ud());a=!0;if(b.parent){e=l.An;for(k=b.parent;k;)e.push(k),k=k.parent;e.reverse();k=0;for(f=e.length;k<f;k++)if(!e[k].Ir()){a=!1;break}}a&&(this.ah++,b.Ac?b.Hr(c):b.va(),d=d||l.pe);this.Xm();g&&this.sr();this.ef(b.Md);
q&&this.ef(q.Md);this.Ed&&0===this.fc&&0===C&&!this.tj&&this.Ka();this.vk--;return d};h.prototype.iq=function(){var a=this.Xa();return a.xb.La[a.fb]};h.prototype.Br=function(){this.Eh++;this.Eh>=this.Ej.length&&this.Ej.push([])};h.prototype.sr=function(){this.Eh--};h.prototype.yl=function(){return this.Ej[this.Eh]};h.prototype.$j=function(a){this.$g++;this.$g>=this.Ni.length&&this.Ni.push(new Nb);var e=this.Xa();e.reset(a);return e};h.prototype.Xm=function(){this.$g--};h.prototype.Xa=function(){return this.Ni[this.$g]};
h.prototype.Al=function(a,e){for(var b,c,k,f,d,q;e;){b=0;for(c=e.Tb.length;b<c;b++)if(q=e.Tb[b],q instanceof Ob&&ib(a,q.name))return q;e=e.parent}b=0;for(c=this.Vc.length;b<c;b++)for(d=this.Vc[b],k=0,f=d.Cd.length;k<f;k++)if(q=d.Cd[k],q instanceof Ob&&ib(a,q.name))return q;return null};h.prototype.Cl=function(a){var e,b;e=0;for(b=this.hc.length;e<b;e++)if(this.hc[e].I===a)return this.hc[e];return null};h.prototype.kh=function(a){var e,b;e=0;for(b=this.i.length;e<b;e++)if(this.i[e].I===a)return this.i[e];
return null};h.prototype.kq=function(a){var e,b;e=0;for(b=this.Ee.length;e<b;e++)if(this.Ee[e].I===a)return this.Ee[e];return null};h.prototype.bp=function(a,e){this.zg=[a,e];this.V=!0};h.prototype.Iq=function(){var a=this,e=this.kk,c=this.ad,k=this.yh,f=!1;this.un&&(f=!0,e="__c2_continuouspreview",this.un=!1);if(e.length){this.Ka();c=this.Mr();if(window.indexedDB&&!this.Jb)u(e,c,function(){K("Saved state to IndexedDB storage ("+c.length+" bytes)");a.ad=c;a.trigger(V.prototype.j.ni,null);a.ad="";
f&&b()},function(k){try{localStorage.setItem("__c2save_"+e,c),K("Saved state to WebStorage ("+c.length+" bytes)"),a.ad=c,a.trigger(V.prototype.j.ni,null),a.ad="",f&&b()}catch(d){K("Failed to save game state: "+k+"; "+d)}});else try{localStorage.setItem("__c2save_"+e,c),K("Saved state to WebStorage ("+c.length+" bytes)"),a.ad=c,this.trigger(V.prototype.j.ni,null),a.ad="",f&&b()}catch(q){K("Error saving to WebStorage: "+q)}this.Oa=this.yh=this.kk=""}if(k.length){if(window.indexedDB&&!this.Jb)d(k,function(e){e?
(a.Oa=e,K("Loaded state from IndexedDB storage ("+a.Oa.length+" bytes)")):(a.Oa=localStorage.getItem("__c2save_"+k)||"",K("Loaded state from WebStorage ("+a.Oa.length+" bytes)"));a.Bg=!1;a.Oa.length||a.trigger(V.prototype.j.mi,null)},function(){a.Oa=localStorage.getItem("__c2save_"+k)||"";K("Loaded state from WebStorage ("+a.Oa.length+" bytes)");a.Bg=!1;a.Oa.length||a.trigger(V.prototype.j.mi,null)});else{try{this.Oa=localStorage.getItem("__c2save_"+k)||"",K("Loaded state from WebStorage ("+this.Oa.length+
" bytes)")}catch(g){this.Oa=""}this.Bg=!1;a.Oa.length||a.trigger(V.prototype.j.mi,null)}this.kk=this.yh=""}this.Oa.length&&(this.Ka(),this.Yq(this.Oa),this.ad=this.Oa,this.trigger(V.prototype.j.wo,null),this.Oa=this.ad="")};h.prototype.Mr=function(){var a,e,b,k,f,d,q,g={c2save:!0,version:1,rt:{time:this.Lb.U,walltime:this.nd.U,timescale:this.nf,tickcount:this.Eg,execcount:this.ah,next_uid:this.kg,running_layout:this.W.I,start_time_offset:Date.now()-this.Yh},types:{},layouts:{},events:{groups:{},cnds:{},
acts:{},vars:{}}};a=0;for(e=this.i.length;a<e;a++)if(f=this.i[a],!f.K&&!this.Ln(f)){d={instances:[]};Va(f.fa)&&(d.ex=c(f.fa));b=0;for(k=f.c.length;b<k;b++)d.instances.push(this.jk(f.c[b]));g.types[f.I.toString()]=d}a=0;for(e=this.hc.length;a<e;a++)b=this.hc[a],g.layouts[b.I.toString()]=b.Qb();k=g.events.groups;a=0;for(e=this.Ee.length;a<e;a++)b=this.Ee[a],k[b.I.toString()]=this.lh[b.Lf].Kf;e=g.events.cnds;for(q in this.Ge)this.Ge.hasOwnProperty(q)&&(a=this.Ge[q],Va(a.fa)&&(e[q]={ex:c(a.fa)}));e=g.events.acts;
for(q in this.De)this.De.hasOwnProperty(q)&&(a=this.De[q],Va(a.fa)&&(e[q]={ex:a.fa}));e=g.events.vars;for(q in this.rf)this.rf.hasOwnProperty(q)&&(a=this.rf[q],a.ph||a.parent&&!a.Uf||(e[q]=a.data));g.system=this.Hc.Qb();return JSON.stringify(g)};h.prototype.dn=function(){var a,e,b,c,k,f;this.cd={};a=0;for(e=this.i.length;a<e;a++)if(b=this.i[a],!b.K)for(c=0,k=b.c.length;c<k;c++)f=b.c[c],this.cd[f.uid.toString()]=f};h.prototype.Yq=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var e=a.rt;
this.Lb.reset();this.Lb.U=e.time;this.nd.reset();this.nd.U=e.walltime||0;this.nf=e.timescale;this.Eg=e.tickcount;this.ah=e.execcount;this.Yh=Date.now()-e.start_time_offset;var b=e.running_layout;if(b!==this.W.I)if(b=this.Cl(b))this.nl(b);else return;var c,k,f,d,q,g,l;g=a.types;for(k in g)if(g.hasOwnProperty(k)&&(d=this.kh(parseInt(k,10)))&&!d.K&&!this.Ln(d)){g[k].ex?d.fa=g[k].ex:Wa(d.fa);q=d.c;f=g[k].instances;b=0;for(c=oa(q.length,f.length);b<c;b++)this.zh(q[b],f[b]);b=f.length;for(c=q.length;b<
c;b++)this.Td(q[b]);b=q.length;for(c=f.length;b<c;b++){q=null;if(d.ma.Gd&&(q=this.W.ih(f[b].w.l),!q))continue;q=this.Ad(d.Gb,q,!1,0,0,!0);this.zh(q,f[b])}d.mf=!0}this.Ka();this.dn();c=a.layouts;for(k in c)c.hasOwnProperty(k)&&(b=this.Cl(parseInt(k,10)))&&b.yc(c[k]);c=a.events.groups;for(k in c)c.hasOwnProperty(k)&&(b=this.kq(parseInt(k,10)))&&this.lh[b.Lf]&&this.lh[b.Lf].Or(c[k]);b=a.events.cnds;for(k in b)b.hasOwnProperty(k)&&this.Ge.hasOwnProperty(k)&&(this.Ge[k].fa=b[k].ex);b=a.events.acts;for(k in b)b.hasOwnProperty(k)&&
this.De.hasOwnProperty(k)&&(this.De[k].fa=b[k].ex);b=a.events.vars;for(k in b)b.hasOwnProperty(k)&&this.rf.hasOwnProperty(k)&&(this.rf[k].data=b[k]);this.kg=e.next_uid;this.Hc.yc(a.system);b=0;for(c=this.i.length;b<c;b++)if(d=this.i[b],!d.K)for(k=0,a=d.c.length;k<a;k++){q=d.c[k];if(d.lb)for(g=q.Jf(),e=q.siblings.length=0,f=d.gb.length;e<f;e++)l=d.gb[e],d!==l&&q.siblings.push(l.c[g]);q.td&&q.td();if(q.B)for(e=0,f=q.B.length;e<f;e++)g=q.B[e],g.td&&g.td()}this.V=!0}};h.prototype.jk=function(a,e){var b,
k,f,d,q;d=a.type;f=d.ma;var g={};e?g.c2=!0:g.uid=a.uid;Va(a.fa)&&(g.ex=c(a.fa));if(a.ra&&a.ra.length)for(g.ivs={},b=0,k=a.ra.length;b<k;b++)g.ivs[a.type.oj[b].toString()]=a.ra[b];if(f.Gd){f={x:a.x,y:a.y,w:a.width,h:a.height,l:a.e.I,zi:a.wc()};0!==a.k&&(f.a=a.k);1!==a.opacity&&(f.o=a.opacity);.5!==a.ib&&(f.hX=a.ib);.5!==a.jb&&(f.hY=a.jb);0!==a.Va&&(f.bm=a.Va);a.visible||(f.v=a.visible);a.zf||(f.ce=a.zf);-1!==a.jg&&(f.mts=a.jg);if(d.A.length)for(f.fx=[],b=0,k=d.A.length;b<k;b++)q=d.A[b],f.fx.push({name:q.name,
active:a.sd[q.index],params:a.ca[q.index]});g.w=f}if(a.B&&a.B.length)for(g.behs={},b=0,k=a.B.length;b<k;b++)d=a.B[b],d.Qb&&(g.behs[d.type.I.toString()]=d.Qb());a.Qb&&(g.data=a.Qb());return g};h.prototype.mq=function(a,e){var b,k;b=0;for(k=a.oj.length;b<k;b++)if(a.oj[b]===e)return b;return-1};h.prototype.hq=function(a,e){var b,k;b=0;for(k=a.B.length;b<k;b++)if(a.B[b].type.I===e)return b;return-1};h.prototype.zh=function(a,e,b){var k,c,f,d,q;q=a.type;d=q.ma;if(b){if(!e.c2)return}else a.uid=e.uid;e.ex?
a.fa=e.ex:Wa(a.fa);if(c=e.ivs)for(k in c)c.hasOwnProperty(k)&&(f=this.mq(q,parseInt(k,10)),0>f||f>=a.ra.length||(a.ra[f]=c[k]));if(d.Gd){f=e.w;a.e.I!==f.l&&(c=a.e,a.e=this.W.ih(f.l),a.e?(c.gf(a,!0),a.e.vf(a,!0),a.Da(),a.e.wg(0)):(a.e=c,b||this.Td(a)));a.x=f.x;a.y=f.y;a.width=f.w;a.height=f.h;a.lc=f.zi;a.k=f.hasOwnProperty("a")?f.a:0;a.opacity=f.hasOwnProperty("o")?f.o:1;a.ib=f.hasOwnProperty("hX")?f.hX:.5;a.jb=f.hasOwnProperty("hY")?f.hY:.5;a.visible=f.hasOwnProperty("v")?f.v:!0;a.zf=f.hasOwnProperty("ce")?
f.ce:!0;a.jg=f.hasOwnProperty("mts")?f.mts:-1;a.Va=f.hasOwnProperty("bm")?f.bm:0;a.Af=fb(a.Va);this.g&&gb(a,a.Va,this.g);a.Da();if(f.hasOwnProperty("fx"))for(b=0,c=f.fx.length;b<c;b++)d=q.$i(f.fx[b].name),0>d||(a.sd[d]=f.fx[b].active,a.ca[d]=f.fx[b].params);a.md()}if(q=e.behs)for(k in q)q.hasOwnProperty(k)&&(b=this.hq(a,parseInt(k,10)),0>b||a.B[b].yc(q[k]));e.data&&a.yc(e.data)};Pb=function(a){return new h(document.getElementById(a))};Qb=function(a,e){return new h({dc:!0,width:a,height:e})};window.cr_createRuntime=
Pb;window.cr_createDCRuntime=Qb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Xk=!0;document.body.appendChild(a);a=new h(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new h(document.getElementById("canvas"));
window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var n=document.getElementById("c2canvas");return n?n.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(n,m){var h=window.cr_getC2Runtime();h&&h.bp(n,m)};window.cr_sizeCanvas=function(n,m){if(0!==n&&0!==m){var h=window.cr_getC2Runtime();h&&h.setSize(n,m)}};window.cr_setSuspended=function(n){var m=window.cr_getC2Runtime();m&&m.setSuspended(n)};
(function(){function n(a,b){this.b=a;this.ee=null;this.scrollX=this.b.ua/2;this.scrollY=this.b.ta/2;this.scale=1;this.k=0;this.Je=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.Mn=b[3];this.sn=b[4];this.I=b[5];var c=b[6],f,d;this.C=[];this.Of=[];f=0;for(d=c.length;f<d;f++){var g=new Rb(this,c[f]);g.Am=f;this.C.push(g)}c=b[7];this.ke=[];f=0;for(d=c.length;f<d;f++){var g=c[f],p=this.b.i[g[1]];p.Gb||(p.Gb=g);this.ke.push(g);-1===this.Of.indexOf(p)&&this.Of.push(p)}this.A=[];this.M=[];this.ca=
[];f=0;for(d=b[8].length;f<d;f++)this.A.push({id:b[8][f][0],name:b[8][f][1],Ja:-1,ub:!0,index:f}),this.ca.push(b[8][f][2].slice(0));this.md();this.bk=new va(0,0,1,1);this.ck=new va(0,0,1,1);this.Id={}}function m(a,b){return a.lc-b.lc}function h(a,b){this.za=a;this.b=a.b;this.c=[];this.scale=1;this.k=0;this.$d=!1;this.kd=new va(0,0,0,0);this.Gn=new wa;this.Ea=this.pa=this.Fa=this.na=0;this.ze=!1;this.pd=-1;this.name=b[0];this.index=b[1];this.I=b[2];this.visible=b[3];this.vd=b[4];this.ld=b[5];this.dd=
b[6];this.ed=b[7];this.opacity=b[8];this.Ui=b[9];this.kc=b[10];this.qd=b[11];this.Va=b[12];this.tp=b[13];this.Af="source-over";this.Ma=this.Pa=0;this.pb=null;this.We=t();this.fd=!0;this.uh=new va(0,0,-1,-1);this.Fb=new va(0,0,-1,-1);this.kc&&(this.pb=new eb(this.b.ua,this.b.ta));this.Jd=!1;var c=b[14],f,d;this.yn=[];this.zb=[];this.Bf=[];f=0;for(d=c.length;f<d;f++){var g=c[f],p=this.b.i[g[1]];p.Gb||(p.Gb=g,p.$o=this.index);this.zb.push(g);-1===this.za.Of.indexOf(p)&&this.za.Of.push(p)}Aa(this.yn,
this.zb);this.A=[];this.M=[];this.ca=[];f=0;for(d=b[15].length;f<d;f++)this.A.push({id:b[15][f][0],name:b[15][f][1],Ja:-1,ub:!0,index:f}),this.ca.push(b[15][f][2].slice(0));this.md();this.bk=new va(0,0,1,1);this.ck=new va(0,0,1,1)}function t(){return c.length?c.pop():[]}function u(a){a.length=0;c.push(a)}n.prototype.Lr=function(a){var b=a.type.I.toString();this.Id.hasOwnProperty(b)||(this.Id[b]=[]);this.Id[b].push(this.b.jk(a))};n.prototype.Hl=function(){var a=this.C[0];return!a.ld&&1===a.opacity&&
!a.Ui&&a.visible};n.prototype.md=function(){this.M.length=0;var a,b,c;a=0;for(b=this.A.length;a<b;a++)c=this.A[a],c.ub&&this.M.push(c)};n.prototype.Zi=function(a){var b,c,f;b=0;for(c=this.A.length;b<c;b++)if(f=this.A[b],f.name===a)return f;return null};var d=[],b=!0;n.prototype.pk=function(){this.sn&&(this.ee=this.b.Oi[this.sn],this.ee.xk());this.b.W=this;this.scrollX=this.b.ua/2;this.scrollY=this.b.ta/2;var a,c,q,f,g,l,p;a=0;for(q=this.b.i.length;a<q;a++)if(c=this.b.i[a],!c.K)for(g=c.c,c=0,f=g.length;c<
f;c++)if(l=g[c],l.e){var e=l.e.Am;e>=this.C.length&&(e=this.C.length-1);l.e=this.C[e];-1===l.e.c.indexOf(l)&&l.e.c.push(l);l.e.ze=!0}if(!b)for(a=0,q=this.C.length;a<q;++a)this.C[a].c.sort(m);d.length=0;this.No();a=0;for(q=this.C.length;a<q;a++)l=this.C[a],l.Xo(),l.zk();g=!1;if(!this.Je){for(p in this.Id)if(this.Id.hasOwnProperty(p)&&(c=this.b.kh(parseInt(p,10)))&&!c.K&&this.b.wk(c)){f=this.Id[p];a=0;for(q=f.length;a<q;a++){l=null;if(c.ma.Gd&&(l=this.ih(f[a].w.l),!l))continue;l=this.b.Ad(c.Gb,l,!1,
0,0,!0);this.b.zh(l,f[a]);g=!0;d.push(l)}f.length=0}a=0;for(q=this.C.length;a<q;a++)this.C[a].c.sort(m),this.C[a].ze=!0}g&&(this.b.Ka(),this.b.dn());for(a=0;a<d.length;a++)if(l=d[a],l.type.lb)for(q=l.Jf(),c=0,f=l.type.gb.length;c<f;c++)p=l.type.gb[c],l.type!==p&&(p.c.length>q?l.siblings.push(p.c[q]):p.Gb&&(g=this.b.Ad(p.Gb,l.e,!0,l.x,l.y,!0),this.b.Ka(),p.hi(),l.siblings.push(g),d.push(g)));a=0;for(q=this.ke.length;a<q;a++)this.b.Ad(this.ke[a],null,!0);this.b.Di=null;this.b.Ka();if(this.b.R&&!this.b.da)for(a=
0,q=this.b.i.length;a<q;a++)p=this.b.i[a],!p.K&&p.c.length&&p.Zm&&p.Zm(this.b.R);a=0;for(q=d.length;a<q;a++)l=d[a],this.b.trigger(Object.getPrototypeOf(l.type.ma).j.li,l);d.length=0;this.b.trigger(V.prototype.j.vo,null);this.Je=!1};n.prototype.Wo=function(){var a,b,c,f,d;b=a=0;for(c=this.ke.length;a<c;a++)f=this.ke[a],d=this.b.i[f[1]],d.global?d.lb||this.b.Ad(f,null,!0):(this.ke[b]=f,b++);this.ke.length=b};n.prototype.Wr=function(){this.b.trigger(V.prototype.j.uo,null);this.b.Hc.bb.length=0;var a,
c,d,f,g,l;if(!this.Je)for(a=0,c=this.C.length;a<c;a++)for(this.C[a].Ak(),g=this.C[a].c,d=0,f=g.length;d<f;d++)l=g[d],l.type.global||this.b.wk(l.type)&&this.Lr(l);a=0;for(c=this.C.length;a<c;a++){g=this.C[a].c;d=0;for(f=g.length;d<f;d++)l=g[d],l.type.global||this.b.Td(l);this.b.Ka();g.length=0;this.C[a].ze=!0}a=0;for(c=this.b.i.length;a<c;a++)if(g=this.b.i[a],!(g.global||g.ma.Gd||g.ma.Xh||g.K)){d=0;for(f=g.c.length;d<f;d++)this.b.Td(g.c[d]);this.b.Ka()}b=!1};new va(0,0,0,0);n.prototype.ae=function(a){var b,
c=a,f=!1,d=!this.b.Ib;d&&(this.b.xh||(this.b.xh=document.createElement("canvas"),b=this.b.xh,b.width=this.b.G,b.height=this.b.F,this.b.am=b.getContext("2d"),f=!0),b=this.b.xh,c=this.b.am,b.width!==this.b.G&&(b.width=this.b.G,f=!0),b.height!==this.b.F&&(b.height=this.b.F,f=!0),f&&(c.webkitImageSmoothingEnabled=this.b.T,c.mozImageSmoothingEnabled=this.b.T,c.msImageSmoothingEnabled=this.b.T,c.imageSmoothingEnabled=this.b.T));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.b.oi&&!this.Hl()&&
c.clearRect(0,0,this.b.G,this.b.F);var g,l,f=0;for(g=this.C.length;f<g;f++)l=this.C[f],l.visible&&0<l.opacity&&11!==l.Va&&(l.c.length||!l.ld)?l.ae(c):l.zk();d&&a.drawImage(b,0,0,this.b.width,this.b.height)};n.prototype.Zb=function(a){var b=0<this.M.length||this.b.pf||!this.b.Ib;if(b){this.b.nb||(this.b.nb=a.zd(this.b.G,this.b.F,this.b.T));if(this.b.nb.yf!==this.b.G||this.b.nb.xf!==this.b.F)a.deleteTexture(this.b.nb),this.b.nb=a.zd(this.b.G,this.b.F,this.b.T);a.Fc(this.b.nb);this.b.Ib||a.kf(this.b.G,
this.b.F)}else this.b.nb&&(a.Fc(null),a.deleteTexture(this.b.nb),this.b.nb=null);this.b.oi&&!this.Hl()&&a.clear(0,0,0,0);var c,f,d;c=0;for(f=this.C.length;c<f;c++)d=this.C[c],d.visible&&0<d.opacity&&(d.c.length||!d.ld)?d.Zb(a):d.zk();b&&(0===this.M.length||1===this.M.length&&this.b.Ib?(1===this.M.length?(b=this.M[0].index,a.Gc(this.M[0].Ja),a.jf(null,1/this.b.G,1/this.b.F,0,0,1,1,this.scale,this.k,0,0,this.b.G/2,this.b.F/2,this.ca[b]),a.Ph(this.M[0].Ja)&&(this.b.V=!0)):a.Gc(0),this.b.Ib||a.kf(this.b.width,
this.b.height),a.Fc(null),a.vg(1),a.Rb(this.b.nb),a.mn(),a.Kd(),a.Rd(),b=this.b.width/2,c=this.b.height/2,a.Rh(-b,c,b,c,b,-c,-b,-c),a.Rb(null)):this.dk(a,null,null,null))};n.prototype.If=function(){return 0<this.M.length||this.b.pf||!this.b.Ib?this.b.nb:null};n.prototype.Dl=function(){var a=this.C[0].ac(),b,c,f;b=1;for(c=this.C.length;b<c;b++)f=this.C[b],(0!==f.dd||0!==f.ed)&&f.ac()<a&&(a=f.ac());return a};n.prototype.kn=function(a){if(!this.Mn){var b=1/this.Dl()*this.b.G/2;a>this.width-b&&(a=this.width-
b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.V=!0)};n.prototype.ln=function(a){if(!this.Mn){var b=1/this.Dl()*this.b.F/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.V=!0)};n.prototype.No=function(){this.kn(this.scrollX);this.ln(this.scrollY)};n.prototype.dk=function(a,b,c,f){var d=c?c.M:b?b.M:this.M,g=1,l=0,e=0,r=0,w=this.b.G,h=this.b.F;c?(g=c.e.ac(),l=c.e.xa(),e=c.e.na,r=c.e.pa,w=c.e.Fa,h=c.e.Ea):b&&(g=b.ac(),l=b.xa(),e=b.na,r=b.pa,w=b.Fa,h=b.Ea);
var m=this.b.Xi,n,t,u,z,J=0,qa=1,X,G=this.b.G,v=this.b.F,ua=G/2,H=v/2,O=b?b.bk:this.bk,E=b?b.ck:this.ck,F=0,N=0,D=0,L=0,I=G,ia=G,M=v,na=v,ea=u=0,ra=c?c.e.xa():0;if(c){n=0;for(t=d.length;n<t;n++)u+=a.qq(d[n].Ja),ea+=a.rq(d[n].Ja);z=c.Ra;F=b.Mb(z.left,z.top,!0);D=b.Mb(z.left,z.top,!1);I=b.Mb(z.right,z.bottom,!0);M=b.Mb(z.right,z.bottom,!1);0!==ra&&(n=b.Mb(z.right,z.top,!0),t=b.Mb(z.right,z.top,!1),N=b.Mb(z.left,z.bottom,!0),L=b.Mb(z.left,z.bottom,!1),z=Math.min(F,I,n,N),I=Math.max(F,I,n,N),F=z,z=Math.min(D,
M,t,L),M=Math.max(D,M,t,L),D=z);F-=u;D-=ea;I+=u;M+=ea;E.left=F/G;E.top=1-D/v;E.right=I/G;E.bottom=1-M/v;N=F=Q(F);L=D=Q(D);ia=I=sa(I);na=M=sa(M);N-=u;L-=ea;ia+=u;na+=ea;0>F&&(F=0);0>D&&(D=0);I>G&&(I=G);M>v&&(M=v);0>N&&(N=0);0>L&&(L=0);ia>G&&(ia=G);na>v&&(na=v);O.left=F/G;O.top=1-D/v;O.right=I/G;O.bottom=1-M/v}else O.left=E.left=0,O.top=E.top=0,O.right=E.right=1,O.bottom=E.bottom=1;ea=c&&((c.k||ra)&&a.rg(d[0].Ja)||0!==u||0!==ea||1!==c.opacity||c.type.ma.wm)||b&&!c&&1!==b.opacity;a.mn();if(ea){m[J]||
(m[J]=a.zd(G,v,this.b.T));if(m[J].yf!==G||m[J].xf!==v)a.deleteTexture(m[J]),m[J]=a.zd(G,v,this.b.T);a.Gc(0);a.Fc(m[J]);X=na-L;a.clearRect(N,v-L-X,ia-N,X);c?c.Zb(a):(a.Rb(this.b.Ab),a.vg(b.opacity),a.Kd(),a.translate(-ua,-H),a.Rd(),a.xe(F,M,I,M,I,D,F,D,O));E.left=E.top=0;E.right=E.bottom=1;c&&(z=O.top,O.top=O.bottom,O.bottom=z);J=1;qa=0}a.vg(1);u=d.length-1;var ra=a.Yj(d[u].Ja)||!b&&!c&&!this.b.Ib,ca=0;n=0;for(t=d.length;n<t;n++){m[J]||(m[J]=a.zd(G,v,this.b.T));if(m[J].yf!==G||m[J].xf!==v)a.deleteTexture(m[J]),
m[J]=a.zd(G,v,this.b.T);a.Gc(d[n].Ja);ca=d[n].index;a.Ph(d[n].Ja)&&(this.b.V=!0);0!=n||ea?(a.jf(f,1/G,1/v,E.left,E.top,E.right,E.bottom,g,l,e,r,(e+w)/2,(r+h)/2,c?c.ca[ca]:b?b.ca[ca]:this.ca[ca]),a.Rb(null),n!==u||ra?(a.Fc(m[J]),X=na-L,z=v-L-X,a.clearRect(N,z,ia-N,X)):(c?a.Ld(c.Pa,c.Ma):b&&a.Ld(b.Pa,b.Ma),a.Fc(f)),a.Rb(m[qa]),a.Kd(),a.translate(-ua,-H),a.Rd(),a.xe(F,M,I,M,I,D,F,D,O),n!==u||ra||a.Rb(null)):(a.Fc(m[J]),X=na-L,z=v-L-X,a.clearRect(N,z,ia-N,X),c?(a.jf(f,1/c.width,1/c.height,E.left,E.top,
E.right,E.bottom,g,l,e,r,(e+w)/2,(r+h)/2,c.ca[ca]),c.Zb(a)):(a.jf(f,1/G,1/v,0,0,1,1,g,l,e,r,(e+w)/2,(r+h)/2,b?b.ca[ca]:this.ca[ca]),a.Rb(b?this.b.Ab:this.b.nb),a.Kd(),a.translate(-ua,-H),a.Rd(),a.xe(F,M,I,M,I,D,F,D,O)),E.left=E.top=0,E.right=E.bottom=1,c&&!ra&&(z=M,M=D,D=z));J=0===J?1:0;qa=0===J?1:0}ra&&(a.Gc(0),c?a.Ld(c.Pa,c.Ma):b?a.Ld(b.Pa,b.Ma):this.b.Ib||(a.kf(this.b.width,this.b.height),ua=this.b.width/2,H=this.b.height/2,D=F=0,I=this.b.width,M=this.b.height),a.Fc(f),a.Rb(m[qa]),a.Kd(),a.translate(-ua,
-H),a.Rd(),c&&1===d.length&&!ea?a.xe(F,D,I,D,I,M,F,M,O):a.xe(F,M,I,M,I,D,F,D,O),a.Rb(null))};n.prototype.ih=function(a){var b,c;b=0;for(c=this.C.length;b<c;b++)if(this.C[b].I===a)return this.C[b];return null};n.prototype.Qb=function(){var a,b,c,f={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.k,w:this.width,h:this.height,fv:this.Je,persist:this.Id,fx:[],layers:{}};a=0;for(b=this.A.length;a<b;a++)c=this.A[a],f.fx.push({name:c.name,active:c.ub,params:this.ca[c.index]});a=0;for(b=this.C.length;a<
b;a++)c=this.C[a],f.layers[c.I.toString()]=c.Qb();return f};n.prototype.yc=function(a){var b,c,f,d;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.k=a.a;this.width=a.w;this.height=a.h;this.Id=a.persist;"undefined"!==typeof a.fv&&(this.Je=a.fv);var g=a.fx;b=0;for(c=g.length;b<c;b++)if(f=this.Zi(g[b].name))f.ub=g[b].active,this.ca[f.index]=g[b].params;this.md();b=a.layers;for(d in b)b.hasOwnProperty(d)&&(a=this.ih(parseInt(d,10)))&&a.yc(b[d])};Db=n;h.prototype.md=function(){this.M.length=0;
var a,b,c;a=0;for(b=this.A.length;a<b;a++)c=this.A[a],c.ub&&this.M.push(c)};h.prototype.Zi=function(a){var b,c,f;b=0;for(c=this.A.length;b<c;b++)if(f=this.A[b],f.name===a)return f;return null};h.prototype.Xo=function(){var a,b,c,f,g,l;b=a=0;for(c=this.zb.length;a<c;a++){f=this.zb[a];g=this.b.i[f[1]];l=this.b.wk(g);g=!0;if(!l||this.za.Je)f=this.b.Ad(f,this,!0),d.push(f),f.type.global&&(g=!1,this.Bf.push(f.uid));g&&(this.zb[b]=this.zb[a],b++)}this.zb.length=b;this.b.Ka();!this.b.q&&this.A.length&&(this.Va=
this.tp);this.Af=fb(this.Va);this.b.g&&gb(this,this.Va,this.b.g);this.fd=!0};h.prototype.gf=function(a,b){var c=Ca(this.c,a);0>c||(b&&this.kc&&a.Ya&&a.Ya.right>=a.Ya.left&&(a.Qa(),this.pb.update(a,a.Ya,null),a.Ya.set(0,0,-1,-1)),c===this.c.length-1?this.c.pop():(ya(this.c,c),this.wg(c)),this.fd=!0)};h.prototype.vf=function(a,b){a.lc=this.c.length;this.c.push(a);b&&this.kc&&a.Ya&&a.Da();this.fd=!0};h.prototype.xr=function(a){this.c.unshift(a);this.wg(0)};h.prototype.er=function(a,b,c){var f=a.wc();
b=b.wc();ya(this.c,f);f<b&&b--;c&&b++;b===this.c.length?this.c.push(a):this.c.splice(b,0,a);this.wg(f<b?f:b)};h.prototype.wg=function(a){-1===this.pd?this.pd=a:a<this.pd&&(this.pd=a);this.fd=this.ze=!0};h.prototype.Ak=function(){if(this.ze){-1===this.pd&&(this.pd=0);var a,b,c;if(this.kc)for(a=this.pd,b=this.c.length;a<b;++a)c=this.c[a],c.lc=a,this.pb.br(c.Ya);else for(a=this.pd,b=this.c.length;a<b;++a)this.c[a].lc=a;this.ze=!1;this.pd=-1}};h.prototype.ac=function(a){return this.nq()*(this.b.Ib||a?
this.b.wf:1)};h.prototype.nq=function(){return(this.scale*this.za.scale-1)*this.qd+1};h.prototype.xa=function(){return this.$d?0:Ga(this.za.k+this.k)};var c=[],g=[],l=[];h.prototype.El=function(){this.Ak();this.pb.cn(this.na,this.pa,this.Fa,this.Ea,l);if(!l.length)return t();if(1===l.length){var a=t();Aa(a,l[0]);l.length=0;return a}for(var b=!0;1<l.length;){for(var a=l,c=void 0,f=void 0,d=void 0,h=void 0,p=void 0,c=0,f=a.length;c<f-1;c+=2){var d=a[c],h=a[c+1],p=t(),e=d,r=h,w=p,m=0,n=0,A=0,Y=e.length,
Z=r.length,z=void 0,J=void 0;for(w.length=Y+Z;m<Y&&n<Z;++A)z=e[m],J=r[n],z.lc<J.lc?(w[A]=z,++m):(w[A]=J,++n);for(;m<Y;++m,++A)w[A]=e[m];for(;n<Z;++n,++A)w[A]=r[n];b||(u(d),u(h));g.push(p)}1===f%2&&(b?(d=t(),Aa(d,a[f-1]),g.push(d)):g.push(a[f-1]));Aa(a,g);g.length=0;b=!1}a=l[0];l.length=0;return a};h.prototype.ae=function(a){this.Jd=this.Ui||1!==this.opacity||0!==this.Va;var b=this.b.canvas,c=a,f=!1;this.Jd&&(this.b.wh||(this.b.wh=document.createElement("canvas"),b=this.b.wh,b.width=this.b.G,b.height=
this.b.F,this.b.$l=b.getContext("2d"),f=!0),b=this.b.wh,c=this.b.$l,b.width!==this.b.G&&(b.width=this.b.G,f=!0),b.height!==this.b.F&&(b.height=this.b.F,f=!0),f&&(c.webkitImageSmoothingEnabled=this.b.T,c.mozImageSmoothingEnabled=this.b.T,c.msImageSmoothingEnabled=this.b.T,c.imageSmoothingEnabled=this.b.T),this.ld&&c.clearRect(0,0,this.b.G,this.b.F));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.ld||(c.fillStyle="rgb("+this.vd[0]+","+this.vd[1]+","+this.vd[2]+")",c.fillRect(0,0,this.b.G,
this.b.F));c.save();this.$d=!0;var f=this.eb(0,0,!0,!0),d=this.eb(0,0,!1,!0);this.$d=!1;this.b.df&&(f=Math.round(f),d=Math.round(d));this.fk(f,d,c);var g=this.ac();c.scale(g,g);c.translate(-f,-d);this.kc?(this.Fb.left=this.pb.sb(this.na),this.Fb.top=this.pb.tb(this.pa),this.Fb.right=this.pb.sb(this.Fa),this.Fb.bottom=this.pb.tb(this.Ea),this.fd||!this.Fb.Zg(this.uh)?(u(this.We),f=this.El(),this.fd=!1,this.uh.Qg(this.Fb)):f=this.We):f=this.c;for(var l,e=null,d=0,g=f.length;d<g;++d)l=f[d],l!==e&&(this.qp(l,
c),e=l);this.kc&&(this.We=f);c.restore();this.Jd&&(a.globalCompositeOperation=this.Af,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};h.prototype.qp=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Qa();var c=a.Ra;c.right<this.na||c.bottom<this.pa||c.left>this.Fa||c.top>this.Ea||(b.globalCompositeOperation=a.Af,a.ae(b))}};h.prototype.zk=function(){this.$d=!0;var a=this.eb(0,0,!0,!0),b=this.eb(0,0,!1,!0);this.$d=!1;this.b.df&&(a=Math.round(a),b=Math.round(b));this.fk(a,b,null)};h.prototype.fk=
function(a,b,c){var f=this.ac();this.na=a;this.pa=b;this.Fa=a+1/f*this.b.G;this.Ea=b+1/f*this.b.F;a=this.xa();0!==a&&(c&&(c.translate(this.b.G/2,this.b.F/2),c.rotate(-a),c.translate(this.b.G/-2,this.b.F/-2)),this.kd.set(this.na,this.pa,this.Fa,this.Ea),this.kd.offset((this.na+this.Fa)/-2,(this.pa+this.Ea)/-2),this.Gn.qn(this.kd,a),this.Gn.cl(this.kd),this.kd.offset((this.na+this.Fa)/2,(this.pa+this.Ea)/2),this.na=this.kd.left,this.pa=this.kd.top,this.Fa=this.kd.right,this.Ea=this.kd.bottom)};h.prototype.Zb=
function(a){var b=0,c=0;if(this.Jd=this.Ui||1!==this.opacity||0<this.M.length||0!==this.Va){this.b.Ab||(this.b.Ab=a.zd(this.b.G,this.b.F,this.b.T));if(this.b.Ab.yf!==this.b.G||this.b.Ab.xf!==this.b.F)a.deleteTexture(this.b.Ab),this.b.Ab=a.zd(this.b.G,this.b.F,this.b.T);a.Fc(this.b.Ab);this.ld&&a.clear(0,0,0,0)}this.ld||a.clear(this.vd[0]/255,this.vd[1]/255,this.vd[2]/255,1);this.$d=!0;var f=this.eb(0,0,!0,!0),b=this.eb(0,0,!1,!0);this.$d=!1;this.b.df&&(f=Math.round(f),b=Math.round(b));this.fk(f,b,
null);f=this.ac();a.Kd();a.scale(f,f);a.hn(-this.xa());a.translate((this.na+this.Fa)/-2,(this.pa+this.Ea)/-2);a.Rd();this.kc?(this.Fb.left=this.pb.sb(this.na),this.Fb.top=this.pb.tb(this.pa),this.Fb.right=this.pb.sb(this.Fa),this.Fb.bottom=this.pb.tb(this.Ea),this.fd||!this.Fb.Zg(this.uh)?(u(this.We),b=this.El(),this.fd=!1,this.uh.Qg(this.Fb)):b=this.We):b=this.c;var d,g,l=null,c=0;for(d=b.length;c<d;++c)g=b[c],g!==l&&(this.rp(b[c],a),l=g);this.kc&&(this.We=b);this.Jd&&(b=this.M.length?this.M[0].Ja:
0,c=this.M.length?this.M[0].index:0,0===this.M.length||1===this.M.length&&!a.Yj(b)&&1===this.opacity?(1===this.M.length?(a.Gc(b),a.jf(this.za.If(),1/this.b.G,1/this.b.F,0,0,1,1,f,this.xa(),this.na,this.pa,(this.na+this.Fa)/2,(this.pa+this.Ea)/2,this.ca[c]),a.Ph(b)&&(this.b.V=!0)):a.Gc(0),a.Fc(this.za.If()),a.vg(this.opacity),a.Rb(this.b.Ab),a.Ld(this.Pa,this.Ma),a.Kd(),a.Rd(),f=this.b.G/2,b=this.b.F/2,a.Rh(-f,b,f,b,f,-b,-f,-b),a.Rb(null)):this.za.dk(a,this,null,this.za.If()))};h.prototype.rp=function(a,
b){if(a.visible&&0!==a.width&&0!==a.height){a.Qa();var c=a.Ra;c.right<this.na||c.bottom<this.pa||c.left>this.Fa||c.top>this.Ea||(a.Sn?this.sp(a,b):(b.Gc(0),b.Ld(a.Pa,a.Ma),a.Zb(b)))}};h.prototype.sp=function(a,b){var c=a.M[0].Ja,f=a.M[0].index,d=this.ac();if(1!==a.M.length||b.Yj(c)||b.Ar(c)||(a.k||a.e.xa())&&b.rg(c)||1!==a.opacity||a.type.ma.wm)this.za.dk(b,this,a,this.Jd?this.b.Ab:this.za.If()),b.Kd(),b.scale(d,d),b.hn(-this.xa()),b.translate((this.na+this.Fa)/-2,(this.pa+this.Ea)/-2),b.Rd();else{b.Gc(c);
b.Ld(a.Pa,a.Ma);b.Ph(c)&&(this.b.V=!0);var g=0,l=0,e=0,r=0;b.rg(c)&&(c=a.Ra,g=this.Mb(c.left,c.top,!0),l=this.Mb(c.left,c.top,!1),e=this.Mb(c.right,c.bottom,!0),c=this.Mb(c.right,c.bottom,!1),g=g/windowWidth,l=1-l/windowHeight,e=e/windowWidth,r=1-c/windowHeight);b.jf(this.Jd?this.b.Ab:this.za.If(),1/a.width,1/a.height,g,l,e,r,d,this.xa(),this.na,this.pa,(this.na+this.Fa)/2,(this.pa+this.Ea)/2,a.ca[f]);a.Zb(b)}};h.prototype.eb=function(a,b,c,f){var d=this.b.devicePixelRatio;this.b.me&&(a*=d,b*=d);
var d=this.b.Sm,g=this.b.Tm,d=(this.za.scrollX-d)*this.dd+d,g=(this.za.scrollY-g)*this.ed+g,l=d,e=g,r=1/this.ac(!f);f?(l-=this.b.G*r/2,e-=this.b.F*r/2):(l-=this.b.width*r/2,e-=this.b.height*r/2);l+=a*r;e+=b*r;b=this.xa();0!==b&&(l-=d,e-=g,a=Math.cos(b),b=Math.sin(b),f=l*a-e*b,e=e*a+l*b,l=f+d,e+=g);return c?l:e};h.prototype.Mb=function(a,b,c){var f=this.b.Sm,d=this.b.Tm,f=(this.za.scrollX-f)*this.dd+f,g=(this.za.scrollY-d)*this.ed+d,d=f,l=g,e=this.xa();if(0!==e){a-=f;b-=g;var r=Math.cos(-e),e=Math.sin(-e),
w=a*r-b*e;b=b*r+a*e;a=w+f;b+=g}f=1/this.ac(!1);d-=this.b.G*f/2;l-=this.b.F*f/2;d=(a-d)/f;return c?d:(b-l)/f};h.prototype.Qb=function(){var a,b,c,d={s:this.scale,a:this.k,vl:this.na,vt:this.pa,vr:this.Fa,vb:this.Ea,v:this.visible,bc:this.vd,t:this.ld,px:this.dd,py:this.ed,o:this.opacity,zr:this.qd,fx:[],cg:this.Bf,instances:[]};a=0;for(b=this.A.length;a<b;a++)c=this.A[a],d.fx.push({name:c.name,active:c.ub,params:this.ca[c.index]});return d};h.prototype.yc=function(a){var b,c,d;this.scale=a.s;this.k=
a.a;this.na=a.vl;this.pa=a.vt;this.Fa=a.vr;this.Ea=a.vb;this.visible=a.v;this.vd=a.bc;this.ld=a.t;this.dd=a.px;this.ed=a.py;this.opacity=a.o;this.qd=a.zr;this.Bf=a.cg||[];Aa(this.zb,this.yn);var g=new ba;b=0;for(d=this.Bf.length;b<d;++b)g.add(this.Bf[b]);c=b=0;for(d=this.zb.length;b<d;++b)g.contains(this.zb[b][2])||(this.zb[c]=this.zb[b],++c);this.zb.length=c;c=a.fx;b=0;for(d=c.length;b<d;b++)if(a=this.Zi(c[b].name))a.ub=c[b].active,this.ca[a.index]=c[b].params;this.md();this.c.sort(m);this.ze=!0};
Rb=h})();
(function(){function n(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function m(a,b){return a.index-b.index}function h(a){var b,c,d,f;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(m);a.length>=x.length&&(x.length=a.length+1);x[a.length]||(x[a.length]=[]);f=x[a.length];b=0;for(c=f.length;b<c;b++)if(d=f[b],n(a,d))return d;f.push(a);return a}
function t(a,b){this.b=a;this.In={};this.rl={};this.ij=!1;this.Jl=new ba;this.Ji=[];this.pi=[];this.name=b[0];var c=b[1];this.Cd=[];var d,f;d=0;for(f=c.length;d<f;d++)this.Ll(c[d],null,this.Cd)}function u(a){this.type=a;this.c=[];this.N=[];this.X=!0}function d(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Z=[];this.Md=[];this.Il=this.ei=this.tk=this.mj=this.group=this.xn=!1;this.La=[];this.Wb=[];this.Tb=[];this.Lf="";this.Kf=this.mj=this.group=!1;this.Og=null;c[1]&&(this.Lf=c[1][1].toLowerCase(),
this.group=!0,this.mj=!!c[1][0],this.Og=[],this.Kf=this.mj,this.b.Ee.push(this),this.b.lh[this.Lf]=this);this.Ac=c[2];this.I=c[4];this.group||(this.b.bl[this.I.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var f=new Sb(this,d[a]);f.index=a;this.La.push(f);this.Rk(f.type)}d=c[6];a=0;for(b=d.length;a<b;a++)f=new Tb(this,d[a]),f.index=a,this.Wb.push(f);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Ll(c[a],this,this.Tb);this.qh=!1;this.La.length&&(this.qh=null==this.La[0].type&&
this.La[0].Ga==V.prototype.j.ao)}function b(a,b){var c,d,f;if(a&&(-1===b.indexOf(a)&&b.push(a),a.lb))for(c=0,d=a.gb.length;c<d;c++)f=a.gb[c],a!==f&&-1===b.indexOf(f)&&b.push(f)}function c(a,b){this.wb=a;this.sheet=a.sheet;this.b=a.b;this.D=[];this.ea=[];this.fa={};this.index=-1;this.tf=!1;this.Ga=this.b.rd(b[1]);this.trigger=0<b[3];this.ql=2===b[3];this.zc=b[4];this.pj=b[5];this.Xq=b[6];this.I=b[7];this.b.Ge[this.I.toString()]=this;-1===b[0]?(this.type=null,this.va=this.ik,this.Xd=null,this.Yb=-1):
(this.type=this.b.i[b[0]],this.va=this.Xq?this.Jr:this.hk,b[2]?(this.Xd=this.type.hh(b[2]),this.Yb=this.type.Yi(b[2])):(this.Xd=null,this.Yb=-1),this.wb.parent&&this.wb.parent.Vh());this.ql&&(this.va=this.Kr);if(10===b.length){var c,d,f=b[9];c=0;for(d=f.length;c<d;c++){var g=new Ub(this,f[c]);this.D.push(g)}this.ea.length=f.length}}function g(a,b){this.wb=a;this.sheet=a.sheet;this.b=a.b;this.D=[];this.ea=[];this.fa={};this.index=-1;this.tf=!1;this.Ga=this.b.rd(b[1]);-1===b[0]?(this.type=null,this.va=
this.ik,this.Xd=null,this.Yb=-1):(this.type=this.b.i[b[0]],this.va=this.hk,b[2]?(this.Xd=this.type.hh(b[2]),this.Yb=this.type.Yi(b[2])):(this.Xd=null,this.Yb=-1));this.I=b[3];this.b.De[this.I.toString()]=this;if(6===b.length){var c,d,f=b[5];c=0;for(d=f.length;c<d;c++){var g=new Ub(this,f[c]);this.D.push(g)}this.ea.length=f.length}}function l(){p++;C.length===p&&C.push(new Vb);return C[p]}function a(a,b){this.Pb=a;this.wb=a.wb;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.uc=null;this.jd=0;this.get=
null;this.jl=0;this.za=null;this.key=0;this.object=null;this.index=0;this.Gg=this.ye=this.Gg=this.ye=this.sl=this.fe=this.Hg=null;this.Vb=!1;var c,d,f;switch(b[0]){case 0:case 7:this.uc=new Wb(this,b[1]);this.jd=0;this.get=this.xq;break;case 1:this.uc=new Wb(this,b[1]);this.jd=0;this.get=this.yq;break;case 5:this.uc=new Wb(this,b[1]);this.jd=0;this.get=this.Cq;break;case 3:case 8:this.jl=b[1];this.get=this.vq;break;case 6:this.za=this.b.Aj[b[1]];this.get=this.Dq;break;case 9:this.key=b[1];this.get=
this.Bq;break;case 4:this.object=this.b.i[b[1]];this.get=this.Eq;this.wb.Rk(this.object);this.Pb instanceof Tb?this.wb.Vh():this.wb.parent&&this.wb.parent.Vh();break;case 10:this.index=b[1];a.type.K?(this.get=this.zq,this.Vb=!0):this.get=this.Aq;break;case 11:this.Hg=b[1];this.fe=null;this.get=this.wq;break;case 2:case 12:this.sl=b[1];this.get=this.uq;break;case 13:for(this.get=this.Fq,this.ye=[],this.Gg=[],c=1,d=b.length;c<d;c++)f=new Ub(this.Pb,b[c]),this.ye.push(f),this.Gg.push(0)}}function k(a,
b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Z=[];this.name=c[1];this.lj=c[3];this.Uf=!!c[4];this.ph=!!c[5];this.I=c[6];this.b.rf[this.I.toString()]=this;this.data=this.lj;this.parent?(this.ue=this.Uf||this.ph?-1:this.b.Ur++,this.b.Jo.push(this)):(this.ue=-1,this.b.Io.push(this))}function q(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Z=[];this.Nf=null;this.Lq=c[1];this.ub=!0}function f(){this.An=[];this.reset(null)}var x=[];t.prototype.toString=function(){return this.name};t.prototype.Ll=
function(a,b,c){switch(a[0]){case 0:a=new Xb(this,b,a);if(a.Ac)for(c.push(a),c=0,b=a.La.length;c<b;c++)a.La[c].trigger&&this.Ml(a,c);else a.Tl()?this.Ml(a,0):c.push(a);break;case 1:a=new Ob(this,b,a);c.push(a);break;case 2:a=new Yb(this,b,a),c.push(a)}};t.prototype.ja=function(){var a,b;a=0;for(b=this.Cd.length;a<b;a++)this.Cd[a].ja(a<b-1&&this.Cd[a+1].qh)};t.prototype.xk=function(){S(this.Ji);S(this.pi);this.Qk(this);S(this.pi)};t.prototype.Qk=function(a){var b,c,d,f,g=a.Ji,l=a.pi,k=this.Jl.Sd();
b=0;for(c=k.length;b<c;++b)d=k[b],f=d.Nf,!d.ub||a===f||-1<l.indexOf(f)||(l.push(f),f.Qk(a),g.push(f))};t.prototype.va=function(a){this.b.Dt||(this.ij=!0,a||(this.b.tj=!0));var b,c;b=0;for(c=this.Cd.length;b<c;b++){var d=this.Cd[b];d.va();this.b.Ei(d.Z);this.b.Ed&&this.b.Ka()}a||(this.b.tj=!1)};t.prototype.Ml=function(a,b){a.Ac||this.b.gi.push(a);var c,d,f=a.La[b],g;f.type?g=f.type.name:g="system";var l=(c=f.ql)?this.rl:this.In;l[g]||(l[g]=[]);g=l[g];l=f.Ga;if(c){if(f.D.length&&(f=f.D[0],1===f.type&&
2===f.uc.type)){f=f.uc.value.toLowerCase();c=0;for(d=g.length;c<d;c++)if(g[c].method==l){c=g[c].Ef;c[f]?c[f].push([a,b]):c[f]=[[a,b]];return}c={};c[f]=[[a,b]];g.push({method:l,Ef:c})}}else{c=0;for(d=g.length;c<d;c++)if(g[c].method==l){g[c].Ef.push([a,b]);return}jc&&l===jc.prototype.j.Ce?g.unshift({method:l,Ef:[[a,b]]}):g.push({method:l,Ef:[[a,b]]})}};Eb=t;u.prototype.hj=function(){return this.X?this.type.c.length:this.c.length};u.prototype.$b=function(){return this.X?this.type.c:this.c};u.prototype.qg=
function(a){a&&(a.b.Xa().xb.Ac?(this.X&&(S(this.c),Aa(this.N,a.type.c),this.X=!1),a=this.N.indexOf(a),-1!==a&&(this.c.push(this.N[a]),this.N.splice(a,1))):(this.X=!1,S(this.c),this.c[0]=a))};mb=u;window._c2hh_="";d.prototype.ja=function(a){var b,c=this.parent;if(this.group)for(this.ei=!0;c;){if(!c.group){this.ei=!1;break}c=c.parent}this.tk=!this.Tl()&&(!this.parent||this.parent.group&&this.parent.ei);this.Il=!!a;this.Md=this.Z.slice(0);for(c=this.parent;c;){a=0;for(b=c.Z.length;a<b;a++)this.Go(c.Z[a]);
c=c.parent}this.Z=h(this.Z);this.Md=h(this.Md);a=0;for(b=this.La.length;a<b;a++)this.La[a].ja();a=0;for(b=this.Wb.length;a<b;a++)this.Wb[a].ja();a=0;for(b=this.Tb.length;a<b;a++)this.Tb[a].ja(a<b-1&&this.Tb[a+1].qh)};d.prototype.Or=function(a){if(this.Kf!==!!a){this.Kf=!!a;var b;a=0;for(b=this.Og.length;a<b;++a)this.Og[a].Pn();0<b&&this.b.W.ee&&this.b.W.ee.xk()}};d.prototype.Rk=function(a){b(a,this.Z)};d.prototype.Go=function(a){b(a,this.Md)};d.prototype.Vh=function(){this.xn=!0;this.parent&&this.parent.Vh()};
d.prototype.Tl=function(){return this.La.length?this.La[0].trigger:!1};d.prototype.va=function(){var a,b,c=!1,d=this.b,f=this.b.Xa();f.xb=this;var g=this.La;this.qh||(f.Mi=!1);if(this.Ac){0===g.length&&(c=!0);f.fb=0;for(a=g.length;f.fb<a;f.fb++)b=g[f.fb],b.trigger||(b=b.va())&&(c=!0);(f.pe=c)&&this.gk()}else{f.fb=0;for(a=g.length;f.fb<a;f.fb++)if(b=g[f.fb].va(),!b){f.pe=!1;this.tk&&d.Ed&&d.Ka();return}f.pe=!0;this.gk()}this.vp(f)};d.prototype.vp=function(a){a.pe&&this.Il&&(a.Mi=!0);this.tk&&this.b.Ed&&
this.b.Ka()};d.prototype.Hr=function(a){this.b.Xa().xb=this;this.La[a].va()&&(this.gk(),this.b.Xa().pe=!0)};d.prototype.gk=function(){var a=this.b.Xa(),b;a.cb=0;for(b=this.Wb.length;a.cb<b;a.cb++)if(this.Wb[a.cb].va())return;this.jn()};d.prototype.Fr=function(){var a=this.b.Xa(),b;for(b=this.Wb.length;a.cb<b;a.cb++)if(this.Wb[a.cb].va())return;this.jn()};d.prototype.jn=function(){if(this.Tb.length){var a,b,c,d,f=this.Tb.length-1;this.b.$j(this);if(this.xn)for(a=0,b=this.Tb.length;a<b;a++)c=this.Tb[a],
(d=!this.ei||!this.group&&a<f)&&this.b.Zj(c.Z),c.va(),d?this.b.ef(c.Z):this.b.Ei(c.Z);else for(a=0,b=this.Tb.length;a<b;a++)this.Tb[a].va();this.b.Xm()}};d.prototype.Ir=function(){var a=this.b.Xa();a.xb=this;var b=!1,c;a.fb=0;for(c=this.La.length;a.fb<c;a.fb++)if(this.La[a.fb].va())b=!0;else if(!this.Ac)return!1;return this.Ac?b:!0};d.prototype.Qq=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.La[b].type===a.type)return!1;return!0};Xb=d;c.prototype.ja=function(){var a,b,c;a=
0;for(b=this.D.length;a<b;a++)c=this.D[a],c.ja(),c.Vb&&(this.tf=!0)};c.prototype.Kr=function(){return!0};c.prototype.ik=function(){var a,b;a=0;for(b=this.D.length;a<b;a++)this.ea[a]=this.D[a].get();return Ua(this.Ga.apply(this.b.Hc,this.ea),this.pj)};c.prototype.Jr=function(){var a,b;a=0;for(b=this.D.length;a<b;a++)this.ea[a]=this.D[a].get();a=this.Ga.apply(this.Xd?this.Xd:this.type,this.ea);this.type.ud();return a};c.prototype.hk=function(){var a,b,c,d,f,g,l,k,p=this.type,q=p.S(),h=this.wb.Ac&&!this.trigger;
b=0;var m=p.lb,n=p.K,x=p.Wc,t=this.Yb,C=-1<t,u=this.tf,E=this.D,F=this.ea,N=this.pj,D=this.Ga,L;if(u)for(b=0,f=E.length;b<f;++b)g=E[b],g.Vb||(F[b]=g.get(0));else for(b=0,f=E.length;b<f;++b)F[b]=E[b].get(0);if(q.X){S(q.c);S(q.N);L=p.c;a=0;for(d=L.length;a<d;++a){k=L[a];if(u)for(b=0,f=E.length;b<f;++b)g=E[b],g.Vb&&(F[b]=g.get(a));C?(b=0,n&&(b=k.type.Ie[x]),b=D.apply(k.B[t+b],F)):b=D.apply(k,F);(l=Ua(b,N))?q.c.push(k):h&&q.N.push(k)}p.finish&&p.finish(!0);q.X=!1;p.ud();return q.hj()}c=0;L=(l=h&&!this.wb.Qq(this))?
q.N:q.c;var I=!1;a=0;for(d=L.length;a<d;++a){k=L[a];if(u)for(b=0,f=E.length;b<f;++b)g=E[b],g.Vb&&(F[b]=g.get(a));C?(b=0,n&&(b=k.type.Ie[x]),b=D.apply(k.B[t+b],F)):b=D.apply(k,F);if(Ua(b,N))if(I=!0,l){if(q.c.push(k),m)for(b=0,f=k.siblings.length;b<f;b++)g=k.siblings[b],g.type.S().c.push(g)}else{L[c]=k;if(m)for(b=0,f=k.siblings.length;b<f;b++)g=k.siblings[b],g.type.S().c[c]=g;c++}else if(l){L[c]=k;if(m)for(b=0,f=k.siblings.length;b<f;b++)g=k.siblings[b],g.type.S().N[c]=g;c++}else if(h&&(q.N.push(k),
m))for(b=0,f=k.siblings.length;b<f;b++)g=k.siblings[b],g.type.S().N.push(g)}za(L,c);if(m)for(n=p.gb,a=0,d=n.length;a<d;a++)k=n[a].S(),l?za(k.N,c):za(k.c,c);c=I;if(l&&!I)for(a=0,d=q.c.length;a<d;a++){k=q.c[a];if(u)for(b=0,f=E.length;b<f;b++)g=E[b],g.Vb&&(F[b]=g.get(a));b=C?D.apply(k.B[t],F):D.apply(k,F);if(Ua(b,N)){I=!0;break}}p.finish&&p.finish(c||h);return h?I:q.hj()};Sb=c;g.prototype.ja=function(){var a,b,c;a=0;for(b=this.D.length;a<b;a++)c=this.D[a],c.ja(),c.Vb&&(this.tf=!0)};g.prototype.ik=function(){var a=
this.b,b,c,f=this.D,d=this.ea;b=0;for(c=f.length;b<c;++b)d[b]=f[b].get();return this.Ga.apply(a.Hc,d)};g.prototype.hk=function(){var a=this.type,b=this.Yb,c=a.Wc,f=this.tf,d=this.D,g=this.ea,l=this.Ga,k=a.S().$b(),a=a.K,p=-1<b,q,h,m,n,x,t;if(f)for(h=0,n=d.length;h<n;++h)x=d[h],x.Vb||(g[h]=x.get(0));else for(h=0,n=d.length;h<n;++h)g[h]=d[h].get(0);q=0;for(m=k.length;q<m;++q){t=k[q];if(f)for(h=0,n=d.length;h<n;++h)x=d[h],x.Vb&&(g[h]=x.get(q));p?(h=0,a&&(h=t.type.Ie[c]),l.apply(t.B[b+h],g)):l.apply(t,
g)}return!1};Tb=g;var C=[],p=-1;a.prototype.ja=function(){var a,b;if(11===this.type)this.fe=this.b.Al(this.Hg,this.wb.parent);else if(13===this.type)for(a=0,b=this.ye.length;a<b;a++)this.ye[a].ja();this.uc&&this.uc.ja()};a.prototype.dr=function(a){this.Vb||!a||a.ma.Xh||(this.Vb=!0)};a.prototype.pn=function(){this.Vb=!0};a.prototype.xq=function(a){this.jd=a||0;a=l();this.uc.get(a);p--;return a.data};a.prototype.yq=function(a){this.jd=a||0;a=l();this.uc.get(a);p--;return P(a.data)?a.data:""};a.prototype.Eq=
function(){return this.object};a.prototype.vq=function(){return this.jl};a.prototype.Cq=function(a){this.jd=a||0;a=l();this.uc.get(a);p--;return a.ya()?this.b.Hf(a.data):this.b.bj(a.data)};a.prototype.Dq=function(){return this.za};a.prototype.Bq=function(){return this.key};a.prototype.Aq=function(){return this.index};a.prototype.zq=function(a){a=a||0;var b=this.Pb.type,c=null,c=b.S(),f=c.$b();if(f.length)c=f[a%f.length].type;else if(c.N.length)c=c.N[a%c.N.length].type;else if(b.c.length)c=b.c[a%b.c.length].type;
else return 0;return this.index+c.bh[b.Wc]};a.prototype.wq=function(){return this.fe};a.prototype.uq=function(){return this.sl};a.prototype.Fq=function(){var a,b;a=0;for(b=this.ye.length;a<b;a++)this.Gg[a]=this.ye[a].get();return this.Gg};Ub=a;k.prototype.ja=function(){this.Z=h(this.Z)};k.prototype.Sr=function(a){var b=this.b.yl();this.parent&&!this.Uf&&b?(this.ue>=b.length&&(b.length=this.ue+1),b[this.ue]=a):this.data=a};k.prototype.tq=function(){var a=this.b.yl();return!this.parent||this.Uf||!a||
this.ph?this.data:this.ue>=a.length||"undefined"===typeof a[this.ue]?this.lj:a[this.ue]};k.prototype.va=function(){!this.parent||this.Uf||this.ph||this.Sr(this.lj)};Ob=k;q.prototype.toString=function(){return"include:"+this.Nf.toString()};q.prototype.ja=function(){this.Nf=this.b.Oi[this.Lq];this.sheet.Jl.add(this);this.Z=h(this.Z);for(var a=this.parent;a;)a.group&&a.Og.push(this),a=a.parent;this.Pn()};q.prototype.va=function(){this.parent&&this.b.sg(this.b.i);this.Nf.ij||this.Nf.va(!0);this.parent&&
this.b.ef(this.b.i)};q.prototype.Pn=function(){for(var a=this.parent;a;){if(a.group&&!a.Kf){this.ub=!1;return}a=a.parent}this.ub=!0};Yb=q;f.prototype.reset=function(a){this.xb=a;this.cb=this.fb=0;S(this.An);this.Mi=this.pe=!1};Nb=f})();
(function(){function n(b,c){this.Pb=b;this.b=b.b;this.type=c[0];this.get=[this.Mp,this.Ip,this.Vp,this.Yp,this.xp,this.Wp,this.Qp,this.Fp,this.Pp,this.Up,this.yp,this.Tp,this.Gp,this.Rp,this.Np,this.Op,this.Jp,this.Kp,this.Ep,this.Xp,this.Sp,this.Lp,this.Dp,this.Hp][this.type];var d=null;this.bd=this.D=this.ea=this.Ga=this.di=this.second=this.first=this.value=null;this.Yb=-1;this.cc=null;this.Tn=-1;this.fe=this.Hg=null;this.hf=!1;switch(this.type){case 0:case 1:case 2:this.value=c[1];break;case 3:this.first=
new Wb(b,c[1]);break;case 18:this.first=new Wb(b,c[1]);this.second=new Wb(b,c[2]);this.di=new Wb(b,c[3]);break;case 19:this.Ga=this.b.rd(c[1]);this.Ga!==V.prototype.vc.random&&this.Ga!==V.prototype.vc.So||this.Pb.pn();this.ea=[];this.D=[];3===c.length?(d=c[2],this.ea.length=d.length+1):this.ea.length=1;break;case 20:this.bd=this.b.i[c[1]];this.Yb=-1;this.Ga=this.b.rd(c[2]);this.hf=c[3];$b.Function&&this.Ga===$b.Function.prototype.vc.rs&&this.Pb.pn();c[4]?this.cc=new Wb(b,c[4]):this.cc=null;this.ea=
[];this.D=[];6===c.length?(d=c[5],this.ea.length=d.length+1):this.ea.length=1;break;case 21:this.bd=this.b.i[c[1]];this.hf=c[2];c[3]?this.cc=new Wb(b,c[3]):this.cc=null;this.Tn=c[4];break;case 22:this.bd=this.b.i[c[1]];this.bd.hh(c[2]);this.Yb=this.bd.Yi(c[2]);this.Ga=this.b.rd(c[3]);this.hf=c[4];c[5]?this.cc=new Wb(b,c[5]):this.cc=null;this.ea=[];this.D=[];7===c.length?(d=c[6],this.ea.length=d.length+1):this.ea.length=1;break;case 23:this.Hg=c[1],this.fe=null}this.Pb.dr(this.bd);4<=this.type&&17>=
this.type&&(this.first=new Wb(b,c[1]),this.second=new Wb(b,c[2]));if(d){var l,a;l=0;for(a=d.length;l<a;l++)this.D.push(new Wb(b,d[l]))}}function m(){++d;u.length===d&&u.push(new Vb);return u[d]}function h(b,c,d){var l,a;l=0;for(a=b.length;l<a;++l)b[l].get(d),c[l+1]=d.data}function t(b,c){this.type=b||U.Be;this.data=c||0;this.ve=null;this.type==U.Be&&(this.data=Math.floor(this.data))}n.prototype.ja=function(){23===this.type&&(this.fe=this.Pb.b.Al(this.Hg,this.Pb.wb.parent));this.first&&this.first.ja();
this.second&&this.second.ja();this.di&&this.di.ja();this.cc&&this.cc.ja();if(this.D){var b,c;b=0;for(c=this.D.length;b<c;b++)this.D[b].ja()}};var u=[],d=-1;n.prototype.Xp=function(b){var c=this.D,g=this.ea;g[0]=b;b=m();h(c,g,b);--d;this.Ga.apply(this.b.Hc,g)};n.prototype.Sp=function(b){var c=this.bd,g=this.ea,l=this.D,a=this.cc,k=this.Ga,q=this.Pb.jd,f=c.S(),n=f.$b();if(!n.length)if(f.N.length)n=f.N;else{this.hf?b.qb(""):b.Y(0);return}g[0]=b;b.ve=c;b=m();h(l,g,b);a&&(a.get(b),b.ya()&&(q=b.data,n=
c.c));--d;c=n.length;if(q>=c||q<=-c)q%=c;0>q&&(q+=c);k.apply(n[q],g)};n.prototype.Dp=function(b){var c=this.bd,g=this.ea,l=this.D,a=this.cc,k=this.Yb,q=this.Ga,f=this.Pb.jd,n=c.S(),t=n.$b();if(!t.length)if(n.N.length)t=n.N;else{this.hf?b.qb(""):b.Y(0);return}g[0]=b;b.ve=c;b=m();h(l,g,b);a&&(a.get(b),b.ya()&&(f=b.data,t=c.c));--d;l=t.length;if(f>=l||f<=-l)f%=l;0>f&&(f+=l);f=t[f];t=0;c.K&&(t=f.type.Ie[c.Wc]);q.apply(f.B[k+t],g)};n.prototype.Lp=function(b){var c=this.cc,g=this.bd,l=this.Tn,a=this.Pb.jd,
k=g.S(),h=k.$b();if(!h.length)if(k.N.length)h=k.N;else{this.hf?b.qb(""):b.Y(0);return}if(c){k=m();c.get(k);if(k.ya()){a=k.data;g=g.c;a%=g.length;0>a&&(a+=g.length);l=g[a].ra[l];P(l)?b.qb(l):b.n(l);--d;return}--d}c=h.length;if(a>=c||a<=-c)a%=c;0>a&&(a+=c);a=h[a];h=0;g.K&&(h=a.type.bh[g.Wc]);l=a.ra[l+h];P(l)?b.qb(l):b.n(l)};n.prototype.Mp=function(b){b.type=U.Be;b.data=this.value};n.prototype.Ip=function(b){b.type=U.Ae;b.data=this.value};n.prototype.Vp=function(b){b.type=U.String;b.data=this.value};
n.prototype.Yp=function(b){this.first.get(b);b.ya()&&(b.data=-b.data)};n.prototype.xp=function(b){this.first.get(b);var c=m();this.second.get(c);b.ya()&&c.ya()&&(b.data+=c.data,c.Se()&&b.Ye());--d};n.prototype.Wp=function(b){this.first.get(b);var c=m();this.second.get(c);b.ya()&&c.ya()&&(b.data-=c.data,c.Se()&&b.Ye());--d};n.prototype.Qp=function(b){this.first.get(b);var c=m();this.second.get(c);b.ya()&&c.ya()&&(b.data*=c.data,c.Se()&&b.Ye());--d};n.prototype.Fp=function(b){this.first.get(b);var c=
m();this.second.get(c);b.ya()&&c.ya()&&(b.data/=c.data,b.Ye());--d};n.prototype.Pp=function(b){this.first.get(b);var c=m();this.second.get(c);b.ya()&&c.ya()&&(b.data%=c.data,c.Se()&&b.Ye());--d};n.prototype.Up=function(b){this.first.get(b);var c=m();this.second.get(c);b.ya()&&c.ya()&&(b.data=Math.pow(b.data,c.data),c.Se()&&b.Ye());--d};n.prototype.yp=function(b){this.first.get(b);var c=m();this.second.get(c);c.Ve()||b.Ve()?this.Ap(b,c):this.zp(b,c);--d};n.prototype.Ap=function(b,c){b.Ve()&&c.Ve()?
this.Cp(b,c):this.Bp(b,c)};n.prototype.Cp=function(b,c){b.data+=c.data};n.prototype.Bp=function(b,c){b.Ve()?b.data+=(Math.round(1E10*c.data)/1E10).toString():b.qb(b.data.toString()+c.data)};n.prototype.zp=function(b,c){b.Y(b.data&&c.data?1:0)};n.prototype.Tp=function(b){this.first.get(b);var c=m();this.second.get(c);b.ya()&&c.ya()&&(b.data||c.data?b.Y(1):b.Y(0));--d};n.prototype.Ep=function(b){this.first.get(b);b.data?this.second.get(b):this.di.get(b)};n.prototype.Gp=function(b){this.first.get(b);
var c=m();this.second.get(c);b.Y(b.data===c.data?1:0);--d};n.prototype.Rp=function(b){this.first.get(b);var c=m();this.second.get(c);b.Y(b.data!==c.data?1:0);--d};n.prototype.Np=function(b){this.first.get(b);var c=m();this.second.get(c);b.Y(b.data<c.data?1:0);--d};n.prototype.Op=function(b){this.first.get(b);var c=m();this.second.get(c);b.Y(b.data<=c.data?1:0);--d};n.prototype.Jp=function(b){this.first.get(b);var c=m();this.second.get(c);b.Y(b.data>c.data?1:0);--d};n.prototype.Kp=function(b){this.first.get(b);
var c=m();this.second.get(c);b.Y(b.data>=c.data?1:0);--d};n.prototype.Hp=function(b){var c=this.fe.tq();ha(c)?b.n(c):b.qb(c)};Wb=n;t.prototype.Se=function(){return this.type===U.Ae};t.prototype.ya=function(){return this.type===U.Be||this.type===U.Ae};t.prototype.Ve=function(){return this.type===U.String};t.prototype.Ye=function(){this.Se()||(this.Ve()&&(this.data=parseFloat(this.data)),this.type=U.Ae)};t.prototype.Y=function(b){this.type=U.Be;this.data=Math.floor(b)};t.prototype.n=function(b){this.type=
U.Ae;this.data=b};t.prototype.qb=function(b){this.type=U.String;this.data=b};t.prototype.Tr=function(b){ha(b)?(this.type=U.Ae,this.data=b):P(b)?(this.type=U.String,this.data=b.toString()):(this.type=U.Be,this.data=0)};Vb=t;U={Be:0,Ae:1,String:2}})();function V(n){this.b=n;this.bb=[]}
V.prototype.Qb=function(){var n={},m,h,t,u,d,b,c,g;n.waits=[];var l=n.waits,a;m=0;for(h=this.bb.length;m<h;m++){b=this.bb[m];a={t:b.time,st:b.vn,s:b.ok,ev:b.He.I,sm:[],sols:{}};b.He.Wb[b.cb]&&(a.act=b.He.Wb[b.cb].I);t=0;for(u=b.Z.length;t<u;t++)a.sm.push(b.Z[t].I);for(d in b.Ta)if(b.Ta.hasOwnProperty(d)){c=this.b.i[parseInt(d,10)];g={sa:b.Ta[d].Th,insts:[]};t=0;for(u=b.Ta[d].Zc.length;t<u;t++)g.insts.push(b.Ta[d].Zc[t].uid);a.sols[c.I.toString()]=g}l.push(a)}return n};
V.prototype.yc=function(n){n=n.waits;var m,h,t,u,d,b,c,g,l,a,k;S(this.bb);m=0;for(h=n.length;m<h;m++)if(b=n[m],g=this.b.bl[b.ev.toString()]){l=-1;t=0;for(u=g.Wb.length;t<u;t++)if(g.Wb[t].I===b.act){l=t;break}if(-1!==l){c={Ta:{},Z:[],Ki:!1};c.time=b.t;c.vn=b.st||"";c.ok=!!b.s;c.He=g;c.cb=l;t=0;for(u=b.sm.length;t<u;t++)(g=this.b.kh(b.sm[t]))&&c.Z.push(g);for(d in b.sols)if(b.sols.hasOwnProperty(d)&&(g=this.b.kh(parseInt(d,10)))){l=b.sols[d];a={Th:l.sa,Zc:[]};t=0;for(u=l.insts.length;t<u;t++)(k=this.b.jh(l.insts[t]))&&
a.Zc.push(k);c.Ta[g.index.toString()]=a}this.bb.push(c)}}};
(function(){function n(){}function m(){}function h(){}var t=V.prototype;n.prototype.vo=function(){return!0};n.prototype.uo=function(){return!0};n.prototype.ao=function(){var b=this.b.Xa();return b.Mi?!1:!b.pe};n.prototype.Gk=function(){return!0};n.prototype.lo=function(){return!0};n.prototype.ni=function(){return!0};n.prototype.wo=function(){return!0};n.prototype.mi=function(){return!0};n.prototype.Vn=function(b,c,d){return La(T(b),T(d))<=T(c)};n.prototype.co=function(b,c){return Ra(T(b),T(c))};n.prototype.bo=
function(b,c,d){b=Ja(b);c=Ja(c);d=Ja(d);return Ra(d,c)?Ra(b,c)&&!Ra(b,d):!(!Ra(b,c)&&Ra(b,d))};t.j=new n;m.prototype.Zn=function(b,c,d,l){if(c&&b&&(c=this.b.kl(b,c,d,l))){this.b.fc++;var a;this.b.trigger(Object.getPrototypeOf(b.ma).j.li,c);if(c.lb)for(d=0,l=c.siblings.length;d<l;d++)a=c.siblings[d],this.b.trigger(Object.getPrototypeOf(a.type.ma).j.li,a);this.b.fc--;b=b.S();b.X=!1;S(b.c);b.c[0]=c;if(c.lb)for(d=0,l=c.siblings.length;d<l;d++)a=c.siblings[d],b=a.type.S(),b.X=!1,S(b.c),b.c[0]=a}};var u=
[],d=[];m.prototype.yo=function(b){if(!(0>b)){var c,g,l,a=this.b.Xa(),k;u.length?k=u.pop():k={Ta:{},Z:[]};k.Ki=!1;k.time=this.b.Lb.U+b;k.vn="";k.ok=!1;k.He=a.xb;k.cb=a.cb+1;b=0;for(c=this.b.i.length;b<c;b++)l=this.b.i[b],g=l.S(),g.X&&-1===a.xb.Z.indexOf(l)||(k.Z.push(l),l=void 0,d.length?l=d.pop():l={Zc:[]},l.Th=!1,l.Th=g.X,Aa(l.Zc,g.c),k.Ta[b.toString()]=l);this.bb.push(k);return!0}};t.mc=new m;h.prototype["int"]=function(b,c){P(c)?(b.Y(parseInt(c,10)),isNaN(b.data)&&(b.data=0)):b.Y(c)};h.prototype["float"]=
function(b,c){P(c)?(b.n(parseFloat(c)),isNaN(b.data)&&(b.data=0)):b.n(c)};h.prototype.random=function(b,c,d){void 0===d?b.n(Math.random()*c):b.n(Math.random()*(d-c)+c)};h.prototype.sqrt=function(b,c){b.n(Math.sqrt(c))};h.prototype.abs=function(b,c){b.n(Math.abs(c))};h.prototype.round=function(b,c){b.Y(Math.round(c))};h.prototype.floor=function(b,c){b.Y(Math.floor(c))};h.prototype.ceil=function(b,c){b.Y(Math.ceil(c))};h.prototype.sin=function(b,c){b.n(Math.sin(T(c)))};h.prototype.cos=function(b,c){b.n(Math.cos(T(c)))};
h.prototype.tan=function(b,c){b.n(Math.tan(T(c)))};h.prototype.asin=function(b,c){b.n(Ea(Math.asin(c)))};h.prototype.acos=function(b,c){b.n(Ea(Math.acos(c)))};h.prototype.atan=function(b,c){b.n(Ea(Math.atan(c)))};h.prototype.exp=function(b,c){b.n(Math.exp(c))};h.prototype.log10=function(b,c){b.n(Math.log(c)/Math.LN10)};h.prototype.max=function(b){var c=arguments[1];"number"!==typeof c&&(c=0);var d,l,a;d=2;for(l=arguments.length;d<l;d++)a=arguments[d],"number"===typeof a&&c<a&&(c=a);b.n(c)};h.prototype.min=
function(b){var c=arguments[1];"number"!==typeof c&&(c=0);var d,l,a;d=2;for(l=arguments.length;d<l;d++)a=arguments[d],"number"===typeof a&&c>a&&(c=a);b.n(c)};h.prototype.be=function(b){b.n(this.b.be)};h.prototype.nf=function(b){b.n(this.b.nf)};h.prototype.time=function(b){b.n(this.b.Lb.U)};h.prototype.Eg=function(b){b.Y(this.b.Eg)};h.prototype.Ih=function(b){b.Y(this.b.Ih)};h.prototype.Vi=function(b){b.Y(this.b.Vi)};h.prototype.k=function(b,c,d,l,a){b.n(Ea(Ka(c,d,l,a)))};h.prototype.left=function(b,
c,d){b.qb(P(c)?c.substr(0,d):"")};h.prototype.right=function(b,c,d){b.qb(P(c)?c.substr(c.length-d):"")};h.prototype.replace=function(b,c,d,l){P(c)&&P(d)&&P(l)?b.qb(c.replace(new RegExp(bb(d),"gi"),l)):b.qb(P(c)?c:"")};h.prototype.trim=function(b,c){b.qb(P(c)?c.trim():"")};h.prototype.So=function(b){var c=Q(Math.random()*(arguments.length-1));b.Tr(arguments[c+1])};h.prototype.Fi=function(b){b.n(this.b.Fi/1E3)};h.prototype.Ch=function(b){b.n(this.b.Ch)};t.vc=new h;t.Gr=function(){var b,c,g,l,a,k,h=
this.b.Xa();b=0;for(g=this.bb.length;b<g;b++){l=this.bb[b];if(-1===l.time){if(!l.ok)continue}else if(l.time>this.b.Lb.U)continue;h.xb=l.He;h.cb=l.cb;h.fb=0;for(c in l.Ta)l.Ta.hasOwnProperty(c)&&(a=this.b.i[parseInt(c,10)].S(),k=l.Ta[c],a.X=k.Th,Aa(a.c,k.Zc),a=k,S(a.Zc),d.push(a));l.He.Fr();this.b.Ei(l.Z);l.Ki=!0}c=b=0;for(g=this.bb.length;b<g;b++)l=this.bb[b],this.bb[c]=l,l.Ki?(Wa(l.Ta),S(l.Z),u.push(l)):c++;za(this.bb,c)}})();
(function(){lb=function(m,h){var n=m[1],u=m[3],d=m[4],b=m[5],c=m[6],g=m[7],l=m[8];h.j||(h.j={});h.mc||(h.mc={});h.vc||(h.vc={});var a=h.j,k=h.mc,q=h.vc;u&&(a.ws=function(a,b){return Zb(this.x,a,b)},a.xs=function(a,b){return Zb(this.y,a,b)},a.Ds=function(){var a=this.e;this.Qa();var b=this.Ra;return!(b.right<a.na||b.bottom<a.pa||b.left>a.Fa||b.top>a.Ea)},a.Es=function(){this.Qa();var a=this.Ra,b=this.b.W;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},a.Qs=function(a,b,c){var d=this.S(),
e=d.$b();if(!e.length)return!1;var g=e[0],l=g,k=Ta(g.x,g.y,b,c),h,q,m;h=1;for(q=e.length;h<q;h++)if(g=e[h],m=Ta(g.x,g.y,b,c),0===a&&m<k||1===a&&m>k)k=m,l=g;d.qg(l);return!0},k.lt=function(a){this.x!==a&&(this.x=a,this.Da())},k.mt=function(a){this.y!==a&&(this.y=a,this.Da())},k.ft=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.Da()},k.gt=function(a,b){var c=a.oq(this);if(c){var d;c.aj?(d=c.aj(b,!0),c=c.aj(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.Da()}},
k.Js=function(a){0!==a&&(this.x+=Math.cos(this.k)*a,this.y+=Math.sin(this.k)*a,this.Da())},k.Is=function(a,b){0!==b&&(this.x+=Math.cos(T(a))*b,this.y+=Math.sin(T(a))*b,this.Da())},q.zo=function(a){a.n(this.x)},q.Ao=function(a){a.n(this.y)},q.be=function(a){a.n(this.b.zl(this))});d&&(a.vs=function(a,b){return Zb(this.width,a,b)},a.ss=function(a,b){return Zb(this.height,a,b)},k.kt=function(a){this.width!==a&&(this.width=a,this.Da())},k.ct=function(a){this.height!==a&&(this.height=a,this.Da())},k.ht=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.Da()},q.qt=function(a){a.n(this.width)},q.zs=function(a){a.n(this.height)},q.os=function(a){this.Qa();a.n(this.Ra.left)},q.qs=function(a){this.Qa();a.n(this.Ra.top)},q.ps=function(a){this.Qa();a.n(this.Ra.right)},q.ns=function(a){this.Qa();a.n(this.Ra.bottom)});b&&(a.Vn=function(a,b){return La(this.k,T(b))<=T(a)},a.co=function(a){return Ra(this.k,T(a))},a.bo=function(a,b){var c=Ja(a),d=Ja(b),e=Ga(this.k);return Ra(d,
c)?Ra(e,c)&&!Ra(e,d):!(!Ra(e,c)&&Ra(e,d))},k.Ys=function(a){a=T(Fa(a));isNaN(a)||this.k===a||(this.k=a,this.Da())},k.Us=function(a){0===a||isNaN(a)||(this.k+=T(a),this.k=Ga(this.k),this.Da())},k.Vs=function(a){0===a||isNaN(a)||(this.k-=T(a),this.k=Ga(this.k),this.Da())},k.Ws=function(a,b){var c=Qa(this.k,T(b),T(a));isNaN(c)||this.k===c||(this.k=c,this.Da())},k.Xs=function(a,b,c){a=Qa(this.k,Math.atan2(c-this.y,b-this.x),T(a));isNaN(a)||this.k===a||(this.k=a,this.Da())},k.it=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.k===c||(this.k=c,this.Da())},q.ms=function(a){a.n(Ia(this.k))});n||(a.ts=function(a,b,c){return Zb(this.ra[a],b,c)},a.Bs=function(a){return this.ra[a]},a.Rs=function(a,b){var c=this.S(),d=c.$b();if(!d.length)return!1;var e=d[0],g=e,l=e.ra[b],k,h,q;k=1;for(h=d.length;k<h;k++)if(e=d[k],q=e.ra[b],0===a&&q<l||1===a&&q>l)l=q,g=e;c.qg(g);return!0},a.Ps=function(a){var b,c,d,e,g;if(this.b.iq().pj){g=this.S();if(g.X)for(g.X=!1,S(g.c),S(g.N),d=this.c,b=0,c=d.length;b<c;b++)e=
d[b],e.uid===a?g.N.push(e):g.c.push(e);else{d=b=0;for(c=g.c.length;b<c;b++)e=g.c[b],g.c[d]=e,e.uid===a?g.N.push(e):d++;za(g.c,d)}this.ud();return!!g.c.length}e=this.b.jh(a);if(!e)return!1;g=this.S();if(!g.X&&-1===g.c.indexOf(e))return!1;if(this.K)for(a=e.type.aa,b=0,c=a.length;b<c;b++){if(a[b]===this)return g.qg(e),this.ud(),!0}else if(e.type===this)return g.qg(e),this.ud(),!0;return!1},a.li=function(){return!0},a.mo=function(){return!0},k.dt=function(a,b){var c=this.ra;ha(c[a])?c[a]=ha(b)?b:parseFloat(b):
P(c[a])&&(c[a]=P(b)?b:b.toString())},k.ls=function(a,b){var c=this.ra;ha(c[a])?c[a]=ha(b)?c[a]+b:c[a]+parseFloat(b):P(c[a])&&(c[a]=P(b)?c[a]+b:c[a]+b.toString())},k.nt=function(a,b){var c=this.ra;ha(c[a])&&(c[a]=ha(b)?c[a]-b:c[a]-parseFloat(b))},k.Zs=function(a,b){this.ra[a]=b?1:0},k.ot=function(a){this.ra[a]=1-this.ra[a]},k.$n=function(){this.b.Td(this)},k.fo||(k.fo=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.b.zh(this,b,!0);this.td&&this.td();if(this.B)for(a=0,b=this.B.length;a<
b;++a)c=this.B[a],c.td&&c.td()}),q.ys=function(a){var b=a.ve.c.length,c,d,e;c=0;for(d=this.b.tc.length;c<d;c++)e=this.b.tc[c],a.ve.K?0<=e.type.aa.indexOf(a.ve)&&b++:e.type===a.ve&&b++;a.Y(b)},q.Ts=function(a){a.Y(a.ve.S().$b().length)},q.pt=function(a){a.Y(this.uid)},q.As=function(a){a.Y(this.Jf())},q.Wn||(q.Wn=function(a){a.qb(JSON.stringify(this.b.jk(this,!0)))}));c&&(a.Fs=function(){return this.visible},k.jt=function(a){!a!==!this.visible&&(this.visible=a,this.b.V=!0)},a.us=function(a,b){return Zb(hb(100*
this.opacity),a,b)},k.et=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.V=!0)},q.Opacity=function(a){a.n(hb(100*this.opacity))});g&&(a.Cs=function(a){return a?this.e===a:!1},a.Ss=function(a){var b=this.S(),c=b.$b();if(!c.length)return!1;var d=c[0],e=d,g,l;g=1;for(l=c.length;g<l;g++)if(d=c[g],0===a){if(d.e.index>e.e.index||d.e.index===e.e.index&&d.wc()>e.wc())e=d}else if(d.e.index<e.e.index||d.e.index===e.e.index&&d.wc()<e.wc())e=d;b.qg(e);return!0},k.Ms=function(){var a=
this.e,b=a.c;b.length&&b[b.length-1]===this||(a.gf(this,!1),a.vf(this,!1),this.b.V=!0)},k.Ks=function(){var a=this.e,b=a.c;b.length&&b[0]===this||(a.gf(this,!1),a.xr(this),this.b.V=!0)},k.Ls=function(a){a&&a!=this.e&&(this.e.gf(this,!0),this.e=a,a.vf(this,!0),this.b.V=!0)},k.ut=function(a,b){var c=0===a;if(b){var d=b.jq(this);d&&d.uid!==this.uid&&(this.e.index!==d.e.index&&(this.e.gf(this,!0),this.e=d.e,d.e.vf(this,!0)),this.e.er(this,d,c),this.b.V=!0)}},q.Hs=function(a){a.Y(this.e.Am)},q.Gs=function(a){a.qb(this.e.name)},
q.tt=function(a){a.Y(this.wc())});l&&(k.$s=function(a,b){if(this.b.q){var c=this.type.$i(b);if(!(0>c)){var d=1===a;this.sd[c]!==d&&(this.sd[c]=d,this.md(),this.b.V=!0)}}},k.bt=function(a,b,c){if(this.b.q){var d=this.type.$i(a);0>d||(a=this.type.A[d],d=this.ca[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.q.sq(a.Ja,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.ub&&(this.b.V=!0))))}})};Fb=function(){this.xi=this.ri=!0;this.type.Uk=!0;this.b.V=!0;var m,h,n=this.si;m=0;for(h=n.length;m<h;++m)n[m](this);this.e.kc&&
this.Qa()};Gb=function(m){m&&this.si.push(m)};Ib=function(){if(this.ri){var m=this.Ra,h=this.Mg;m.set(this.x,this.y,this.x+this.width,this.y+this.height);m.offset(-this.ib*this.width,-this.jb*this.height);this.k?(m.offset(-this.x,-this.y),h.qn(m,this.k),h.offset(this.x,this.y),h.cl(m)):h.Wh(m);m.normalize();this.ri=!1;this.es()}};var n=new va(0,0,0,0);Jb=function(){if(this.e.kc){var m=this.e.pb,h=this.Ra;n.set(m.sb(h.left),m.tb(h.top),m.sb(h.right),m.tb(h.bottom));this.Ya.Zg(n)||(this.Ya.right<this.Ya.left?
m.update(this,null,n):m.update(this,this.Ya,n),this.Ya.Qg(n),this.e.fd=!0)}};Kb=function(){if(this.xi&&this.zf){this.Qa();var m=this.type.il,h=this.Ra;n.set(m.sb(h.left),m.tb(h.top),m.sb(h.right),m.tb(h.bottom));this.yd.Zg(n)||(this.yd.right<this.yd.left?m.update(this,null,n):m.update(this,this.yd,n),this.yd.Qg(n),this.xi=!1)}};Hb=function(m,h){return this.Ra.Db(m,h)&&this.Mg.Db(m,h)?this.sc&&!this.sc.Vq()?(this.sc.Po(this.width,this.height,this.k),this.sc.Db(m-this.x,h-this.y)):!0:!1};Bb=function(){this.type.hi();
return this.je};Lb=function(){this.e.Ak();return this.lc};Mb=function(){S(this.M);var m,h;m=0;for(h=this.sd.length;m<h;m++)this.sd[m]&&this.M.push(this.type.A[m]);this.Sn=!!this.M.length};Cb=function(){return"Inst"+this.bn};ob=function(m){if(m&&m.lb&&m.type!=this){var h,n,u;h=0;for(n=m.siblings.length;h<n;h++)if(u=m.siblings[h],u.type==this)return u}m=this.S().$b();return m.length?m[0]:null};qb=function(m){var h=this.S().$b();return h.length?h[m.Jf()%h.length]:null};nb=function(){if(this.mf&&!this.K){var m,
h;m=0;for(h=this.c.length;m<h;m++)this.c[m].je=m;var n=m,u=this.b.tc;m=0;for(h=u.length;m<h;++m)u[m].type===this&&(u[m].je=n++);this.mf=!1}};zb=function(m){if(m<this.c.length)return this.c[m];m-=this.c.length;var h=this.b.tc,n,u;n=0;for(u=h.length;n<u;++n)if(h[n].type===this){if(0===m)return h[n];--m}return null};rb=function(){return this.Nd[this.Uc]};sb=function(){this.Uc++;this.Uc===this.Nd.length?this.Nd.push(new mb(this)):this.Nd[this.Uc].X=!0};tb=function(){this.Uc++;this.Uc===this.Nd.length&&
this.Nd.push(new mb(this));var m=this.Nd[this.Uc],h=this.Nd[this.Uc-1];h.X?m.X=!0:(m.X=!1,Aa(m.c,h.c),Aa(m.N,h.N))};ub=function(){this.Uc--};vb=function(m){var h,n,u,d,b,c=0;if(!this.K)for(h=0,n=this.aa.length;h<n;h++)for(b=this.aa[h],u=0,d=b.ka.length;u<d;u++){if(m===b.ka[u].name)return this.fa.lastBehIndex=c,b.ka[u];c++}h=0;for(n=this.ka.length;h<n;h++){if(m===this.ka[h].name)return this.fa.lastBehIndex=c,this.ka[h];c++}return null};wb=function(m){return this.hh(m)?this.fa.lastBehIndex:-1};xb=function(m){var h,
n;h=0;for(n=this.A.length;h<n;h++)if(this.A[h].name===m)return h;return-1};yb=function(){if(this.lb&&!this.K){var m,h,n,u,d,b,c;this.hi();b=this.S();var g=b.X,l=(m=this.b.Xa())&&m.xb&&m.xb.Ac;m=0;for(h=this.gb.length;m<h;m++)if(d=this.gb[m],d!==this&&(d.hi(),c=d.S(),c.X=g,!g)){S(c.c);n=0;for(u=b.c.length;n<u;++n)c.c[n]=d.Bl(b.c[n].je);if(l)for(S(c.N),n=0,u=b.N.length;n<u;++n)c.N[n]=d.Bl(b.N[n].je)}}};Ab=function(){return"Type"+this.I};Zb=function(m,h,n){if("undefined"===typeof m||"undefined"===typeof n)return!1;
switch(h){case 0:return m===n;case 1:return m!==n;case 2:return m<n;case 3:return m<=n;case 4:return m>n;case 5:return m>=n;default:return!1}}})();var hc={};function kc(n){this.b=n}
(function(){function n(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function m(a){a=a.toLowerCase();return R.hasOwnProperty(a)&&R[a].length?R[a][0].yb():v.destination}function h(){return v.createGain?v.createGain():v.createGainNode()}function t(a){return v.createDelay?v.createDelay(a):v.createDelayNode(a)}function u(a){a.start?a.start(0):a.noteOn(0)}function d(a,b,c){a.start?a.start(0,b):a.noteGrainOn(0,b,c-b)}function b(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function c(a,
b,c,d,e,f){this.type="filter";this.ic=[a,b,c,d,e,f];this.J=h();this.u=h();this.u.gain.value=f;this.p=h();this.p.gain.value=1-f;this.la=v.createBiquadFilter();this.la.type="number"===typeof this.la.type?a:nc[a];this.la.frequency.value=b;this.la.detune&&(this.la.detune.value=c);this.la.Q.value=d;this.la.gain.value=e;this.J.connect(this.la);this.J.connect(this.p);this.la.connect(this.u)}function g(a,b,c){this.type="delay";this.ic=[a,b,c];this.J=h();this.u=h();this.u.gain.value=c;this.p=h();this.p.gain.value=
1-c;this.ig=h();this.Hb=t(a);this.Hb.delayTime.value=a;this.Xg=h();this.Xg.gain.value=b;this.J.connect(this.ig);this.J.connect(this.p);this.ig.connect(this.u);this.ig.connect(this.Hb);this.Hb.connect(this.Xg);this.Xg.connect(this.ig)}function l(a,b,c,d){this.type="convolve";this.ic=[b,c,d];this.J=h();this.u=h();this.u.gain.value=c;this.p=h();this.p.gain.value=1-c;this.Yd=v.createConvolver();a&&(this.Yd.normalize=b,this.Yd.buffer=a);this.J.connect(this.Yd);this.J.connect(this.p);this.Yd.connect(this.u)}
function a(a,b,c,d,e){this.type="flanger";this.ic=[a,b,c,d,e];this.J=h();this.p=h();this.p.gain.value=1-e/2;this.u=h();this.u.gain.value=e/2;this.dh=h();this.dh.gain.value=d;this.Hb=t(a+b);this.Hb.delayTime.value=a;this.Ba=v.createOscillator();this.Ba.frequency.value=c;this.ob=h();this.ob.gain.value=b;this.J.connect(this.Hb);this.J.connect(this.p);this.Hb.connect(this.u);this.Hb.connect(this.dh);this.dh.connect(this.Hb);this.Ba.connect(this.ob);this.ob.connect(this.Hb.delayTime);u(this.Ba)}function k(a,
b,c,d,e,f){this.type="phaser";this.ic=[a,b,c,d,e,f];this.J=h();this.p=h();this.p.gain.value=1-f/2;this.u=h();this.u.gain.value=f/2;this.la=v.createBiquadFilter();this.la.type="number"===typeof this.la.type?7:"allpass";this.la.frequency.value=a;this.la.detune&&(this.la.detune.value=b);this.la.Q.value=c;this.Ba=v.createOscillator();this.Ba.frequency.value=e;this.ob=h();this.ob.gain.value=d;this.J.connect(this.la);this.J.connect(this.p);this.la.connect(this.u);this.Ba.connect(this.ob);this.ob.connect(this.la.frequency);
u(this.Ba)}function q(a){this.type="gain";this.ic=[a];this.L=h();this.L.gain.value=a}function f(a,b){this.type="tremolo";this.ic=[a,b];this.L=h();this.L.gain.value=1-b/2;this.Ba=v.createOscillator();this.Ba.frequency.value=a;this.ob=h();this.ob.gain.value=b/2;this.Ba.connect(this.ob);this.ob.connect(this.L.gain);u(this.Ba)}function x(a,b){this.type="ringmod";this.ic=[a,b];this.J=h();this.u=h();this.u.gain.value=b;this.p=h();this.p.gain.value=1-b;this.tg=h();this.tg.gain.value=0;this.Ba=v.createOscillator();
this.Ba.frequency.value=a;this.Ba.connect(this.tg.gain);u(this.Ba);this.J.connect(this.tg);this.J.connect(this.p);this.tg.connect(this.u)}function C(a,b,c,d,e){this.type="distortion";this.ic=[a,b,c,d,e];this.J=h();this.Oh=h();this.Nh=h();this.Nr(c,Math.pow(10,d/20));this.u=h();this.u.gain.value=e;this.p=h();this.p.gain.value=1-e;this.ki=v.createWaveShaper();this.Vg=new Float32Array(65536);this.fq(a,b);this.ki.Vg=this.Vg;this.J.connect(this.Oh);this.J.connect(this.p);this.Oh.connect(this.ki);this.ki.connect(this.Nh);
this.Nh.connect(this.u)}function p(a,b,c,d,e){this.type="compressor";this.ic=[a,b,c,d,e];this.L=v.createDynamicsCompressor();try{this.L.threshold.value=a,this.L.knee.value=b,this.L.ratio.value=c,this.L.attack.value=d,this.L.release.value=e}catch(f){}}function e(a,b){this.type="analyser";this.ic=[a,b];this.L=v.createAnalyser();this.L.fftSize=a;this.L.smoothingTimeConstant=b;this.cq=new Float32Array(this.L.frequencyBinCount);this.tn=new Uint8Array(a);this.pg=0}function r(){this.r=null;this.Bh=0;this.Od=
[];this.Jj=this.th=this.sh=0}function w(a,b){this.src=a;this.H=G;this.gc=b;this.Lg=!1;var c=this;this.Hj=this.Uj=null;this.cf=[];this.Uh=0;this.Dk=this.Ri=this.zn=this.Kh=!1;1===G&&b&&(this.H=0,this.Uj=h());this.Wd=this.O=null;var d;switch(this.H){case 0:this.O=new Audio;this.O.crossOrigin="anonymous";this.O.addEventListener("canplaythrough",function(){c.Dk=!0});1===G&&v.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.zn=!0,this.O.addEventListener("canplay",function(){c.Hj||(c.Hj=
v.createMediaElementSource(c.O),c.Hj.connect(c.Uj))}));this.O.autoplay=!1;this.O.Bt="auto";this.O.src=a;break;case 1:d=new XMLHttpRequest;d.open("GET",a,!0);d.responseType="arraybuffer";d.onload=function(){c.Wd=d.response;c.Zo()};d.onerror=function(){c.Ri=!0};d.send();break;case 2:this.O=!0;break;case 3:this.O=!0}}function y(a,b){var c=this;this.tag=b;this.rb=this.Yc=!0;this.src=a.src;this.buffer=a;this.H=G;this.gc=a.gc;this.playbackRate=1;this.Me=!0;this.mb=this.gd=!1;this.Za=0;this.Tf=this.Te=this.zc=
!1;this.volume=1;this.Sj=function(){c.mb||this!==c.Kg||(c.Me=!0,c.rb=!0,qa=c.tag,z.trigger(kc.prototype.j.Jg,J))};this.Kg=null;this.Qe=1===F&&!this.gc||2===F;this.Ze=1;this.startTime=this.Qe?z.Lb.U:z.nd.U;this.ha=this.qa=null;this.Bc=!1;this.ga=null;this.Pm=this.Om=this.Nm=this.Mm=this.Rm=this.Qm=0;this.d=null;var d=!1;1!==this.H||0!==this.buffer.H||this.buffer.zn||(this.H=0);switch(this.H){case 0:this.gc?(this.d=a.O,d=!a.Lg,a.Lg=!0):(this.d=new Audio,this.d.crossOrigin="anonymous",this.d.autoplay=
!1,this.d.src=a.O.src,d=!0);d&&this.d.addEventListener("ended",function(){qa=c.tag;c.rb=!0;z.trigger(kc.prototype.j.Jg,J)});break;case 1:this.qa=h();this.qa.connect(m(b));1===this.buffer.H?a.O&&(this.d=v.createBufferSource(),this.d.buffer=a.O,this.d.connect(this.qa)):(this.d=this.buffer.O,this.buffer.Uj.connect(this.qa),this.buffer.Lg||(this.buffer.Lg=!0,this.buffer.O.addEventListener("ended",function(){qa=c.tag;c.rb=!0;z.trigger(kc.prototype.j.Jg,J)})));break;case 2:this.d=new window.Media(X+this.src,
null,null,function(a){a===window.Media.MEDIA_STOPPED&&(c.Me=!0,c.rb=!0,qa=c.tag,z.trigger(kc.prototype.j.Jg,J))});break;case 3:this.d=!0}}function B(a,b){R.hasOwnProperty(a)?R[a].push(b):R[a]=[b];var c,d,e,f,g=v.destination;if(R.hasOwnProperty(a)&&(e=R[a],e.length))for(g=e[0].yb(),c=0,d=e.length;c<d;c++)f=e[c],c+1===d?f.Cb(v.destination):f.Cb(e[c+1].yb());S(Ha);if(a.length)for(c=0,d=H.length;c<d;c++)e=H[c],ib(a,e.tag)&&Ha.push(e);else O&&!O.Le()&&(S(Ha),Ha[0]=O);c=0;for(d=Ha.length;c<d;c++)Ha[c].Cr(g);
ca&&pb===a&&(ca.disconnect(),ca.connect(g))}function A(){}function Y(){}var Z=kc.prototype;Z.Oc=function(a){this.ma=a;this.b=a.b};Z.Oc.prototype.Ha=function(){};var z=null,J=null,qa="",X="",G=0,v=null,ua=[],H=[],O=null,E=!1,F=0,N=!1,D=1,L=0,I=0,ia=1,M=1,na=10,ea=1E4,ra=1,ca=null,pb="",Ma=!1,Na=[],R={},nc="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");c.prototype.Cb=function(a){this.u.disconnect();this.u.connect(a);this.p.disconnect();this.p.connect(a)};c.prototype.remove=
function(){this.J.disconnect();this.la.disconnect();this.u.disconnect();this.p.disconnect()};c.prototype.yb=function(){return this.J};g.prototype.Cb=function(a){this.u.disconnect();this.u.connect(a);this.p.disconnect();this.p.connect(a)};g.prototype.remove=function(){this.J.disconnect();this.ig.disconnect();this.Hb.disconnect();this.Xg.disconnect();this.u.disconnect();this.p.disconnect()};g.prototype.yb=function(){return this.J};l.prototype.Cb=function(a){this.u.disconnect();this.u.connect(a);this.p.disconnect();
this.p.connect(a)};l.prototype.remove=function(){this.J.disconnect();this.Yd.disconnect();this.u.disconnect();this.p.disconnect()};l.prototype.yb=function(){return this.J};a.prototype.Cb=function(a){this.p.disconnect();this.p.connect(a);this.u.disconnect();this.u.connect(a)};a.prototype.remove=function(){this.J.disconnect();this.Hb.disconnect();this.Ba.disconnect();this.ob.disconnect();this.p.disconnect();this.u.disconnect();this.dh.disconnect()};a.prototype.yb=function(){return this.J};k.prototype.Cb=
function(a){this.p.disconnect();this.p.connect(a);this.u.disconnect();this.u.connect(a)};k.prototype.remove=function(){this.J.disconnect();this.la.disconnect();this.Ba.disconnect();this.ob.disconnect();this.p.disconnect();this.u.disconnect()};k.prototype.yb=function(){return this.J};q.prototype.Cb=function(a){this.L.disconnect();this.L.connect(a)};q.prototype.remove=function(){this.L.disconnect()};q.prototype.yb=function(){return this.L};f.prototype.Cb=function(a){this.L.disconnect();this.L.connect(a)};
f.prototype.remove=function(){this.Ba.disconnect();this.ob.disconnect();this.L.disconnect()};f.prototype.yb=function(){return this.L};x.prototype.Cb=function(a){this.u.disconnect();this.u.connect(a);this.p.disconnect();this.p.connect(a)};x.prototype.remove=function(){this.Ba.disconnect();this.tg.disconnect();this.J.disconnect();this.u.disconnect();this.p.disconnect()};x.prototype.yb=function(){return this.J};C.prototype.Nr=function(a,b){.01>a&&(a=.01);this.Oh.gain.value=a;this.Nh.gain.value=Math.pow(1/
a,.6)*b};C.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));return b*c};C.prototype.fq=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),e=0,f=0;32768>f;++f)e=f/32768,e=this.shape(e,c,d),this.Vg[32768+f]=e,this.Vg[32768-f-1]=-e};C.prototype.Cb=function(a){this.u.disconnect();this.u.connect(a);this.p.disconnect();this.p.connect(a)};C.prototype.remove=function(){this.J.disconnect();this.Oh.disconnect();this.ki.disconnect();this.Nh.disconnect();
this.u.disconnect();this.p.disconnect()};C.prototype.yb=function(){return this.J};p.prototype.Cb=function(a){this.L.disconnect();this.L.connect(a)};p.prototype.remove=function(){this.L.disconnect()};p.prototype.yb=function(){return this.L};e.prototype.ab=function(){this.L.getFloatFrequencyData(this.cq);this.L.getByteTimeDomainData(this.tn);for(var a=this.L.fftSize,b=0,c=this.pg=0,d=0;b<a;b++)d=(this.tn[b]-128)/128,0>d&&(d=-d),this.pg<d&&(this.pg=d),c+=d*d;this.pg=n(this.pg);n(Math.sqrt(c/a))};e.prototype.Cb=
function(a){this.L.disconnect();this.L.connect(a)};e.prototype.remove=function(){this.L.disconnect()};e.prototype.yb=function(){return this.L};r.prototype.ug=function(a){if(this.r=a)this.sh=this.r.x,this.th=this.r.y;S(this.Od)};r.prototype.mh=function(){return!!this.r};r.prototype.ab=function(a){this.r&&0!==a&&(this.Jj=Ka(this.sh,this.th,this.r.x,this.r.y),a=Ta(this.sh,this.th,this.r.x,this.r.y)/a,4>this.Od.length||this.Od.shift(),this.Od.push(a),this.sh=this.r.x,this.th=this.r.y)};r.prototype.Fl=
function(){if(!this.Od.length)return 0;var a,b,c=0;a=0;for(b=this.Od.length;a<b;a++)c+=this.Od[a];return c/this.Od.length};r.prototype.ej=function(){return Math.cos(this.Jj)*this.Fl()};r.prototype.fj=function(){return Math.sin(this.Jj)*this.Fl()};var mc=!1;w.prototype.Zo=function(){if(!this.O&&this.Wd){var a=this;if(v.decodeAudioData)v.decodeAudioData(this.Wd,function(b){a.O=b;a.Wd=null;var c,d,e;if(ga(a.Lh)||N)ga(a.Pg)||(c=a.Pg.Yd,c.normalize=a.zm,c.buffer=b);else if(a.cf.length){c=0;for(d=a.cf.length;c<
d;c++){b=a.cf[c];e=new y(a,b.Dn);e.mk(!0);if("undefined"!==typeof b.Bm&&(b.r=z.jh(b.Bm),!b.r))continue;if(b.r){var f=Sa(b.r.x,b.r.y,-b.r.e.xa(),L,I,!0),g=Sa(b.r.x,b.r.y,-b.r.e.xa(),L,I,!1);e.lk(f,g,Ea(b.r.k-b.r.e.xa()),b.jj,b.Lj,b.Oj);e.ug(b.r)}else e.lk(b.x,b.y,b.Bo,b.jj,b.Lj,b.Oj);e.play(a.Fj,a.Ck,a.Uh);a.Kh&&e.pause();H.push(e)}S(a.cf)}else e=new y(a,a.Lh||""),e.play(a.Fj,a.Ck,a.Uh),a.Kh&&e.pause(),H.push(e)},function(){a.Ri=!0});else if(this.O=v.createBuffer(this.Wd,!1),this.Wd=null,ga(this.Lh)||
N)ga(this.Pg)||(b=this.Pg.Yd,b.normalize=this.zm,b.buffer=this.O);else{var b=new y(this,this.Lh);b.play(this.Fj,this.Ck,this.Uh);this.Kh&&b.pause();H.push(b)}}};w.prototype.Ol=function(){switch(this.H){case 0:var a=4<=this.O.readyState;a&&(this.Dk=!0);return a||this.Dk;case 1:return!!this.Wd||!!this.O;case 2:return!0;case 3:return!0}return!1};w.prototype.Rq=function(){switch(this.H){case 0:return this.Ol();case 1:return!!this.O;case 2:return!0;case 3:return!0}return!1};w.prototype.Kq=function(){switch(this.H){case 0:return!!this.O.error;
case 1:return this.Ri}return!1};y.prototype.Le=function(){switch(this.H){case 0:return this.d.ended;case 1:return 1===this.buffer.H?!this.Yc&&!this.rb&&this.d.loop||this.mb?!1:this.Me:this.d.ended;case 2:return this.Me;case 3:!0}return!0};y.prototype.Qo=function(){return this.Yc||this.rb?!0:this.Le()};y.prototype.mk=function(a){1===G&&(!this.Bc&&a?this.qa&&(this.ha||(this.ha=v.createPanner(),this.ha.panningModel="number"===typeof this.ha.panningModel?ia:["equalpower","HRTF","soundfield"][ia],this.ha.distanceModel=
"number"===typeof this.ha.distanceModel?M:["linear","inverse","exponential"][M],this.ha.refDistance=na,this.ha.maxDistance=ea,this.ha.rolloffFactor=ra),this.qa.disconnect(),this.qa.connect(this.ha),this.ha.connect(m(this.tag)),this.Bc=!0):this.Bc&&!a&&this.qa&&(this.ha.disconnect(),this.qa.disconnect(),this.qa.connect(m(this.tag)),this.Bc=!1))};y.prototype.lk=function(a,b,c,d,e,f){this.Bc&&1===G&&(this.ha.setPosition(a,b,0),this.ha.setOrientation(Math.cos(T(c)),Math.sin(T(c)),0),this.ha.coneInnerAngle=
d,this.ha.coneOuterAngle=e,this.ha.coneOuterGain=f,this.Qm=a,this.Rm=b,this.Mm=c,this.Nm=d,this.Om=e,this.Pm=f)};y.prototype.ug=function(a){this.Bc&&1===G&&(this.ga||(this.ga=new r),this.ga.ug(a))};y.prototype.ab=function(a){if(this.Bc&&1===G&&this.ga&&this.ga.mh()&&this.Pe()){this.ga.ab(a);a=this.ga.r;var b=Sa(a.x,a.y,-a.e.xa(),L,I,!0),c=Sa(a.x,a.y,-a.e.xa(),L,I,!1);this.ha.setPosition(b,c,0);b=0;"undefined"!==typeof this.ga.r.k&&(b=a.k-a.e.xa(),this.ha.setOrientation(Math.cos(b),Math.sin(b),0));
b=Sa(this.ga.ej(),this.ga.fj(),-a.e.xa(),0,0,!0);c=Sa(this.ga.ej(),this.ga.fj(),-a.e.xa(),0,0,!1);this.ha.setVelocity(b,c,0)}};y.prototype.play=function(a,b,c){var e=this.d;this.zc=a;this.volume=b;c=c||0;switch(this.H){case 0:1!==e.playbackRate&&(e.playbackRate=1);e.volume!==b*D&&(e.volume=b*D);e.loop!==a&&(e.loop=a);e.muted&&(e.muted=!1);if(e.currentTime!==c)try{e.currentTime=c}catch(f){}if(this.gc&&Ma&&!z.kb)Na.push(this);else try{this.d.play()}catch(g){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+
this.buffer.src+"': ",g)}break;case 1:this.muted=!1;this.Ze=1;if(1===this.buffer.H)this.qa.gain.value=b*D,this.Yc||(this.d=v.createBufferSource(),this.d.buffer=this.buffer.O,this.d.connect(this.qa)),this.d.onended=this.Sj,this.Kg=this.d,this.d.loop=a,this.Me=!1,0===c?u(this.d):d(this.d,c,this.he());else{1!==e.playbackRate&&(e.playbackRate=1);e.loop!==a&&(e.loop=a);e.volume=b*D;if(e.currentTime!==c)try{e.currentTime=c}catch(l){}this.gc&&Ma&&!z.kb?Na.push(this):e.play()}break;case 2:(!this.Yc&&this.rb||
0!==c)&&e.seekTo(c);e.play();this.Me=!1;break;case 3:z.Na?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.Qe?z.Lb.U:z.nd.U)-c;this.mb=this.rb=this.Yc=!1};y.prototype.stop=function(){switch(this.H){case 0:this.d.paused||this.d.pause();break;case 1:1===this.buffer.H?b(this.d):this.d.paused||this.d.pause();break;case 2:this.d.stop();break;case 3:z.Na&&AppMobi.context.stopSound(this.src)}this.rb=!0;this.mb=!1};y.prototype.pause=function(){if(!(this.Yc||
this.rb||this.Le()||this.mb)){switch(this.H){case 0:this.d.paused||this.d.pause();break;case 1:1===this.buffer.H?(this.Za=this.cj(),this.zc&&(this.Za=this.Za%this.he()),this.mb=!0,b(this.d)):this.d.paused||this.d.pause();break;case 2:this.d.pause();break;case 3:z.Na&&AppMobi.context.stopSound(this.src)}this.mb=!0}};y.prototype.Er=function(){if(!(this.Yc||this.rb||this.Le())&&this.mb){switch(this.H){case 0:this.d.play();break;case 1:1===this.buffer.H?(this.d=v.createBufferSource(),this.d.buffer=this.buffer.O,
this.d.connect(this.qa),this.d.onended=this.Sj,this.Kg=this.d,this.d.loop=this.zc,this.qa.gain.value=D*this.volume*this.Ze,this.startTime=(this.Qe?z.Lb.U:z.nd.U)-this.Za,d(this.d,this.Za,this.he())):this.d.play();break;case 2:this.d.play();break;case 3:z.Na&&AppMobi.context.resumeSound(this.src)}this.mb=!1}};y.prototype.seek=function(a){if(!(this.Yc||this.rb||this.Le()))switch(this.H){case 0:try{this.d.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.H)this.mb?this.Za=a:(this.pause(),this.Za=
a,this.Er());else try{this.d.currentTime=a}catch(c){}break;case 3:z.Na&&AppMobi.context.seekSound(this.src,a)}};y.prototype.Cr=function(a){1===this.H&&(this.Bc?(this.ha.disconnect(),this.ha.connect(a)):(this.qa.disconnect(),this.qa.connect(a)))};y.prototype.he=function(){switch(this.H){case 0:if("undefined"!==typeof this.d.duration)return this.d.duration;break;case 1:return this.buffer.O.duration;case 2:return this.d.getDuration();case 3:if(z.Na)return AppMobi.context.getDurationSound(this.src)}return 0};
y.prototype.cj=function(){var a=this.he(),b=0;switch(this.H){case 0:"undefined"!==typeof this.d.currentTime&&(b=this.d.currentTime);break;case 1:if(1===this.buffer.H){if(this.mb)return this.Za;b=(this.Qe?z.Lb.U:z.nd.U)-this.startTime}else"undefined"!==typeof this.d.currentTime&&(b=this.d.currentTime);break;case 3:z.Na&&(b=AppMobi.context.getPlaybackTimeSound(this.src))}!this.zc&&b>a&&(b=a);return b};y.prototype.Pe=function(){return!this.mb&&!this.Yc&&!this.rb&&!this.Le()};y.prototype.cs=function(){var a=
this.volume*D;isFinite(a)||(a=0);switch(this.H){case 0:"undefined"!==typeof this.d.volume&&this.d.volume!==a&&(this.d.volume=a);break;case 1:1===this.buffer.H?this.qa.gain.value=a*this.Ze:"undefined"!==typeof this.d.volume&&this.d.volume!==a&&(this.d.volume=a)}};y.prototype.Yg=function(a){switch(this.H){case 0:this.d.muted!==!!a&&(this.d.muted=!!a);break;case 1:1===this.buffer.H?(this.Ze=a?0:1,this.qa.gain.value=D*this.volume*this.Ze):this.d.muted!==!!a&&(this.d.muted=!!a)}};y.prototype.Pr=function(){this.Te=
!0;this.Yg(this.Te||this.Tf)};y.prototype.nn=function(a){this.Tf=!!a;this.Yg(this.Te||this.Tf)};y.prototype.Rn=function(){var a=this.playbackRate;this.Qe&&(a*=z.nf);switch(this.H){case 0:this.d.playbackRate!==a&&(this.d.playbackRate=a);break;case 1:1===this.buffer.H?this.d.playbackRate.value!==a&&(this.d.playbackRate.value=a):this.d.playbackRate!==a&&(this.d.playbackRate=a)}};y.prototype.Rr=function(a){switch(this.H){case 0:a?this.Pe()?(this.d.pause(),this.gd=!0):this.gd=!1:this.gd&&this.d.play();
break;case 1:a?this.Pe()?(1===this.buffer.H?(this.Za=this.cj(),this.zc&&(this.Za=this.Za%this.he()),b(this.d)):this.d.pause(),this.gd=!0):this.gd=!1:this.gd&&(1===this.buffer.H?(this.d=v.createBufferSource(),this.d.buffer=this.buffer.O,this.d.connect(this.qa),this.d.onended=this.Sj,this.Kg=this.d,this.d.loop=this.zc,this.qa.gain.value=D*this.volume*this.Ze,this.startTime=(this.Qe?z.Lb.U:z.nd.U)-this.Za,d(this.d,this.Za,this.he())):this.d.play());break;case 2:a?this.Pe()?(this.d.pause(),this.gd=!0):
this.gd=!1:this.gd&&this.d.play()}};Z.Bb=function(a){this.type=a;z=this.b=a.b;J=this;this.Sa=null;this.$f=-600;!(this.b.Vf||this.b.nh&&(this.b.Pf||this.b.oh))||this.b.Qf||this.b.da||this.b.qj||(Ma=!0);v=null;"undefined"!==typeof AudioContext?(G=1,v=new AudioContext):"undefined"!==typeof webkitAudioContext&&(G=1,v=new webkitAudioContext);(this.b.Vf&&1===G||Ma)&&document.addEventListener("touchstart",function(){var a,b,c;!mc&&v&&(a=v.createBuffer(1,1,22050),b=v.createBufferSource(),b.buffer=a,b.connect(v.destination),
u(b),mc=!0);if(Ma){if(!N)for(a=0,b=Na.length;a<b;++a)c=Na[a],c.rb||c.mb||c.d.play();S(Na)}},!0);1!==G&&(this.b.Kb&&"undefined"!==typeof window.Media?G=2:this.b.Ne&&(G=3));2===G&&(X=location.href,a=X.lastIndexOf("/"),-1<a&&(X=X.substr(0,a+1)),X=X.replace("file://",""));if(this.b.Pl&&this.b.Sq&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.Td(this);else{if(this.b.Na)E=this.b.nh;else try{E=
!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(b){E=!1}this.b.Fn(this)}};var ja=Z.Bb.prototype;ja.Ha=function(){this.b.Fe=this;F=this.Ia[0];this.hd=this.Ia[1];this.rr=0!==this.Ia[2];ia=this.Ia[3];M=this.Ia[4];this.$f=-this.Ia[5];na=this.Ia[6];ea=this.Ia[7];ra=this.Ia[8];this.Sa=new r;var a=this.b.G||this.b.width,b=this.b.F||this.b.height;1===G&&("undefined"!==typeof v.listener.dopplerFactor&&(v.listener.dopplerFactor=0),v.listener.setPosition(a/2,b/2,this.$f),v.listener.setOrientation(0,
0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){ca&&ca.disconnect();pb=b.toLowerCase();ca=v.createMediaStreamSource(a);ca.connect(m(pb))});this.b.Ho(function(a){J.pr(a)});var c=this;this.b.Fo(function(a){c.ir(a)})};ja.ir=function(a){var b,c,d;b=0;for(c=H.length;b<c;b++)d=H[b],d.ga&&d.ga.r===a&&(d.ga.r=null,d.Bc&&d.Pe()&&d.zc&&d.stop());this.Sa.r===a&&(this.Sa.r=null)};ja.Qb=function(){var a={silent:N,masterVolume:D,listenerZ:this.$f,listenerUid:this.Sa.mh()?this.Sa.r.uid:-1,playing:[],effects:{}},
b=a.playing,c,d,e,f,g,l;c=0;for(d=H.length;c<d;c++)e=H[c],!e.Pe()||3===this.hd||e.gc&&1===this.hd||!e.gc&&2===this.hd||(f=e.cj(),e.zc&&(f=f%e.he()),f={tag:e.tag,buffersrc:e.buffer.src,is_music:e.gc,playbackTime:f,volume:e.volume,looping:e.zc,muted:e.Te,playbackRate:e.playbackRate,paused:e.mb,resume_position:e.Za},e.Bc&&(f.pan={},l=f.pan,e.ga&&e.ga.mh()?l.objUid=e.ga.r.uid:(l.x=e.Qm,l.y=e.Rm,l.a=e.Mm),l.ia=e.Nm,l.oa=e.Om,l.og=e.Pm),b.push(f));b=a.effects;for(g in R)if(R.hasOwnProperty(g)){e=[];c=0;
for(d=R[g].length;c<d;c++)e.push({type:R[g][c].type,params:R[g][c].ic});b[g]=e}return a};var Oa=[];ja.yc=function(b){var d=b.silent;D=b.masterVolume;this.$f=b.listenerZ;this.Sa.ug(null);var h=b.listenerUid;-1!==h&&(this.Sa.Bh=h,Oa.push(this.Sa));var h=b.playing,m,n,w,t,u,y,J,z,A,v,Y;if(3!==this.hd)for(m=0,n=H.length;m<n;m++)A=H[m],A.gc&&1===this.hd||(A.gc||2!==this.hd)&&A.stop();for(u in R)if(R.hasOwnProperty(u))for(m=0,n=R[u].length;m<n;m++)R[u][m].remove();Wa(R);for(u in b.effects)if(b.effects.hasOwnProperty(u))for(y=
b.effects[u],m=0,n=y.length;m<n;m++)switch(w=y[m].type,v=y[m].params,w){case "filter":B(u,new c(v[0],v[1],v[2],v[3],v[4],v[5]));break;case "delay":B(u,new g(v[0],v[1],v[2]));break;case "convolve":w=v[2];A=this.gh(w,!1);A.O?w=new l(A.O,v[0],v[1],w):(w=new l(null,v[0],v[1],w),A.zm=v[0],A.Pg=w);B(u,w);break;case "flanger":B(u,new a(v[0],v[1],v[2],v[3],v[4]));break;case "phaser":B(u,new k(v[0],v[1],v[2],v[3],v[4],v[5]));break;case "gain":B(u,new q(v[0]));break;case "tremolo":B(u,new f(v[0],v[1]));break;
case "ringmod":B(u,new x(v[0],v[1]));break;case "distortion":B(u,new C(v[0],v[1],v[2],v[3],v[4]));break;case "compressor":B(u,new p(v[0],v[1],v[2],v[3],v[4]));break;case "analyser":B(u,new e(v[0],v[1]))}m=0;for(n=h.length;m<n;m++)3===this.hd||(b=h[m],w=b.buffersrc,t=b.is_music,u=b.tag,y=b.playbackTime,J=b.looping,z=b.volume,Y=(v=b.pan)&&v.hasOwnProperty("objUid")?v.objUid:-1,t&&1===this.hd)||!t&&2===this.hd||((A=this.xl(w,u,t,J,z))?(A.Za=b.resume_position,A.mk(!!v),A.play(J,z,y),A.Rn(),A.cs(),A.Yg(A.Te||
A.Tf),b.paused&&A.pause(),b.muted&&A.Pr(),A.Yg(A.Te||A.Tf),v&&(-1!==Y?(A.ga=A.ga||new r,A.ga.Bh=Y,Oa.push(A.ga)):A.lk(v.x,v.y,v.a,v.ia,v.oa,v.og))):(A=this.gh(w,t),A.Uh=y,A.Kh=b.paused,v&&(-1!==Y?A.cf.push({Bm:Y,jj:v.ia,Lj:v.oa,Oj:v.og,Dn:u}):A.cf.push({x:v.x,y:v.y,Bo:v.a,jj:v.ia,Lj:v.oa,Oj:v.og,Dn:u}))));if(d&&!N){m=0;for(n=H.length;m<n;m++)H[m].nn(!0);N=!0}else if(!d&&N){m=0;for(n=H.length;m<n;m++)H[m].nn(!1);N=!1}};ja.td=function(){var a,b,c,d;a=0;for(b=Oa.length;a<b;a++)c=Oa[a],d=this.b.jh(c.Bh),
c.ug(d),c.Bh=-1,d&&(L=d.x,I=d.y);S(Oa)};ja.pr=function(a){if(!this.rr){!a&&v&&v.resume&&v.resume();var b,c;b=0;for(c=H.length;b<c;b++)H[b].Rr(a);a&&v&&v.suspend&&v.suspend()}};ja.ab=function(){var a=this.b.be,b,c,d;b=0;for(c=H.length;b<c;b++)d=H[b],d.ab(a),0!==F&&d.Rn();var e,f;for(e in R)if(R.hasOwnProperty(e))for(d=R[e],b=0,c=d.length;b<c;b++)f=d[b],f.ab&&f.ab();1===G&&this.Sa.mh()&&(this.Sa.ab(a),L=this.Sa.r.x,I=this.Sa.r.y,v.listener.setPosition(this.Sa.r.x,this.Sa.r.y,this.$f),v.listener.setVelocity(this.Sa.ej(),
this.Sa.fj(),0))};var Pa=[];ja.Qr=function(a){var b,c,d,e,f,g=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],e=d[0],d=2*d[1],(f=4<e.length&&".ogg"===e.substr(e.length-4))&&E||!f&&!E)Pa.push({filename:e,size:d,r:null}),g+=d;return g};ja.Vr=function(){var a,b,c,d;a=0;for(b=Pa.length;a<b;++a)c=Pa[a],d=this.b.Si+c.filename,c.r=this.gh(d,!1)};ja.pq=function(){var a=0,b,c,d;b=0;for(c=Pa.length;b<c;++b)d=Pa[b],d.r.Rq()||d.r.Kq()||this.b.da||this.b.oh?a+=d.size:d.r.Ol()&&(a+=Math.floor(d.size/2));return a};ja.gh=
function(a,b){var c,d,e,f=null;c=0;for(d=ua.length;c<d;c++)if(e=ua[c],e.src===a){f=e;break}f||(f=new w(a,b),ua.push(f));return f};ja.xl=function(a,b,c,d,e){var f,g,l;f=0;for(g=H.length;f<g;f++)if(l=H[f],l.src===a&&(l.Qo()||c))return l.tag=b,l;a=this.gh(a,c);if(!a.O)return"<preload>"!==b&&(a.Lh=b,a.Fj=d,a.Ck=e),null;l=new y(a,b);H.push(l);return l};var Ha=[];A.prototype.Jg=function(a){return ib(qa,a)};Z.j=new A;Y.prototype.Play=function(a,b,c,d){!N&&(c=Math.pow(10,c/20),0>c&&(c=0),1<c&&(c=1),O=this.xl(this.b.Si+
a[0]+(E?".ogg":".m4a"),d,a[1],0!==b,c))&&(O.mk(!1),O.play(0!==b,c))};Z.mc=new Y;Z.vc=new function(){}})();function lc(n){this.b=n}
(function(){function n(){}var m=lc.prototype;m.Oc=function(h){this.ma=h;this.b=h.b};m.Oc.prototype.Ha=function(){};m.Bb=function(h){this.type=h;this.b=h.b;this.xj=Array(256);this.ii=Array(256);this.Qd=0};var h=m.Bb.prototype;h.Ha=function(){var h=this;this.b.da||(jQuery(document).keydown(function(d){h.jr(d)}),jQuery(document).keyup(function(d){h.kr(d)}))};var t=[32,33,34,35,36,37,38,39,40,44];h.jr=function(h){var d=!1;window!=window.top&&-1<t.indexOf(h.which)&&(h.preventDefault(),d=!0,h.stopPropagation());
if(this.xj[h.which])this.ii[h.which]&&!d&&h.preventDefault();else{this.xj[h.which]=!0;this.Qd=h.which;this.b.kb=!0;this.b.trigger(lc.prototype.j.jo,this);var b=this.b.trigger(lc.prototype.j.Fk,this),c=this.b.trigger(lc.prototype.j.ro,this);this.b.kb=!1;if(b||c)this.ii[h.which]=!0,d||h.preventDefault()}};h.kr=function(h){this.xj[h.which]=!1;this.Qd=h.which;this.b.kb=!0;this.b.trigger(lc.prototype.j.ko,this);var d=this.b.trigger(lc.prototype.j.to,this),b=this.b.trigger(lc.prototype.j.so,this);this.b.kb=
!1;if(d||b||this.ii[h.which])this.ii[h.which]=!0,h.preventDefault()};h.Qb=function(){return{triggerKey:this.Qd}};h.yc=function(h){this.Qd=h.triggerKey};n.prototype.Fk=function(h){return h===this.Qd};n.prototype.jo=function(){return!0};n.prototype.ko=function(){return!0};n.prototype.to=function(h){return h===this.Qd};n.prototype.ro=function(h){return h===this.Qd};n.prototype.so=function(h){return h===this.Qd};m.j=new n;m.mc=new function(){};m.vc=new function(){}})();function jc(n){this.b=n}
(function(){function n(){if(0===this.Ii.length){var b=document.createElement("canvas");b.width=this.width;b.height=this.height;var c=b.getContext("2d");this.lf?c.drawImage(this.$a,this.$e,this.bf,this.width,this.height,0,0,this.width,this.height):c.drawImage(this.$a,0,0,this.width,this.height);this.Ii=b.toDataURL("image/png")}return this.Ii}function m(){}var h=jc.prototype;h.Oc=function(b){this.ma=b;this.b=b.b};var t=h.Oc.prototype;t.Ha=function(){if(!this.K){var b,c,a,d,h,f,m,t,p;this.Xb=[];this.Mf=
!1;b=0;for(c=this.Ua.length;b<c;b++){h=this.Ua[b];m={};m.name=h[0];m.speed=h[1];m.loop=h[2];m.ek=h[3];m.Sh=h[4];m.Um=h[5];m.I=h[6];m.frames=[];a=0;for(d=h[7].length;a<d;a++)f=h[7][a],t={},t.Bn=f[0],t.Cn=f[1],t.$e=f[2],t.bf=f[3],t.width=f[4],t.height=f[5],t.duration=f[6],t.ib=f[7],t.jb=f[8],t.kj=f[9],t.Mh=f[10],t.Vm=f[11],t.lf=0!==t.width,t.Ii="",t.zt=n,p={left:0,top:0,right:1,bottom:1},t.nk=p,t.od=null,(p=this.b.aq(f[0]))?t.$a=p:(t.$a=new Image,t.$a.Vo=f[0],t.$a.Uo=f[1],t.$a.Oo=null,this.b.ks(t.$a,
f[0])),m.frames.push(t),this.Xb.push(t);this.Ua[b]=m}}};t.Qn=function(){var b,c,a;b=0;for(c=this.c.length;b<c;b++)a=this.c[b],a.Tg=a.Eb.od};t.Fm=function(){if(!this.K){var b,c,a;b=0;for(c=this.Xb.length;b<c;++b)a=this.Xb[b],a.$a.Oo=null,a.od=null;this.Mf=!1;this.Qn()}};t.Im=function(){if(!this.K&&this.c.length){var b,c,a;b=0;for(c=this.Xb.length;b<c;++b)a=this.Xb[b],a.od=this.b.q.cm(a.$a,this.b.T,a.Vm);this.Qn()}};t.Zq=function(){if(!this.K&&!this.Mf&&this.b.q){var b,c,a;b=0;for(c=this.Xb.length;b<
c;++b)a=this.Xb[b],a.od=this.b.q.cm(a.$a,this.b.T,a.Vm);this.Mf=!0}};t.Nn=function(){if(!this.K&&!this.c.length&&this.Mf){var b,c,a;b=0;for(c=this.Xb.length;b<c;++b)a=this.Xb[b],this.b.q.deleteTexture(a.od),a.od=null;this.Mf=!1}};var u=[];t.Zm=function(b){var c,a,d;S(u);c=0;for(a=this.Xb.length;c<a;++c)d=this.Xb[c].$a,-1===u.indexOf(d)&&(b.drawImage(d,0,0),u.push(d))};h.Bb=function(b){this.type=b;this.b=b.b;b=this.type.Ua[0].frames[0].Mh;this.Dc?this.sc.xg(b):this.sc=new cb(b)};var d=h.Bb.prototype;
d.Ha=function(){this.visible=0===this.Ia[0];this.zf=0!==this.Ia[3];1===this.type.Ua.length&&1===this.type.Ua[0].frames.length||0===this.type.Ua[0].speed||this.b.Fn(this);this.ba=this.wl(this.Ia[1])||this.type.Ua[0];this.m=this.Ia[2];0>this.m&&(this.m=0);this.m>=this.ba.frames.length&&(this.m=this.ba.frames.length-1);var b=this.ba.frames[this.m];this.sc.xg(b.Mh);this.ib=b.ib;this.jb=b.jb;this.Cf=this.ba.speed;this.Dc?this.nc.reset():this.nc=new ab;this.Xc=this.nc.U;this.Vd=!0;this.Pc=0;this.Ud=!0;
this.Ci=this.Sk="";this.Ro=0;this.Bi=-1;this.type.Zq();var c,a,d,h,f,m,n,b=0;for(c=this.type.Ua.length;b<c;b++)for(h=this.type.Ua[b],a=0,d=h.frames.length;a<d;a++)f=h.frames[a],0===f.width&&(f.width=f.$a.width,f.height=f.$a.height),f.lf&&(n=f.$a,m=f.nk,m.left=f.$e/n.width,m.top=f.bf/n.height,m.right=(f.$e+f.width)/n.width,m.bottom=(f.bf+f.height)/n.height,0===f.$e&&0===f.bf&&f.width===n.width&&f.height===n.height&&(f.lf=!1));this.Eb=this.ba.frames[this.m];this.Tg=this.Eb.od};d.Qb=function(){var b=
{a:this.ba.I,f:this.m,cas:this.Cf,fs:this.Xc,ar:this.Pc,at:this.nc.U};this.Vd||(b.ap=this.Vd);this.Ud||(b.af=this.Ud);return b};d.yc=function(b){var c=this.gq(b.a);c&&(this.ba=c);this.m=b.f;0>this.m&&(this.m=0);this.m>=this.ba.frames.length&&(this.m=this.ba.frames.length-1);this.Cf=b.cas;this.Xc=b.fs;this.Pc=b.ar;this.nc.reset();this.nc.U=b.at;this.Vd=b.hasOwnProperty("ap")?b.ap:!0;this.Ud=b.hasOwnProperty("af")?b.af:!0;this.Eb=this.ba.frames[this.m];this.Tg=this.Eb.od;this.sc.xg(this.Eb.Mh);this.ib=
this.Eb.ib;this.jb=this.Eb.jb};d.qi=function(b){this.m=b?0:this.ba.frames.length-1;this.Vd=!1;this.Sk=this.ba.name;this.b.trigger(jc.prototype.j.io,this);this.b.trigger(jc.prototype.j.ho,this);this.Pc=0};d.Yo=function(){return this.nc.U};d.ab=function(){this.nc.add(this.b.zl(this));this.Ci.length&&this.cp();0<=this.Bi&&this.dp();var b=this.nc.U,c=this.ba,a=c.frames[this.m],d=a.duration/this.Cf;this.Vd&&b>=this.Xc+d&&(this.Ud?this.m++:this.m--,this.Xc+=d,this.m>=c.frames.length&&(c.Um?(this.Ud=!1,
this.m=c.frames.length-2):c.loop?this.m=c.Sh:(this.Pc++,this.Pc>=c.ek?this.qi(!1):this.m=c.Sh)),0>this.m&&(c.Um?(this.m=1,this.Ud=!0,c.loop||(this.Pc++,this.Pc>=c.ek&&this.qi(!0))):c.loop?this.m=c.Sh:(this.Pc++,this.Pc>=c.ek?this.qi(!0):this.m=c.Sh)),0>this.m?this.m=0:this.m>=c.frames.length&&(this.m=c.frames.length-1),b>this.Xc+c.frames[this.m].duration/this.Cf&&(this.Xc=b),b=c.frames[this.m],this.Ce(a,b),this.b.V=!0)};d.wl=function(b){var c,a,d;c=0;for(a=this.type.Ua.length;c<a;c++)if(d=this.type.Ua[c],
ib(d.name,b))return d;return null};d.gq=function(b){var c,a,d;c=0;for(a=this.type.Ua.length;c<a;c++)if(d=this.type.Ua[c],d.I===b)return d;return null};d.cp=function(){var b=this.ba.frames[this.m],c=this.wl(this.Ci);this.Ci="";!c||ib(c.name,this.ba.name)&&this.Vd||(this.ba=c,this.Cf=c.speed,0>this.m&&(this.m=0),this.m>=this.ba.frames.length&&(this.m=this.ba.frames.length-1),1===this.Ro&&(this.m=0),this.Vd=!0,this.Xc=this.nc.U,this.Ud=!0,this.Ce(b,this.ba.frames[this.m]),this.b.V=!0)};d.dp=function(){var b=
this.ba.frames[this.m],c=this.m;this.m=Q(this.Bi);0>this.m&&(this.m=0);this.m>=this.ba.frames.length&&(this.m=this.ba.frames.length-1);c!==this.m&&(this.Ce(b,this.ba.frames[this.m]),this.Xc=this.nc.U,this.b.V=!0);this.Bi=-1};d.Ce=function(b,c){var a=b.width,d=b.height,h=c.width,f=c.height;a!=h&&(this.width*=h/a);d!=f&&(this.height*=f/d);this.ib=c.ib;this.jb=c.jb;this.sc.xg(c.Mh);this.Da();this.Eb=c;this.Tg=c.od;a=0;for(d=this.B.length;a<d;a++)h=this.B[a],h.or&&h.or(b,c);this.b.trigger(jc.prototype.j.Ce,
this)};d.ae=function(b){b.globalAlpha=this.opacity;var c=this.Eb,a=c.lf,d=c.$a,h=this.x,f=this.y,m=this.width,n=this.height;if(0===this.k&&0<=m&&0<=n)h-=this.ib*m,f-=this.jb*n,this.b.df&&(h=Math.round(h),f=Math.round(f)),a?b.drawImage(d,c.$e,c.bf,c.width,c.height,h,f,m,n):b.drawImage(d,h,f,m,n);else{this.b.df&&(h=Math.round(h),f=Math.round(f));b.save();var p=0<m?1:-1,e=0<n?1:-1;b.translate(h,f);1===p&&1===e||b.scale(p,e);b.rotate(this.k*p*e);h=0-this.ib*ma(m);f=0-this.jb*ma(n);a?b.drawImage(d,c.$e,
c.bf,c.width,c.height,h,f,ma(m),ma(n)):b.drawImage(d,h,f,ma(m),ma(n));b.restore()}};d.Xk=function(b){this.Zb(b)};d.Zb=function(b){b.Rb(this.Tg);b.vg(this.opacity);var c=this.Eb,a=this.Mg;if(this.b.df){var d=Math.round(this.x)-this.x,h=Math.round(this.y)-this.y;c.lf?b.xe(a.Ic+d,a.Jc+h,a.Lc+d,a.Mc+h,a.qc+d,a.rc+h,a.oc+d,a.pc+h,c.nk):b.Rh(a.Ic+d,a.Jc+h,a.Lc+d,a.Mc+h,a.qc+d,a.rc+h,a.oc+d,a.pc+h)}else c.lf?b.xe(a.Ic,a.Jc,a.Lc,a.Mc,a.qc,a.rc,a.oc,a.pc,c.nk):b.Rh(a.Ic,a.Jc,a.Lc,a.Mc,a.qc,a.rc,a.oc,a.pc)};
d.lq=function(b){var c=this.Eb,a,d;a=0;for(d=c.kj.length;a<d;a++)if(ib(b,c.kj[a][0]))return a;return-1};d.aj=function(b,c){var a=this.Eb,d=a.kj,h;P(b)?h=this.lq(b):h=b-1;h=Q(h);if(0>h||h>=d.length)return c?this.x:this.y;var f=(d[h][1]-a.ib)*this.width,d=d[h][2],d=(d-a.jb)*this.height,a=Math.cos(this.k);h=Math.sin(this.k);var m=f*a-d*h,d=d*a+f*h,f=m+this.x,d=d+this.y;return c?f:d};var b=new ba,c=!1;new va(0,0,0,0);t.finish=function(d){if(c){if(d){var h=this.b.Xa().xb.Ac;d=null.S();var a=b.Sd(),k,m;
if(d.X){d.X=!1;S(d.c);k=0;for(m=a.length;k<m;++k)d.c[k]=a[k];if(h)for(S(d.N),k=0,m=null.c.length;k<m;++k)a=null.c[k],b.contains(a)||d.N.push(a)}else if(h)for(h=d.c.length,k=0,m=a.length;k<m;++k)d.c[h+k]=a[k],Da(d.N,a[k]);else Aa(d.c,a);null.ud()}b.clear();c=!1}};m.prototype.ho=function(b){return ib(this.Sk,b)};m.prototype.io=function(){return!0};m.prototype.Ce=function(){return!0};h.j=new m;h.mc=new function(){};h.vc=new function(){}})();function W(n){this.b=n}
(function(){function n(b){l=b.x;a=b.y;k=b.z}function m(a){q=a.x;f=a.y;x=a.z}function h(a,b,c,d){var e;e=C.length?C.pop():new t;e.init(a,b,c,d);return e}function t(){this.Ag=this.id=this.y=this.x=this.$h=this.Zh=this.zj=this.time=this.qk=0;this.Fg=this.fi=!1}function u(){}function d(){}var b=W.prototype;b.Oc=function(a){this.ma=a;this.b=a.b};b.Oc.prototype.Ha=function(){};b.Bb=function(a){this.type=a;this.b=a.b;this.touches=[];this.Ij=!1};var c=b.Bb.prototype,g={left:0,top:0};c.Gf=function(a){var b,
c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var l=0,a=0,k=0,q=0,f=0,x=0,C=[];t.prototype.init=function(a,b,c,d){var e=Xa();this.qk=this.zj=this.time=e;this.Zh=a;this.$h=b;this.x=a;this.y=b;this.id=c;this.Ag=d;this.Fg=this.fi=!1};t.prototype.update=function(a,b,c){this.zj=this.time;this.time=a;this.x=b;this.y=c;!this.Fg&&15<=Ta(this.Zh,this.$h,this.x,this.y)&&(this.Fg=!0)};t.prototype.cr=function(a,b){!this.fi&&500<=Xa()-this.qk&&!this.Fg&&15>Ta(this.Zh,this.$h,
this.x,this.y)&&(this.fi=!0,a.Kc=this.Ag,a.of=this.id,a.Ke=b,a.b.trigger(W.prototype.j.po,a),a.Sc=this.x,a.Tc=this.y,a.b.trigger(W.prototype.j.qo,a),a.Ke=0)};var p=-1E3,e=-1E3,r=-1E4;t.prototype.vm=function(a,b){if(!this.fi){var c=Xa();333>=c-this.qk&&!this.Fg&&15>Ta(this.Zh,this.$h,this.x,this.y)&&(a.Kc=this.Ag,a.of=this.id,a.Ke=b,666>=c-r&&25>Ta(p,e,this.x,this.y)?(a.b.trigger(W.prototype.j.no,a),a.Sc=this.x,a.Tc=this.y,a.b.trigger(W.prototype.j.oo,a),e=p=-1E3,r=-1E4):(a.b.trigger(W.prototype.j.xo,
a),a.Sc=this.x,a.Tc=this.y,a.b.trigger(W.prototype.j.Jk,a),p=this.x,e=this.y,r=c),a.Ke=0)}};c.Ha=function(){this.Tq=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Ke=this.of=this.Kc=this.Tc=this.Sc=this.Pk=this.Ok=this.Nk=this.Eo=this.Do=this.Co=this.ng=this.mg=this.lg=0;this.hs=0!==this.Ia[0];var a=0<this.b.Wa?document:this.b.canvas,b=document;this.b.Na?b=a=window.Canvas:this.b.Jb&&(b=a=window);var c=this;window.navigator.pointerEnabled?(a.addEventListener("pointerdown",function(a){c.Hm(a)},
!1),a.addEventListener("pointermove",function(a){c.Gm(a)},!1),b.addEventListener("pointerup",function(a){c.Jh(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.Jh(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},
!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.Hm(a)},!1),a.addEventListener("MSPointerMove",function(a){c.Gm(a)},!1),b.addEventListener("MSPointerUp",function(a){c.Jh(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.Jh(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.Km(a)},
!1),a.addEventListener("touchmove",function(a){c.Jm(a)},!1),b.addEventListener("touchend",function(a){c.Rj(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.Rj(a,!0)},!1));if(this.Tq){var d=function(a){a=a.reading;c.Nk=a.accelerationX;c.Ok=a.accelerationY;c.Pk=a.accelerationZ},e=function(a){a=a.reading;c.lg=a.yawDegrees;c.mg=a.pitchDegrees;c.ng=a.rollDegrees},f=Windows.Devices.Sensors.Accelerometer.getDefault();f&&(f.reportInterval=Math.max(f.minimumReportInterval,16),f.addEventListener("readingchanged",
d));var g=Windows.Devices.Sensors.Inclinometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(f&&f.removeEventListener("readingchanged",d),g&&g.removeEventListener("readingchanged",e)):(f&&f.addEventListener("readingchanged",d),g&&g.addEventListener("readingchanged",e))},!1)}else window.addEventListener("deviceorientation",function(a){c.lg=a.alpha||
0;c.mg=a.beta||0;c.ng=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.Co=a.accelerationIncludingGravity.x||0,c.Do=a.accelerationIncludingGravity.y||0,c.Eo=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.Nk=a.acceleration.x||0,c.Ok=a.acceleration.y||0,c.Pk=a.acceleration.z||0)},!1);this.hs&&!this.b.da&&(jQuery(document).mousemove(function(a){c.mr(a)}),jQuery(document).mousedown(function(a){c.lr(a)}),jQuery(document).mouseup(function(a){c.nr(a)}));
this.b.Ne&&!this.b.Na&&AppMobi.accelerometer.watchAcceleration(n,{frequency:40,adjustForRotation:!0});this.b.Kb&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(m,null,{frequency:40});this.b.Yr(this)};c.Gm=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.Gf(a.pointerId),c=Xa();if(0<=b){var d=this.b.da?g:jQuery(this.b.canvas).offset(),b=this.touches[b];2>c-b.time||
b.update(c,a.pageX-d.left,a.pageY-d.top)}}};c.Hm=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&jb(a)&&a.preventDefault();var b=this.b.da?g:jQuery(this.b.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top;Xa();this.Kc=this.touches.length;this.of=a.pointerId;this.touches.push(h(c,b,a.pointerId,this.Kc));this.b.kb=!0;this.b.trigger(W.prototype.j.Ik,this);this.b.trigger(W.prototype.j.Mk,this);this.Sc=c;this.Tc=b;this.b.trigger(W.prototype.j.Lk,this);
this.b.kb=!1}};c.Jh=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&jb(a)&&a.preventDefault();var c=this.Gf(a.pointerId);this.Kc=0<=c?this.touches[c].Ag:-1;this.of=0<=c?this.touches[c].id:-1;this.b.kb=!0;this.b.trigger(W.prototype.j.Hk,this);this.b.trigger(W.prototype.j.Kk,this);0<=c&&(b||this.touches[c].vm(this,c),100>C.length&&C.push(this.touches[c]),this.touches.splice(c,1));this.b.kb=!1}};c.Jm=function(a){a.preventDefault&&a.preventDefault();
var b=Xa(),c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.Gf(e.identifier),0<=f){var h=this.b.da?g:jQuery(this.b.canvas).offset();f=this.touches[f];2>b-f.time||f.update(b,e.pageX-h.left,e.pageY-h.top)}};c.Km=function(a){a.preventDefault&&jb(a)&&a.preventDefault();var b=this.b.da?g:jQuery(this.b.canvas).offset();Xa();this.b.kb=!0;var c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.Gf(e.identifier),-1===f){f=e.pageX-b.left;var k=e.pageY-
b.top;this.Kc=this.touches.length;this.of=e.identifier;this.touches.push(h(f,k,e.identifier,this.Kc));this.b.trigger(W.prototype.j.Ik,this);this.b.trigger(W.prototype.j.Mk,this);this.Sc=f;this.Tc=k;this.b.trigger(W.prototype.j.Lk,this)}this.b.kb=!1};c.Rj=function(a,b){a.preventDefault&&jb(a)&&a.preventDefault();this.b.kb=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.Gf(e.identifier),0<=e&&(this.Kc=this.touches[e].Ag,this.of=this.touches[e].id,this.b.trigger(W.prototype.j.Hk,
this),this.b.trigger(W.prototype.j.Kk,this),b||this.touches[e].vm(this,e),100>C.length&&C.push(this.touches[e]),this.touches.splice(e,1));this.b.kb=!1};c.Xk=function(){return this.b.Ne&&0===this.lg&&0!==k?90*k:this.b.Kb&&0===this.lg&&0!==x?90*x:this.lg};c.Yo=function(){return this.b.Ne&&0===this.mg&&0!==a?-90*a:this.b.Kb&&0===this.mg&&0!==f?90*f:this.mg};c.yt=function(){return this.b.Ne&&0===this.ng&&0!==l?90*l:this.b.Kb&&0===this.ng&&0!==q?90*q:this.ng};c.lr=function(a){this.Km({changedTouches:[{pageX:a.pageX,
pageY:a.pageY,identifier:0}]});this.Ij=!0};c.mr=function(a){this.Ij&&this.Jm({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};c.nr=function(a){a.preventDefault&&this.b.Gl&&!this.b.Oe&&a.preventDefault();this.b.Gl=!0;this.Rj({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Ij=!1};c.rk=function(){var a,b,c,d=Xa();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.zj=d),c.cr(this,a)};u.prototype.Mk=function(){return!0};u.prototype.Kk=function(){return!0};
u.prototype.Lk=function(a){return a?this.b.bi(a,this.Sc,this.Tc):!1};u.prototype.Ik=function(a){a=Math.floor(a);return a===this.Kc};u.prototype.Hk=function(a){a=Math.floor(a);return a===this.Kc};u.prototype.po=function(){return!0};u.prototype.xo=function(){return!0};u.prototype.no=function(){return!0};u.prototype.qo=function(a){return a?this.b.bi(a,this.Sc,this.Tc):!1};u.prototype.Jk=function(a){return a?this.b.bi(a,this.Sc,this.Tc):!1};u.prototype.oo=function(a){return a?this.b.bi(a,this.Sc,this.Tc):
!1};b.j=new u;d.prototype.zo=function(a,b){var c=this.Ke;if(0>c||c>=this.touches.length)a.n(0);else{var d,e,f,g,h;ga(b)?(d=this.b.Hf(0),e=d.scale,f=d.qd,g=d.dd,h=d.k,d.scale=1,d.qd=1,d.dd=1,d.k=0,a.n(d.eb(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.qd=f,d.dd=g,d.k=h):(d=ha(b)?this.b.Hf(b):this.b.bj(b))?a.n(d.eb(this.touches[c].x,this.touches[c].y,!0)):a.n(0)}};d.prototype.Ao=function(a,b){var c=this.Ke;if(0>c||c>=this.touches.length)a.n(0);else{var d,e,f,g,h;ga(b)?(d=this.b.Hf(0),e=d.scale,
f=d.qd,g=d.ed,h=d.k,d.scale=1,d.qd=1,d.ed=1,d.k=0,a.n(d.eb(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.qd=f,d.ed=g,d.k=h):(d=ha(b)?this.b.Hf(b):this.b.bj(b))?a.n(d.eb(this.touches[c].x,this.touches[c].y,!1)):a.n(0)}};b.vc=new d})();function ic(){return[kc,lc,jc,W,lc.prototype.j.Fk,jc.prototype.mc.$n,V.prototype.mc.yo,V.prototype.mc.Zn,kc.prototype.mc.Play,W.prototype.j.Jk]};
